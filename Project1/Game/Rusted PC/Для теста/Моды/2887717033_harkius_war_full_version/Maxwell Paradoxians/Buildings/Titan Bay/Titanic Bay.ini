[core]
name: M_Titanic
displayText: TCB 
displayDescription: -Titanic Contruction Bay. \n- Prepares the ultimate weapons of war. \n-Heavily armoured. Equiped with long range missile launcher. \n-Self repairs. \n-Goes nuclear on death.  \n-All titans will emit a dangerously large nuclear blast upon death.
class: CustomUnitMetadata
price: 45000
maxHp: 15000
mass: 9000

generation_credits: 30
generation_delay: 40

copyFrom: ROOT:Building_AI_Base.ini
borrowResourcesWhileAlive: AA=-1, AG=-1
tags: Building, Turret2, Factory, NoCap, AA, AG, Economy, anti-orbital, AO


#footprint used for collisions with units (left, up, right, down)
footprint: -3,-2,2,2
#used for placement, and placement of other buildings
constructionFootprint: -3, -2, 2, 4

selfRegenRate: 0.5


buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0




disableAllUnitCollisions: true




techLevel: 3
buildSpeed: 0.00025
#availableInDemo: true

radius: 100
#displayRadius: 80
isBio: false
isBuilding: true
isBuilder: true

exit_x: 0
exit_y: -1

softCollisionOnAll: 3


nukeOnDeath: true
nukeOnDeathRange: 200
nukeOnDeathDamage: 5000
nukeOnDeathDisableWhenNoNuke: true



[hiddenAction_Started]
takeResources: EAA=-3, EAG=-3, EAO=-2, ETurret=-3, EAntiArmour=-3
[hiddenAction_Started_UpdateAlly]
takeResources: AA=-3, AG=-3, AO=-2, AntiArmour=-3
[hiddenAction_Killed]
takeResources: EAA=3, EAG=3, EAO=2, ETurret=3, EAntiArmour=3
[hiddenAction_Killed_UpdateAlly]
takeResources: AA=3, AG=3, AO=2, AntiArmour=3
#TotalUnit=-1




[canBuild_rally]
name: setRally
pos: -1
#isLocked: false
#isLockedMessage: NONE
#isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)

[canBuild_1]
name: M_Centipede
pos: 1

[canBuild_2]
name: M_QuantemL
pos: 2

[canBuild_3]
name: M_Kaiju
pos: 3

[canBuild_4]
name: M_HW
pos: 4

#[canBuild_5]
#name: M_OrionR
#pos: 5
#addResources: setFlag=2


[action_Build5]
text: Summon Orion Hunter
descriptionAddFromUnit: M_OrionR
descriptionAddUnitStats: M_OrionR
unitShownInUI: M_OrionR
ai_considerSameAsBuilding
buildSpeed: 20s
playSoundGlobally:ROOT:SuperWarning.ogg
showMessageToAllEnemyPlayers: WARNING, abnormal entity approaching battlefield. 
pos: 5
price: credits=1900000
alsoQueueAction: buildingSuper


[hiddenAction_buildingSuper]
#autoTrigger: if self.hasFlag(id=2)
highPriorityQueue: true
spawnUnits: M_OrionR(offsetHeight=50000)
#addResources: unsetFlag=2
addResources: unsetFlag=1
buildSpeed: 430s




[animation_build]
#onActions: idle

#arm1_5s: {x:0, y: 45}
#arm2_5s: {x:0, y: 15}
#arm3_5s: {x:0, y: 30}
#arm4_5s: {x:0, y: 60}

arm1_5s: {x:0, y: -45}
arm2_5s: {x:0, y: -15}
arm3_5s: {x:0, y: -30}
arm4_5s: {x:0, y: -60}

arm1_10s: {x:0, y: 0}
arm2_10s: {x:0, y: 0}
arm3_10s: {x:0, y: 0}
arm4_10s: {x:0, y: 0}


[hiddenAction_triggerAnim]
autoTriggerOnEvent: queuedUnitFinished
playAnimationIfNotPlaying: build2

[animation_build2]
arm1_0.1s: {x:0, y: 45}
arm2_0.1s: {x:0, y: 15}
arm3_0.1s: {x:0, y: 30}
arm4_0.1s: {x:0, y: 60}

arm1_25s: {x:0, y: 0}
arm2_25s: {x:0, y: 0}
arm3_25s: {x:0, y: 0}
arm4_25s: {x:0, y: 0}



[hiddenAction_EndgameTank1]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=2200000) and not self.hasFlag(id=1)
alsoQueueAction: Build5
addResources: setFlag=1, credits=-1900000




[hiddenAction_EndgameTank4]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Titan', greaterThan=3) and self.hasResources(credits=650000) and not self.hasFlag(id=1)
alsoQueueAction: EndgameTank5
addResources: setFlag=1, credits=-420000

[hiddenAction_EndgameTank5]
buildSpeed: 250s
alsoQueueAction: Endgame6
spawnUnits: M_Kaiju
playAnimationIfNotPlaying: build2

[hiddenAction_Endgame6]
buildSpeed: 0.1s
addResources: unsetFlag=1




[hiddenAction_EndgameTank7]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Titan', greaterThan=0) and self.hasResources(credits=400000) and not self.hasFlag(id=1)
alsoQueueAction: EndgameTank8
addResources: setFlag=1, credits=-260000

[hiddenAction_EndgameTank8]
buildSpeed: 0.0001
alsoQueueAction: Endgame9
spawnUnits: M_QuantemL
playAnimationIfNotPlaying: build2

[hiddenAction_Endgame9]
buildSpeed: 0.1s
addResources: unsetFlag=1





[graphics]
total_frames: 1

image:        top.png
image_back: floor.png
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 600
shootDelay: 70




[turret_1]

#missiles
x: 0
y: 30
invisible: true
projectile: 1
turnSpeed: 10

shoot_sound:missile_fire
shoot_sound_vol:0.7
canShoot: true

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


shoot_light:#ff0000
warmup: 35
delay: 35




[projectile_1]
#missile
directDamage: 140
drawSize: 0.8
life: 600
speed: 0.3
targetSpeed: 6
trailEffect: true
largeHitEffect: true
areaRadius: 50
areaDamage: 95
ballistic: true
ballistic_delaymove_height:40
ballistic_height: 50
frame: 4


autoTargetingOnDeadTarget: true

mutator1_ifUnitWithTags: orbital
mutator1_directDamageMultiplier: 4
mutator1_areaDamageMultiplier: 2

armourIgnoreAmount: 500


[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

[arm_1]
x: 0
y: -15
image_end: door.png

[arm_2]
x: 0
y: 15
image_end: door.png


[arm_3]
x: 0
y: 0
image_end: door.png

[arm_4]
x: 0
y: -30
image_end: door.png



[ai]


buildPriority: 0.05

noneInBaseExtraPriority: 0.05

noneGlobalExtraPriority: 0.18


maxEachBase: 1

maxGlobal: 6



