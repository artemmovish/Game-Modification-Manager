
[core]
name: M_WalkFac2
displayText: Walker Factory 
displayDescription: -Factory for the production of mechs and HAD units \n- Can be upgraded for better defences and units.  
class: CustomUnitMetadata
price: 3000
maxHp: 1150
mass: 9000


copyFrom: Factory1.ini
tags: NoCap, Factory, Building, Repair



techLevel: 2
buildSpeed: 0.0007
#availableInDemo: true


canRepairBuildings: true
canRepairUnits : true


canReclaimResources: true


autoRepair: true


nanoRange: 220


nanoRepairSpeed: 0.35
nanoBuildSpeed: 1


[action_upgrade_1]
convertTo: M_WalkFac3
price:  6000
text: Upgrade
description: -Builds more advanced machines. \n-Increased repair range. \n-Adds an explosive turret.

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: EAG=-1, ETurret=-1
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AG=-1





[canBuild_R]
name: reclaim
pos: -1
#isLocked: false
#isLockedMessage: NONE
#isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)


[canBuild_Taran]
name: M_Taran
pos: 3
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Shield', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Cliff', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)


[canBuild_Scorpion]
name: M_scor
pos: 3
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Cliff', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0)

[canBuild_Ursa]
name: M_ursa
pos: 3
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Cliff', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)


[canBuild_Range]
name: M_Predator
pos: 4
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Range', greaterThan=0)





[hiddenAction_QuotaHunter]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and self.hasResources(credits=20000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Q_Cliff', greaterThan=0)
alsoQueueAction: QuotaHunter2
addResources: setFlag=1, credits=-1700

[hiddenAction_QuotaHunter2]
buildSpeed: 0.002
alsoQueueAction: FinishBuild
produceUnits: M_Hunt


[hiddenAction_QuotaTar]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and self.hasUnitInTeam(withTag='Q_Shield', greaterThan=0) and self.hasResources(credits=25000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Q_Cliff', greaterThan=0)
alsoQueueAction: QuotaTar2
addResources: setFlag=1, credits=-1900

[hiddenAction_QuotaTar2]
buildSpeed: 22s
alsoQueueAction: FinishBuild
spawnUnits: M_Taran


[hiddenAction_QuotaRange]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0) and self.hasResources(credits=30000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Q_Cliff', greaterThan=0)
alsoQueueAction: QuotaRange2
addResources: setFlag=1, credits=-3900

[hiddenAction_QuotaRange2]
buildSpeed: 32s
alsoQueueAction: FinishBuild
spawnUnits: M_Predator


[hiddenAction_QuotaAA]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasResources(credits=30000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Q_Cliff', greaterThan=0)
alsoQueueAction: QuotaAA2
addResources: setFlag=1, credits=-3200

[hiddenAction_QuotaAA2]
buildSpeed: 30s
alsoQueueAction: FinishBuild
spawnUnits: M_ursa




[graphics]
total_frames: 1

image:        WF2.png
image_back: base.png
image_wreak:  ruin.png




[attack]
canAttack: false
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 300
shootDelay: 100


[turret_nanoTurret]
x: 0
y: 0
warmup: 30
turnSpeed: 20
invisible: true
canShoot: true

isMainNanoTurret: true







[ai]

upgradedFrom: M_WalkFac


useAsBuilder: true


