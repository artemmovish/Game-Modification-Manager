
[core]
name: M_A1
displayText: AA blaster 
displayDescription: -Twin anti-air disruptors. \n-Rapidly fires concentrated disruptor bolts.   
class: CustomUnitMetadata
price: 500
maxHp: 700
mass: 9000



copyFrom: ROOT:Building_AI_Base.ini
tags: Building, Turret, AA


#footprint used for collisions with units (left, up, right, down)
footprint: -1,-1,0,0
#used for placement, and placement of other buildings
constructionFootprint: -1, -1, 0, 0

buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0


techLevel: 1
buildSpeed: 0.002
#availableInDemo: true




disableAllUnitCollisions: true




radius: 15
#displayRadius: 80
isBio: false
isBuilding: true



softCollisionOnAll: 3


#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5


[hiddenAction_Started]
takeResources: EAA=-1, ETurret=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=0
[hiddenAction_Killed]
takeResources: EAA=1, ETurret=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=0
#TotalUnit=-1




[action_upgradeGun]
convertTo: M_A2
price:  800
text: Quad Barrel
description: -Increases speed and range. 
displayType: Upgrade
buildSpeed: 10s
pos: 0.2
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: EAA=-2, EAntiLD=-1, ETurret=-2
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AA=-1


[action_upgradeRocket]
convertTo: M_AR
price:  1500
text: Interceptor launcher
description: -Fires a long range missile. \n-Slow reload. \n-High damage. \n-Strong vs groups. 
displayType: Upgrade
buildSpeed: 10s
pos: 0.2
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat2, upStat_UpdateAlly2

[hiddenAction_upStat2]
@copyFromSection: hiddenAction_Started
takeResources: EAA=-2, ETurret=-2, EAntiArmour=-1, EAO=-1
[hiddenAction_upStat_UpdateAlly2]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AA=-1



[hiddenAction_TriggerUpgrade1]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=10000) and not self.hasUnitInTeam(withTag='Quad', greaterThan=0, withinRange=400) and not self.hasFlag(id=1)
alsoQueueAction: upgradeGun
addResources: credits=-800, setFlag=1


[hiddenAction_TriggerUpgrade2]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=12500) and not self.hasUnitInTeam(withTag='Rocket', greaterThan=0, withinRange=400) and not self.hasFlag(id=1)
alsoQueueAction: upgradeRocket
addResources: credits=-1500, setFlag=1







[graphics]
total_frames: 1

image:        base.png
image_back: NONE
image_wreak:  ruin.png

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 220
shootDelay: 100
turretMultiTargeting: false



[turret_1]

#right gunning arm

x: -5
y: 8
projectile: 1
attachedTo: 3
slave: true

shoot_sound:ROOT:Audio/shot1 short.ogg
shoot_sound_vol:0.1
shoot_flame:small
shoot_light:#FFFFFFAA

image: barrel1.png

canShoot: true

delay: 15
warmup: 5

recoilOffset: -2
recoilOutTime: 5
recoilReturnTime: 10

[turret_2]

#right gunning arm

x: 5
y: 8
projectile: 1
attachedTo: 3
slave: true

copyFrom: 1

linkDelayWithTurret: 1
warmup: 10



[turret_3]
x: 0
y: 6

turnSpeed: 3
turnSpeedAcceleration: 0.5

image: A1.png

canShoot: false

shouldResetTurret: false

idleSpin: 2

[projectile_1]
directDamage: 30
life: 50
speed: 10


image: shot.png

#explodeEffect: CUSTOM:blast



[effect_blast]
life: 20


hOffset: 0
dirOffset: 0

fadeInTime: 0
fadeOut: false

attachedToUnit: false


image: explo1.png
total_frames: 8
animateFrameStart: 0
animateFrameEnd: 7
animateFramePingPong: false
animateFrameSpeed: 1.5
scaleFrom: 1
scaleTo: 1


[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

buildPriority: 0.25
#noneInBaseExtraPriority: 0.2


maxEachBase: 4


ai_upgradePriority: 0.5



