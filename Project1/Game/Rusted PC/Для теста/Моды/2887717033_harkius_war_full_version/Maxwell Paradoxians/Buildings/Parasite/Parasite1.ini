
[core]
name: M_Parasite1
displayText: Parasite core.
displayDescription: A parasite core, spreading through the ground. \n -Strong armour. \n- Repairs nearby buildings and self regens. \n-Builds powerful turrets around it.  \n-Generates credits at level 2.
class: CustomUnitMetadata
price: 2000
maxHp: 2000
mass: 200000

copyFrom: ROOT:Building_AI_Base.ini
tags: Building, Turret, NoCap, ParasiteGround

#footprint used for collisions with units (left, up, right, down)
footprint: -1,-1,1,1
#used for placement, and placement of other buildings
constructionFootprint:-1,-1,1,1

techLevel: 2
experimental: false

buildSpeed: 0.0002
selfBuildRate: 0.001
#availableInDemo: true




disableAllUnitCollisions: true




selfRegenRate:0.1

radius: 25
#displayRadius: 25
isBio: false
softCollisionOnAll: 3

isBuilding: true

canRepairBuildings: true
canRepairUnits : false

autoRepair: true
isBuilder: true

nanoRange: 140

nanoRepairSpeed: 2
nanoBuildSpeed: 1.5

generation_credits: 3
generation_delay: 40







canBuild_1_name: M_mortor, M_storm
canBuild_1_pos:  1


canBuild_10_name: reclaim
canBuild_10_pos:  -1


[hiddenAction_Started]
takeResources: ETurret=-1
[hiddenAction_Started_UpdateAlly]
takeResources: TotalUnit=0
[hiddenAction_Killed]
takeResources: ETurret=1
[hiddenAction_Killed_UpdateAlly]
takeResources: TotalUnit=0
#TotalUnit=-1

[hiddenAction_removeTag]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStation', greaterThan=0, withinRange=1000) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Titan', greaterThan=0, withinRange=720) or self.isControlledByAI() and self.hp(lessThan=1000)
temporarilyRemoveTags: Safety
temporarilyAddTags: RUN


[hiddenAction_ResetTag]
autoTrigger: if self.isControlledByAI() and not numberOfUnitsInEnemyTeam(withTag='TiStation', greaterThan=0, withinRange=1000) and not numberOfUnitsInEnemyTeam(withTag='Titan', greaterThan=0, withinRange=800) and self.hp(greaterThan=1000)
resetToDefaultTags: true


[action_upgrade]
convertTo: M_Parasite2
price:  4000
text: Finalise Development
description: Improves stats. \n-Can create more buildings.
displayType: upgrade
buildSpeed: 35s
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: ETurret=-2
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AntiArmour=0



[hiddenAction_TriggerUpgrade]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=20000)
alsoQueueAction: upgrade
addResources: credits=-4000





[graphics]
total_frames: 1

image:        pod.png
image_wreak:  ruin.png
image_turret: NONE


image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 18
turretTurnSpeed: 4
maxAttackRange: 140
shootDelay: 5

[turret_1]
#nano turret
x: 0
y: 0
warmup:10
invisible: true

size: 20

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turnSpeedAcceleration: 0.5

isMainNanoTurret: true






[movement]
movementType: LAND
#OVER_CLIFF
moveSpeed: 0
moveAccelerationSpeed: 0
moveDecelerationSpeed: 0

#landOnGround: true


maxTurnSpeed: 0
turnAcceleration: 0

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  45


slowDeathFall: true


[ai]
useAsBuilder: true


buildPriority: 0.1

noneInBaseExtraPriority: 0.45


#upgradedFrom: M_ParasiteF
maxEachBase: 1