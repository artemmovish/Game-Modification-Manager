[core]
name: M_Defence
displayText: Defence Tower 
displayDescription: -laser defence and a powerful perimiter laser. \n-Durable.   
class: CustomUnitMetadata
price: 2200
maxHp: 3700
mass: 9000


copyFrom: ROOT:Building_AI_Base.ini
borrowResourcesWhileAlive: AA=-1, AG=-1, LD=-1
tags: Building, Turret, Armour, AA, AG, LD

#footprint used for collisions with units (left, up, right, down)
#footprint: 0,0,0,1
#used for placement, and placement of other buildings
#constructionFootprint: 0, 0, 0, 1

buildingToFootprintOffsetX:10
buildingToFootprintOffsetY:0

selfRegenRate:0.1

techLevel: 2
buildSpeed: 0.002
#availableInDemo: true




disableAllUnitCollisions: true




radius: 15
#displayRadius: 80
isBio: false
isBuilding: true


energyMax: 200
energyRegen: 0.1
energyNeedsToRechargeToFull: true


armour: 2


softCollisionOnAll: 3


#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5




[hiddenAction_Started]
takeResources: EAA=-1, EAG=-1, ELD=-1, ETurret=-1
[hiddenAction_Started_UpdateAlly]
takeResources: AA=-1, AG=-1, LD=-1
[hiddenAction_Killed]
takeResources: EAA=1, EAG=1, ELD=1, ETurret=1
[hiddenAction_Killed_UpdateAlly]
takeResources: AA=1, AG=1, LD=1
#TotalUnit=-1




[hiddenAction_drained]
autoTrigger: if self.energy(lessThan=1)
temporarilyAddTags: drained


[hiddenAction_restore]
autoTrigger: if self.energy(greaterThan=190)
resetToDefaultTags: true




[graphics]
total_frames: 1

image:        defence.png
image_back: NONE
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 170
shootDelay: 100
turretMultiTargeting: true


[turret_1]
x: 0
y: 7
canShoot: false

invisible: true

laserDefenceEnergyUse: 9
size:1
#limitingRange: 150


[turret_2]
x: 0
y: 7
invisible: true
turnSpeed: 10
projectile: 1
delay: 1
warmup: 1
shoot_sound: NONE
shoot_sound_vol: 1
shoot_flame:large
shoot_light:#FFEECCCC

energyUsage: 2






[projectile_1]
directDamage: 15
life: 5
speed: 25

laserEffect: true
instantReuseLast: true



lightSize: 2
drawSize: 0.3

armourIgnoreAmount: 20

instant:true
largeHitEffect: false

deflectionPower: -1
pushForce: 3000






[arm_1]
x: 0
y: 0
image_end: defence_off.png
image_end_teamColors: true
drawOverBody: true
hidden: if not self.tags(includes='drained')





[movement]
movementType: LAND
#OVER_CLIFF
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

buildPriority: 0.5

#maxEachBase: 7




