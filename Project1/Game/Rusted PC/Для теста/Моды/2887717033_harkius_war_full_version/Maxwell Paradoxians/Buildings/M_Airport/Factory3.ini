
[core]
name: M_Air3
displayText: Airport 
displayDescription: -Factory Airport that launches aircraft. \n- Armed with an interceptor silo.    
class: CustomUnitMetadata
price: 10200
maxHp: 2300
mass: 9000
copyFrom: Factory2.ini
tags: NoCap, Building, Factory, antinuke


generation_credits: 4
generation_delay: 40
fogOfWarSightRange: 50




techLevel: 3
buildSpeed: 0.001
#availableInDemo: true



action_1_convertTo: IGNORE
action_1_displayType: IGNORE
action_1_price:  IGNORE
action_1_text: IGNORE
action_1_buildSpeed: IGNORE


[canBuild_Bomber]
name: M_Bomber
pos: 5
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Range', greaterThan=0)

[canBuild_Experimental]
name: M_Sentinel, M_Warship
pos: 6

[canBuild_Parasite]
name: M_ParasiteF
pos: 0.3










[action_buildAntiNuke]
price:  3700
text: i:gui.actions.buildAntiNuke
description: Builds anti-nuke interceptor missiles. \n-Max of 6 in storage. 
displayType: NONE
buildSpeed: 0.001
pos: 0.2
isActive:if self.ammoIncludingQueued(lessThan=6)
addResources: ammo=1

ai_isDisabled: if self.ammo(greaterThan=2)
isLocked: if not game.nukesEnabled()


[action_showAntiNukeCount]
#infoOnly: true
addResources: ammo=1
price:  ammo=1
text: i:gui.actions.antiNukeCount
description:i:gui.actions.antiNukeCount.description
displayType: none
buildSpeed: 0s
pos: 0.1
displayRemainingStockpile: true
highPriorityQueue: true
isActive:false
isVisible: if game.nukesEnabled()



[hiddenAction_AntiN]
autoTrigger: if self.isControlledByAI() and self.ammo(lessThan=1) and self.hasResources(credits=8000) and not self.hasFlag(id=1) and game.nukesEnabled()
alsoQueueAction: AntiN2
addResources: setFlag=1, credits=-3700

[hiddenAction_AntiN2]
buildSpeed: 16.7s
alsoQueueAction: AntiN3
addResources: ammo=1

[hiddenAction_AntiN3]
buildSpeed: 2s
addResources: unsetFlag=1












[hiddenAction_QuotaSentinal]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasResources(credits=45000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) or self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0) and self.hasResources(credits=45000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0)
alsoQueueAction: QuotaSentinal2
addResources: setFlag=1, credits=-16000

[hiddenAction_QuotaSentinal2]
buildSpeed: 115s
alsoQueueAction: FinishBuild
spawnUnits: M_Sentinel


[hiddenAction_QuotaBomber]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and self.hasResources(credits=50000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0)
alsoQueueAction: QuotaBomber2
addResources: setFlag=1, credits=-16500

[hiddenAction_QuotaBomber2]
buildSpeed: 80s
alsoQueueAction: FinishBuild
spawnUnits: M_Bomber



[hiddenAction_QuotaSkyCtrl]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_LD', greaterThan=0) and self.hasResources(credits=50000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) or self.isControlledByAI() and self.NumberOfUnitsInTeam(withTag='antinuke', withinRange=1000) < self.NumberOfUnitsInEnemyTeam(withTag='NukeLauncher') and self.hasResources(credits=50000) and not self.hasFlag(id=1)
alsoQueueAction: SkyCtrl2
addResources: setFlag=1, credits=-13000

[hiddenAction_SkyCtrl2]
buildSpeed: 0.00035
alsoQueueAction: FinishBuild
spawnUnits: M_SkyC





[hiddenAction_Para1]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Parair', greaterThan=1) and self.hasResources(credits=30000) and not self.hasFlag(id=1)
alsoQueueAction: Para2
addResources: setFlag=1, credits=-2500

[hiddenAction_Para2]
buildSpeed: 20s
alsoQueueAction: FinishBuild
spawnUnits: M_ParasiteF










[graphics]
total_frames: 1

image:        l.png
image_back: NONE
image_wreak:  ruin.png

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1


[arm_1]
x: 0
y: 0
image_end: 3.png
image_end_teamColors: true
drawOverBody: false
drawUnderAllUnits: true




[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
maxAttackRange: 1700



[turret_silo]
#anti-nuke turret
x: 30
y: 25
idleDir:0

invisible: true


interceptProjectiles_withTags: nuke
interceptProjectiles_andTargetingGroundUnderDistance: 1000
interceptProjectiles_andUnderDistance: 1700
interceptProjectiles_andOverHeight:50


shoot_sound:nuke_launch
shoot_sound_vol:0.15
shoot_light:#FFEECCCC

projectile: antiNukeProjectile
size: 1

turnSpeed: 40

resourceUsage: ammo=1

shoot_flame:shockwave, smoke
#shoot_flame:custom:nukeLaunch



[projectile_antiNukeProjectile]
#anti-nuke
directDamage: 600

life: 99999
speed: 0.2
targetSpeed: 7
targetSpeedAcceleration:0.05

trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
frame: 10
#shadowFrame:1

drawType:0

targetGround: true
areaDamage: 100
areaRadius: 60

areaExpandTime:75

deflectionPower:-1


lightColor: #FFEEEE00
lightSize: 1

alwaysVisibleInFog: true






[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]




ai_upgradePriority: 0.4

upgradedFrom: M_Air


