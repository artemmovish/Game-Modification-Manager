
[core]
name: M_Satalite2
displayText: OSCT
displayDescription: -Orbital Strike Co-ordinations Tower. \n- Incredibly long Fog of War vision. \n-Heavily armoured. \n-Performs Orbital strikes that create Area Denial for a limited time. \n-Orbital strike has reduced effectiveness against buildings.   
class: CustomUnitMetadata
price: 37500
maxHp: 10000
mass: 9000

generation_credits: 1
generation_delay: 40
copyFrom: ROOT:Building_AI_Base.ini
tags: Building, anti-stealth, NukeLauncher

isLockedIfGameModeNoNuke:true

#footprint used for collisions with units (left, up, right, down)
footprint: -2,-1,1,1
#used for placement, and placement of other buildings
constructionFootprint: -2, -1, 1, 1




disableAllUnitCollisions: true




buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0
fogOfWarSightRange: 400



techLevel: 1
buildSpeed: 0.0005
#availableInDemo: true

radius: 50
#displayRadius: 80
isBio: false
isBuilding: true

softCollisionOnAll: 3

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5

energyMax: 1
energyRegen: 0.0002
energyNeedsToRechargeToFull: true


exit_x:0
exit_y:-1

[action_buildNuke]
price:  credits=15000, energy=1
text: Prepare orbital strike
description: Contacts a satalite or orbital warship to prepare a strike. 
displayType: NONE
buildSpeed: 35s
pos: 0.2
isActive:if self.ammoIncludingQueued(lessThan=3)
addResources: ammo=1




[action_launchNuke]
fireTurretXAtGround: siloTop
price:  ammo=1

text: Perform Strike
description: Mark out the location and nuke'em.
displayType: action
buildSpeed: 5s
pos: 0.1
displayRemainingStockpile: true
highPriorityQueue: true
onlyOneUnitAtATime: true
#playSoundGlobally:NewDropWarning.ogg
isLocked: if self.isControlledByAI()








[graphics]
total_frames: 1

image:        tower2.png
image_back: NONE
image_wreak:  ruin.png

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[hiddenAction_attack1]
autoTrigger: if self.isControlledByAI() and not self.hasActiveWaypoint(type='attack')
clearAllWaypoints: true
#addWaypoint_prepend: true
addWaypoint_type: attack
addWaypoint_target_nearestUnit_maxRange: 9999
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_target_nearestUnit_tagged: Safety

[hiddenAction_attack2]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Titan', greaterThan=0)
clearAllWaypoints: true
#addWaypoint_prepend: true
addWaypoint_type: attack
addWaypoint_target_nearestUnit_maxRange: 9999
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_target_nearestUnit_tagged: Titan

[hiddenAction_attack3]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='FormLeader', greaterThan=0, withinRange=1000)
clearAllWaypoints: true
#addWaypoint_prepend: true
addWaypoint_type: attack
addWaypoint_target_nearestUnit_maxRange: 9999
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_target_nearestUnit_tagged: FormLeader


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
maxAttackRange: 150000

turretMultiTargeting: true
aimOffsetSpread:0



[turret_siloTop]
#nuke turret
canShoot: false

x: 0
y: 25
idleDir:0

invisible: true

shoot_sound:NONE
shoot_sound_vol:0.5
shoot_light:#FFEECCCC

projectile: nukeProjectile
size: 1

turnSpeed: 40



#limitingMinRange: 325


[turret_1]
x: 0
y: 0
invisible: true
canShoot: true
projectile: 1
shoot_sound: NONE
turnSpeed: 25

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

shoot_sound:ROOT:Audio/alarm.ogg
shoot_sound_vol:0.5
shoot_flame:shockwave
shoot_light:#FFff925c

delay: 1s
warmup: 4s
limitingRange: 1500
canOnlyAttackUnitsWithTags: stealth


[turret_2]
x: 0
y: 0
invisible: true
canShoot: true
projectile: 1
shoot_sound: NONE
turnSpeed: 25
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

shoot_sound:NONE
shoot_sound_vol:0.27
shoot_flame:NONE

delay: 1000
warmup: 1000




[turret_AINuke]
#nuke turret
canShoot: true

x: 0
y: 25
idleDir:0

invisible: true

shoot_sound:NONE
shoot_sound_vol:0.27
shoot_light:#FFEECCCC



projectile: nukeProjectile
size: 1

turnSpeed: 40

warmup: 40s
#warmupCallDownRate: 60
delay: 40s


limitingMinRange: 800
canAttackCondition: if self.isControlledByAI() and self.hasResources(ammo=1)
resourceUsage: ammo=1





[projectile_1]
image: target.png
speed: 2
life: 1500
largeHitEffect: false
trailEffect: false
hitSound: false
deflectionPower: -1
directDamage: 0
explodeEffect: CUSTOM:Lock



[projectile_nukeProjectile]
#nuke
tags: nuke

directDamage: 1

life: 99999
speed: 4
targetSpeed: 4
targetSpeedAcceleration:0.03


largeHitEffect: true
ballistic: true
ballistic_delaymove_height:900
ballistic_height: 100

#image: Orb blast.png
drawType:2
frame: 7
trailEffect: false

targetGround: true
areaDamage: 850
areaHitAirAndLandAtSameTime: true
alwaysVisibleInFog: true

areaRadius: 200

areaExpandTime:100

deflectionPower:-1

spawnUnit: M_AreaDenial

shouldRevealFog:true
nukeWeapon:true


friendlyFire: false

explodeEffect: CUSTOM:strike
mutator1_ifUnitWithTags: orbital
mutator1_directDamageMultiplier: 0
mutator1_areaDamageMultiplier: 0
effectOnCreate: CUSTOM:launch




[effect_strike]
priority:high

alwayStartDirAtZero: true

image: strike.png
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFramePingPong: false
animateFrameSpeed: 0.5

alsoPlaySound: ROOT:Audio/blast.ogg

life: 50
fadeOut: false
attachedToUnit: false

scaleFrom: 1
scaleTo: 1.3
alpha: 1
drawUnderUnits:false



[effect_launch]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #63e6e8
fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.6
alpha: 0.4
alsoPlaySound: ROOT:Audio/NewDropWarning.ogg


[effect_Lock]
life: 40


hOffset: 0
dirOffset: 0

fadeInTime: 0
fadeOut: false

attachedToUnit: false


image: target.png

scaleFrom: 10
scaleTo: 1







[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

#buildPriority: 0

#noneInBaseExtraPriority: 0


ai_upgradePriority: 0.2
maxGlobal: 3
upgradedFrom: M_Satalite

#disableUse: true

