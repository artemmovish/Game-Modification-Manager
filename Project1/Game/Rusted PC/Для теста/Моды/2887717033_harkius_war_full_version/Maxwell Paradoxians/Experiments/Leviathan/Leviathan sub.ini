
[core]
name: M_Lev_Sub
class: CustomUnitMetadata
displayText: Leviathan
displayDescription: Leviathan class heavy ocean clearance device. \n -Decent movment speed. \n -Self repairs. \n-Heavy armour. \n-Extremely high attack power. \-Increased defence while submerged, increased power and speed while surfaced. \n-Goes nuclear on death.

price: 47500
maxHp: 12000
mass: 30000

copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Water=-9, AG=-9, AA=-3, AntiArmour=-9, Armour=-3, Artillery=-1, AS=-9
tags: Unit, Navy, AG3, AA2, AntiArmour3, Armour2, Range, CanLead2, AS3

generation_credits: -25
generation_delay: 40

techLevel: 3
buildSpeed: 120s
availableInDemo: false

experimental: true

radius: 30
#displayRadius: 11
isBio: false
#softCollisionOnAll: 3
fogOfWarSightRange: 30

selfRegenRate:1

nukeOnDeath: true
nukeOnDeathRange: 100
nukeOnDeathDamage: 5000
nukeOnDeathDisableWhenNoNuke: true

armour: 22
tags: Lev

transportSlotsNeeded: 16


[hiddenAction_Started]
takeResources: EWater=-9, AG=-9, EAA=-3, EAntiArmour=-9, EArmour=-3, EArtillery=-1, EAS=-9
[hiddenAction_Started_UpdateAlly]
takeResources: Water=-9, AG=-9, AA=-3, AntiArmour=-9, Armour=-3, Artillery=-1, AS=-9
[hiddenAction_Killed]
takeResources: EWater=9, EAG=9, EAA=3, EAntiArmour=9, EArmour=3, EArtillery=1, EAS=9
[hiddenAction_Killed_UpdateAlly]
takeResources: Water=9, AG=9, AA=3, AntiArmour=9, Armour=3, Artillery=1, AS=9
#TotalUnit=-1


[action_sur]

convertTo: M_Lev_Sur
displayType: action
price: 0
text: Surface
buildSpeed: 1.8s
whenBuilding_cannotMove: false
whenBuilding_playAnimation: sur
descriptionAddUnitStats: ${section.convertTo}



[animation_sur]
blendIn: 0s
#arm1_.5s: {x:0, y:12}
#arm2_.5s: {x:0, y:20}
#arm3_.5s: {x:10, y:10}
#arm4_.5s: {x:-10, y:10}
#arm5_.5s: {x: 0, y:30}


arm1_1.8s: {x:0, y:8}
arm2_1.8s: {x:0, y:10}
arm3_1.8s: {x:21, y:0}
arm4_1.8s: {x:-21, y:0}
arm5_1.8s: {x: 0, y:10}


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=10000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=5000)
temporarilyAddTags: Retreat







[graphics]
total_frames: 1

teamColorsOnTurret: true
drawLayer: experimentals

image:        lev body.png
image_wreak:  NONE
image_turret: lev head.png

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: NONE
shadowOffsetX:2
shadowOffsetY:2

#lock_body_rotation_with_main_turret: true

splastEffect: true

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits:false

turretSize: 20
turretTurnSpeed: 5
#isFixedFiring: true

maxAttackRange: 200
shootDelay: 50
turretRotateWithBody: true




[turret_main]
x: 0
y: 0
idleDir: 0
canAttack: false
limitingRange: 1



[turret_1]
#torpedo
invisible: true
x: 15
y: 16
attachedTo: main
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false

projectile: 1
size: 0
#turnSpeed: 15

turnSpeed: 0
canAttackMaxAngle: 181

delay: 65
warmup: 0



[turret_2]
#back turret
copyFrom: 1
x: -15
y: 16
attachedTo: main
idleDir:0
warmup:20
projectile: 1
linkDelayWithTurret:1




[projectile_1]
#torpedo
directDamage: 200
life: 40
speed: 1.2
targetSpeed: 3.5
targetSpeedAcceleration: 0.06

drawSize: 2
color: #1E1E96
trailEffect: true
largeHitEffect: true

deflectionPower: -1

wobbleAmplitude: 0.25
wobbleFrequency: 0.4s

turnSpeed:1

#startingTurnSpeed:1
#targetTurnSpeed:3

lightSize:0.8

#spawnProjectilesOnEndOfLife: torpedo_split(offsetDir=90), torpedo_split(offsetDir=-90), torpedo_split(offsetDir=00)
spawnProjectilesOnEndOfLife: torpedoLocked

[projectile_torpedoLocked]
@copyFromSection: projectile_1
life: 300
turnSpeed:6
spawnProjectilesOnEndOfLife: NONE






[arm_1]
x: 0
y: 12
image_end: lev part.png

[arm_2]
x: 0
y: 20
image_end: lev part.png

[arm_3]
x:4
y:10
image_end:lev right.png
image_end_teamColors: true
drawOverBody:false


[arm_4]
x:-4
y:10
image_end: lev left.png
image_end_teamColors: true
drawOverBody:false

[arm_5]
x: 0
y: 25
image_end: lev head.png 
image_end_teamColors: true
drawOverBody:true


[movement]
movementType: WATER
moveSpeed: 0.8
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.25
reverseSpeedPercentage: 0.7

maxTurnSpeed: 1.2
turnAcceleration: 0.1

moveSlidingMode :false
moveIgnoringBody:false
moveSlidingDir:  45

targetHeight: -5
targetHeightDrift: 2



[ai]

ai_upgradePriority: 0.6

