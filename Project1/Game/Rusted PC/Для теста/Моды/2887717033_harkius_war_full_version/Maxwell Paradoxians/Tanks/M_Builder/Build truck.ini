
[core]
name: M build truck
displayText: Maxwell Construction Truck
displayDescription: An armoured builder. \n -Very slow. \n-Can repair units \n-Can unleash a pulse that pushes all nearby ground units.
class: CustomUnitMetadata

price: 700
maxHp: 600
mass: 5000

isPickableStartingUnit: false
copyFrom: ROOT:Builder_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-1
tags: Unit, Ground, builder, NoCap


techLevel: 1
experimental: false

buildSpeed: 0.002



radius: 20
displayRadius: 20




transportSlotsNeeded: 1


isBio: false
isBuilder: true



canRepairBuildings: true
canRepairUnits : true


canReclaimResources: true


autoRepair: false


nanoRange: 180


nanoRepairSpeed: 0.25
nanoBuildSpeed: 1


energyMax: 1
energyRegen: 0.0003



[hiddenAction_Started]
takeResources: EGround=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-1
[hiddenAction_Killed]
takeResources: EGround=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=1
#TotalUnit=-1


[canBuild_1]
name: reclaim
pos: -1
#isLocked: false
#isLockedMessage: NONE
#isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)

[canBuild_economy]
name: M_Extractor, M_Fabric1
pos: 1



[canBuild_turrets]
name: M_G1, M_A1, M_SG1, M_SA1, M_T1, M_Skyfire turret1
pos: 2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)


[canBuild_buildings]
name: M_LightFac, M_WalkFac, M_Air, M_Barrac, M_Dock, MaxwellPort, M_Titanic
pos: 3
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)


[canBuild_nuke]
name: M_Satalite
pos: 5
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)


[canBuild_antiorbit]
name: M_ORBs
pos: 2
isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)









[hiddenAction_TriggerPush]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Ground', greaterThan=3, withinRange=200) and self.isEnergyFull() and not self.hasUnitInTeam(withTag='Titan', greaterThan=0, withinRange=400) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Ground2', greaterThan=1, withinRange=200) and self.isEnergyFull() and not self.hasUnitInTeam(withTag='Titan', greaterThan=0, withinRange=400) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Ground3', greaterThan=0, withinRange=200) and self.isEnergyFull() and not self.hasUnitInTeam(withTag='Titan', greaterThan=0, withinRange=400)
alsoQueueAction: Pusher
addResources: energy=-1


[action_manualPush]
isVisible: true
addResources: energy=-1
alsoQueueAction: Pusher
isActive: if self.isEnergyFull()
isLocked: if self.hasUnitInTeam(withTag='Titan', greaterThan=0, withinRange=400)
isLockedMessage: Allied titan is too close to the blast zone.
pos: 0.05
text: Pulse Blast
description: -Unleashes a shock wave that repells units of all weights. \n-Effects your own units as well.\n-Cannot be used when allied titans are nearby. 
buildSpeed: 0s
onlyOneUnitAtATime: true

[hiddenAction_Pusher]
#autoTrigger: true
#addEnergy: -1
buildSpeed: 0s
fireTurretXAtGround: shock
fireTurretXAtGround_withOffset: 0,0
alsoQueueAction: Pusher2


[hiddenAction_Pusher2]
@copyFromSection: hiddenAction_Pusher
buildSpeed: 0.1s
alsoQueueAction: Pusher3

[hiddenAction_Pusher3]
@copyFromSection: hiddenAction_Pusher
buildSpeed: 0.1s
alsoQueueAction: Pusher4

[hiddenAction_Pusher4]
@copyFromSection: hiddenAction_Pusher
buildSpeed: 0.1s
alsoQueueAction: Pusher5

[hiddenAction_Pusher5]
@copyFromSection: hiddenAction_Pusher
buildSpeed: 0.1s
alsoQueueAction: Pusher6

[hiddenAction_Pusher6]
@copyFromSection: hiddenAction_Pusher
buildSpeed: 0.1s
alsoQueueAction: Pusher7

[hiddenAction_Pusher7]
@copyFromSection: hiddenAction_Pusher
buildSpeed: 0.1s
alsoQueueAction: Pusher8

[hiddenAction_Pusher8]
@copyFromSection: hiddenAction_Pusher
buildSpeed: 0.1s
alsoQueueAction: Pusher9

[hiddenAction_Pusher9]
@copyFromSection: hiddenAction_Pusher
buildSpeed: 0.1s
alsoQueueAction: Pusher10

[hiddenAction_Pusher10]
@copyFromSection: hiddenAction_Pusher
buildSpeed: 0.1s
alsoQueueAction: IGNORE




[hiddenAction_buildAO]
autoTrigger: if self.isControlledByAI() and self.NumberOfUnitsInTeam(withTag='Q_AO', greaterThan=0) and self.hasResources(credits=32000) and not self.tags(includes='Formation') and not self.tags(includes='Retreat') and not self.tags(includes='Attacking') and not self.tags(includes='DEFEND') and not self.hasActiveWaypoint(type='build')
requireConditional: if self.NumberOfUnitsInTeam(withTag='AOTurret', lessThan=1, withinRange=400) and self.NumberOfUnitsInTeam(withTag='Factory', greaterThan=0, withinRange=250)
addWaypoint_unitType: M_ORBs
addResources: credits=-8000


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=550)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=400)
temporarilyAddTags: Retreat












[graphics]
total_frames: 2
teamColorsOnTurret: true
image:        Truck.png
image_wreak: truck ruin.png
image_turret: NONE


animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 1

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


[turret_nanoTurret]
#right arm
x: 0
y: 4
warmup:30

turnSpeed: 4
size: 8


canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isMainNanoTurret: true







[turret_shock]
#nuke turret
canShoot: false

x: 0
y: 0
idleDir:0

invisible: true

shoot_sound:NONE
#shoot_sound_vol:0.5
#shoot_light:#FFEECCCC

projectile: Push
size: 1

turnSpeed: 40





[projectile_Push]
#nuke
#tags: nuke

directDamage: 1

life: 10

instant: true

drawType:2
frame: 7
trailEffect: false

targetGround: true
targetGroundSpread: 1

areaDamage: 0
largeHitEffect: true

areaHitAirAndLandAtSameTime: false
areaHitUnderwaterAlways: false


areaRadius: 360
#areaExpandTime:40
areaIgnoreUnitsCloserThan: 25


deflectionPower:-1
friendlyFire: true
#pushForce: 15000
pushVelocity: 3
areaRadiusFromEdge: false





[projectile_1]

#You punched me! The tanks never punched me!


directDamage: 75
instant: true
laserEffect: false
life: 5
largeHitEffect: true
areaRadius: 20
areaDamage: 0







[movement]
movementType: LAND
moveSpeed: 0.68
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.07

maxTurnSpeed: 1.0
turnAcceleration: 0.1
targetHeight:0.5
moveSlidingMode :false
moveIgnoringBody:false
moveSlidingDir: 0
reverseSpeedPercentage:0.8

slowDeathFall: false




[ai]
useAsBuilder: true



