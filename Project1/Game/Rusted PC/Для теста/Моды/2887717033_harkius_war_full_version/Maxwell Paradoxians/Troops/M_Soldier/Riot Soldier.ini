
[core]
name: MR_Soldier
displayText: MDF Riot Trooper
displayDescription: A highly trained soldier with a light weapon. \n-Slow. \n-Has a shield and projectile defence. \n-A heavy trooper meant to stall ground offensives.
class: CustomUnitMetadata
price: 1000
maxHp: 150
mass: 15000

techLevel: 1
buildSpeed: 12s
#availableInDemo: true

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-0.5, Cliff=-0.5, AG=-0.2, LD=-0.5, Shield=-0.5
tags: Unit, Ground, Cliff, AG, Small, LD, CanLead2, Shield

radius: 9
displayRadius: 12

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  1


isBio: true
softCollisionOnAll: 2


#transportSlotsNeeded: 0.25

energyMax: 1
energyRegen: 0.001
energyNeedsToRechargeToFull: true

maxShield: 200
shieldRegen: 0.15



[hiddenAction_Started]
takeResources: EGround=-0.5, ECliff=-0.5, EAG=-0.2, ELD=-0.5, EShield=-0.5
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-0.5, Cliff=-0.5, AG=-0.2, LD=-0.5, Shield=-0.5
[hiddenAction_Killed]
takeResources: EGround=0.5, ECliff=0.5, EAG=0.2, ELD=0.5, EShield=0.5
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=0.5, Cliff=0.5, AG=0.2, LD=0.5, Shield=0.5
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=135)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=120)
temporarilyAddTags: Retreat


[animation_attack]
onActions: attack
pingPong: false
body_0s: {frame: 2}
body_0.2s: {frame: 1}


[graphics]
total_frames: 2

image:        riot soldier.png
image_wreak:  corpse.png
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:0.5
shadowOffsetY:0.5

imageScale:0.6


dustEffect: false

lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 1
turretTurnSpeed: 5

isFixedFiring: true


maxAttackRange: 150
shootDelay: 20

aimOffsetSpread: 0
isMelee: false


[turret_1]
#it's hiiiiiigh noon
x: -4
y: 3

#invisible: true
projectile: 1

turnSpeed: 3.0
turnSpeedAcceleration: 1.0

shoot_sound:plasma_fire
shoot_sound_vol:0.3
shoot_flame:NONE
shoot_light:#FFFFFFAA

canShoot: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
warmup: 20


[turret_6]

x: 0
y: 0
canShoot: false
invisible: true


laserDefenceEnergyUse: 0.2

limitingRange: 100

size:1



[projectile_1]
#HAD gatling
directDamage: 25
life: 30
speed: 10
drawSize: 1.2
largeHitEffect: false
trailEffect: true
image: u shot.png
lightSize: 0.5

explodeEffect: CUSTOM:projectilePassThough2

explodeEffectOnShield: CUSTOM:hitLightFlash2


[effect_projectilePassThough2]

priority:high
image: u effect.png
life: 20
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 0.8
scaleTo: 0.1
alpha: 1
drawUnderUnits:false
ySpeedRelative:1.5
atmospheric: true



[effect_hitLightFlash2]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1
scaleTo: 0.2
alpha: 0.8
drawUnderUnits:false




[movement]
movementType: OVER_CLIFF
moveSpeed: 0.75
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.1
targetHeight: 1
maxTurnSpeed: 6
turnAcceleration: 1.5

moveSlidingMode :false
moveIgnoringBody:true
