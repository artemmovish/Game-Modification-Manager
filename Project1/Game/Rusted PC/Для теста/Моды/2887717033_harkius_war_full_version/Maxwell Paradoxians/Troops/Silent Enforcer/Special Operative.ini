
[core]
name: M_SE
displayText: Silent Enforcer
displayDescription: Subtlety is key. \n -Can plant bombs while camoflaged. \n -Can fire sniper rifle while not camoflaged. \n-Bombs can be blocked by laser defence and take a long time to place. \n-Enforcers must be able to investigate any organisation.  
class: CustomUnitMetadata
price: 3000
maxHp: 200
mass: 100

borrowResourcesWhileAlive: TotalUnit=-1, Ground=-1, Cliff=-1, AG=-1, AA=-1, AntiArmour=-1, Artillery=-1, AS=-1, Stealth=-3
tags: Unit, Ground, Cliff, AG, AA, AntiArmour, Small, Range, AS, Stealth, isStealth


techLevel: 2
buildSpeed: 35s
#availableInDemo: true

radius: 9
displayRadius: 12

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  1




isBio: true
softCollisionOnAll: 2

energyMax: 5
energyRegen: 0.006
energyNeedsToRechargeToFull: false

#transportSlotsNeeded: 0.25




[hiddenAction_Started]
takeResources: EGround=-1, ECliff=-1, EAG=-1, EAA=-1, EAntiArmour=-1, EArtillery=-1, EAS=-1, EStealth=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-1, Cliff=-1, AG=-1, AA=-1, AntiArmour=-1, Artillery=-1, AS=-1, Stealth=-3
[hiddenAction_Killed]
takeResources: EGround=1, ECliff=1, EAG=1, EAA=1, EAntiArmour=1, EArtillery=1, EAS=1, EStealth=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=1, Cliff=1, AG=1, AA=1, AntiArmour=1, Artillery=1, AS=1, Stealth=3
#TotalUnit=-1






[action_switchStealth]

convertTo: M_SE hide
buildSpeed: 0s
text: Stealth Mode
isVisible: true
#isLocked: if not self.hasUnitInTeam(withTag='Armoury', greaterThan=0, withinRange=150)
whenBuilding_cannotMove: true
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withinRange=350, greaterThan=1) or self.isControlledByAI() and not self.hp(full=true)
descriptionAddUnitStats: ${section.convertTo}




[hiddenAction_retreat]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=200) and not self.hasActiveWaypoint(type='move')
clearAllWaypoints: false
addWaypoint_prepend: true
addWaypoint_type: move
addWaypoint_target_nearestUnit_maxRange: 9999
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: Safety




[graphics]
total_frames: 1

image:        silent.png
image_wreak:  NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:0.5
shadowOffsetY:0.5
imageScale:0.6


dustEffect: false

lock_body_rotation_with_main_turret: true
isVisibleToEnemies: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 1
turretTurnSpeed: 5

isFixedFiring: true

maxAttackRange: 400






[turret_1]
#Boom, headshot	
x: 3
y: 4

#invisible: true
projectile: 1

turnSpeed: 4.0
turnSpeedAcceleration: 1.0

shoot_sound: cannon_firing
shoot_sound_vol: 0.01
shoot_flame: NONE
shoot_light:#77ccff


canShoot: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

delay: 160
warmup: 60




[projectile_1]
speed: 25
drawSize: 0.95
drawType:2
frame: 4
color: #BB99DD
directDamage: 100
instant:false
laserEffect: false
life: 90
trailEffect: true






[movement]
movementType: OVER_CLIFF_WATER
moveSpeed: 0.9
moveAccelerationSpeed: 0.2
moveDecelerationSpeed: 0.2

targetHeight: 1

maxTurnSpeed: 6
turnAcceleration: 0.9

moveSlidingMode :false
moveIgnoringBody:false
