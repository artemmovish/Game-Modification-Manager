
[core]
name: M_REnforce
displayText: Range Enforcer
displayDescription: Hit 'em right between the eyes! \n-Powerful long range attacks. \n-Main beam can bypass shielding, but is weak against buildings.\n-The Enforcers are the military police of Maxwell.
class: CustomUnitMetadata
price: 9000
maxHp: 450
mass: 1500

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-3, Cliff=-3, AG=-3, AA=-3, AntiShield=-3, AntiLD=-1, Armour=-1, Artillery=-1
tags: Unit, Ground2, Cliff2, AG2, AA2, ALD, Armour, Small, AntiShield2, Range

techLevel: 2
buildSpeed: 50s
#availableInDemo: true

generation_credits: -20
generation_delay: 40

radius: 9
displayRadius: 12

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  1


isBio: true
softCollisionOnAll: 2


#transportSlotsNeeded: 0.25

energyMax: 14
energyRegen: 0.035
energyNeedsToRechargeToFull: true

selfRegenRate:0.2



armour: 3


[hiddenAction_Started]
takeResources: EGround=-3, ECliff=-3, EAG=-3, EAA=-3, EAntiShield=-3, EAntiLD=-1, EArmour=-1, EArtillery=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-3, Cliff=-3, AG=-3, AA=-3, AntiShield=-3, AntiLD=-1, Armour=-1, Artillery=-1
[hiddenAction_Killed]
takeResources: EGround=3, ECliff=3, EAG=3, EAA=3, EAntiShield=3, EAntiLD=1, EArmour=-1, EArtillery=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=3, Cliff=3, AG=3, AA=3, AntiShield=3, AntiLD=1, Armour=-1, Artillery=1
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=445)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=440)
temporarilyAddTags: Retreat



[animation_attack]
onActions: attack
pingPong: false
body_0s: {frame: 2}
body_0.2s: {frame: 1}




[graphics]
total_frames: 2

image:        Trooper.png
image_wreak:  corpse.png
image_turret: gun.png

image_shadow: AUTO
shadowOffsetX:0.5
shadowOffsetY:0.5

imageScale:0.6
turretImageScale:0.75

dustEffect: false

lock_body_rotation_with_main_turret: false


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 1
turretTurnSpeed: 5

isFixedFiring: true


maxAttackRange: 320
shootDelay: 45

aimOffsetSpread: 0
isMelee: false

turretRotateWithBody: true

turretMultiTargeting: true



[turret_1]
#Charged plasma cannon 40 gigawatt range
x: 3
y: 4

invisible: true
projectile: 1

turnSpeed: 4.0
turnSpeedAcceleration: 1.0


shoot_sound:NONE
shoot_sound_vol:0.3
shoot_flame:NONE
shoot_light:#FFFFFFAA

canShoot: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
warmup: 0
delay: 2

#chargeEffectImage: charge small.png

energyUsage: 1

[turret_2]
#Ima firin mah laser
x: -3
y: -1
idleDir: 0
invisible: false

projectile: 2



shoot_sound:plasma_fire
shoot_sound_vol:0.3
shoot_flame:shockwave
shoot_light:#FFFFFFAA

canShoot: true

warmup: 5
delay: 15



[turret_3]
#FIRRRRRRRRRRRRRRRE!
x: -3
y: 4
idleDir: 0
invisible: true

projectile: 3



shoot_sound:NONE
shoot_sound_vol:0.3
shoot_flame:NONE
shoot_light:#FFFFFFAA

canShoot: true

warmup: 0
delay: 1
limitingRange: 150



[projectile_1]
directDamage: 40
life: 1
speed: 25


beamImage:      Beam.png
beamImageEnd:   BeamEnd.png
beamImageStart: BeamStart.png
#beamImageOffsetRate: 1.5
beamImageOffsetRate: 5


color: #00b1ff
lightColor: #00b1ff
lightSize: 0.1
drawSize: 0.5

largeHitEffect: false
instant:true
instantReuseLast: true



shieldDamageMultiplier: 1.3
shieldDefectionMultiplier: 0.2

buildingDamageMultiplier: 0.5

explodeEffect:CUSTOM:lightningShock, CUSTOM:sparks*10


explodeEffectOnShield:CUSTOM:lightningShock*1, CUSTOM:hitLightFlash


[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 17
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false


[effect_lightningShock]
life: 60


hOffset: 0
dirOffset: 0

fadeInTime: 0
fadeOut: false

attachedToUnit: true


image: SHARED:lightning_shock.png
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFramePingPong: false
animateFrameSpeed: 0.5



[effect_sparks]
attachedToUnit: false
life: 150
physics: true
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6
hSpeed: 2
image: SHARED:spark.png
priority: verylow

[effect_sparks2]
attachedToUnit: false
life: 150
physics: true
xSpeedRelativeRandom: 0.5
ySpeedRelativeRandom: 0.5
hSpeed: 1
image: SHARED:spark.png
priority: verylow



[projectile_2]
#directDamage: 15
life: 50
speed: 7

drawSize: 1

image: shot.png
color: #BB99DD
directDamage: 40

laserEffect: false
life: 90
trailEffect: true

largeHitEffect: false
instant:false
trailEffect: CUSTOM:projectileTrail
trailEffectRate:0.2



[effect_projectileTrail]
image: shot.png
life: 10
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1




[projectile_3]
#FIRE FIRE FIRE
life: 50
speed: 9
targetSpeed: 4
targetSpeedAcceleration: 0.3

speedSpread: 0.5

image: skyfire.png
flameWeapon: true
hitSound: false

drawSize: 0.5

targetGround:true
targetGroundSpread: 10

deflectionPower: -1

areaDamage: 12
areaRadius: 40

explodeEffect: CUSTOM:attachedFlame, CUSTOM:attachedLight

trailEffect: CUSTOM:smoke2



[effect_smoke1]
priority:veryhigh


image: smoke.png
atmospheric: true


life: 30
fadeOut: true
attachedToUnit: false
#color: #fdc14d
spawnChance: 0.2

fadeInTime:15
scaleFrom: 0.4
scaleTo: 0.6
alpha: 0.2
drawUnderUnits:false
hSpeed: 0.3

[effect_smoke2]
priority:veryhigh


image: smoke.png
atmospheric: true


life: 20
fadeOut: true
attachedToUnit: false
#color: #fdc14d


fadeInTime:2
scaleFrom: 0.9
scaleTo: 0.4
alpha: 0.5
drawUnderUnits:false




[effect_attachedFlame]
priority:veryhigh


image: smoke.png
atmospheric: true


life: 20
fadeOut: true
attachedToUnit: false
#color: #fdc14d


fadeInTime:15
scaleFrom: 0.2
scaleTo: 1
alpha: 0.7
drawUnderUnits:false
physics: true
ySpeedRelative:0.4
hSpeed: 0.3


[effect_attachedLight]
priority:veryhigh

image: SHARED:light_50.png
life: 10
fadeOut: true
attachedToUnit: false
color: #fdc14d
fadeInTime:4
scaleFrom: 0.5
scaleTo: 0.3
alpha: 0.7
drawUnderUnits:false


[movement]
movementType: OVER_CLIFF
moveSpeed: 1.8
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.1
targetHeight: 1
maxTurnSpeed: 7
turnAcceleration: 1

moveSlidingMode :false
moveIgnoringBody:true
