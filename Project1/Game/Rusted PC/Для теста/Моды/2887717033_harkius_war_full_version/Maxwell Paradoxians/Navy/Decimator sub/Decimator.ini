
[core]
name: M_Dec_Down
class: CustomUnitMetadata
displayText: Decimator carrier sub
displayDescription: Armed with a deadly torpedo launcher, can only attack while underwater. \n -Can transport units and hover on land while surfaced.  

price: 8000
maxHp: 2500
mass: 30000

techLevel: 2
buildSpeed: 35s
availableInDemo: false

radius: 25
#displayRadius: 11
isBio: false
#softCollisionOnAll: 3


copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, AntiNavy=-3, AS=-3, Water=-1
tags: Unit, AntiNavy2, AS2, dropship





transportUnitsRequireMovementType: WATER, HOVER, OVER_CLIFF_WATER, LAND
transportUnitsCanUnloadUnits: false
#transportUnitsCanUnloadUnits: if self.isOverLiquid()
transportUnitsRequireTag: nonexistent


[hiddenAction_Started]
takeResources: EAntiNavy=-3, EAS=-3, ENavy=-1
[hiddenAction_Started_UpdateAlly]
takeResources: AntiNavy=-3, AS=-3, Water=-1
[hiddenAction_Killed]
takeResources: EAntiNavy=3, EAS=3, ENavy=1
[hiddenAction_Killed_UpdateAlly]
takeResources: AntiNavy=3, AS=3, Water=1
#TotalUnit=-1


[action_dive]
text: Surface
convertTo: M_Dec_Up
buildSpeed: 0.9s
descriptionAddUnitStats: ${section.convertTo}



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=2000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=1500)
temporarilyAddTags: Retreat


[graphics]
total_frames: 1

image:        decimator.png
image_wreak:  dec ruin.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

lock_body_rotation_with_main_turret: true



[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits:false

turretSize: 20
turretTurnSpeed: 1.5
isFixedFiring: false

maxAttackRange: 200
shootDelay: 50





[turret_main]
x: 0
y: 0
idleDir: 0
canAttack: false
limitingRange: 1




[turret_1]
#torpedo
invisible: true
x: 8
y: 10
idleDir:0
attachedTo: main
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false

projectile: 1
size: 1.1
#turnSpeed: 15

turnSpeed: 0
canAttackMaxAngle: 181

delay: 60
warmup: 0



[turret_2]
#back turret
copyFrom: 1
attachedTo: main
x: -8
y: 10
idleDir:0
warmup:20
projectile: 1
linkDelayWithTurret:1




[projectile_1]
#torpedo
directDamage: 70
life: 40
speed: 1.2
targetSpeed: 5
targetSpeedAcceleration: 0.04

drawSize: 1
color: #1E1E96
trailEffect: true
largeHitEffect: true

deflectionPower: -1

wobbleAmplitude: 0.25
wobbleFrequency: 0.4s

turnSpeed:1.5

#startingTurnSpeed:1
#targetTurnSpeed:3

lightSize:0.2

#spawnProjectilesOnEndOfLife: torpedo_split(offsetDir=90), torpedo_split(offsetDir=-90), torpedo_split(offsetDir=00)
spawnProjectilesOnEndOfLife: torpedoLocked

[projectile_torpedoLocked]
@copyFromSection: projectile_1
life: 300
turnSpeed:6
spawnProjectilesOnEndOfLife: NONE



[movement]
movementType: WATER
moveSpeed: 0.9
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.06

maxTurnSpeed: 0.85
turnAcceleration: 0.2

#moveSlidingMode :false
#moveIgnoringBody:false
#moveSlidingDir:  45


targetHeight: -10
targetHeightDrift: 0.5



[ai]

upgradedFrom: M_Dec_Up
ai_upgradePriority: 0.6




