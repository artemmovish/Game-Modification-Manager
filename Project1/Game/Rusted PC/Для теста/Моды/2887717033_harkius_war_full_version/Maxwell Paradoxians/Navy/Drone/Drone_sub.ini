
[core]
name: M_DroneSub
displayText: Undersea Drone
displayDescription: -Attacks waterborne targets only. 
class: CustomUnitMetadata
price: 325
maxHp: 150
mass: 1000

copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, AS=-1, AntiNavy=-1
tags: Unit, AS, AntiNavy

techLevel: 1
buildSpeed: 3.5s
availableInDemo: false

radius: 7
#displayRadius: 11
isBio: false
#softCollisionOnAll: 3



[hiddenAction_Started]
takeResources: EAS=-1, EAntiNavy=-1
[hiddenAction_Started_UpdateAlly]
takeResources: AS=-1, AntiNavy=-1
[hiddenAction_Killed]
takeResources: EAS=1, EAntiNavy=1
[hiddenAction_Killed_UpdateAlly]
takeResources: AS=1, AntiNavy=1
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=130)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=70)
temporarilyAddTags: Retreat



[graphics]
total_frames: 1

image:        drone.png
image_wreak:  drone ruin.png
image_turret: NONE



#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2
#splastEffect: true

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false


turretSize: 20
turretTurnSpeed: 1.5


isFixedFiring: true
maxAttackRange: 50
shootDelay: 100




[turret_1]
#torpedo
invisible: true
x: 0
y: 0
idleDir:0

#canAttackFlyingUnits: false
#canAttackLandUnits:   true
#canAttackUnderwaterUnits: true
#canAttackNotTouchingWaterUnits: false

delay: 45
warmup: 20

projectile: torpedo
size: 1
turnSpeed: 15




[projectile_torpedo]
#torpedo
directDamage: 35
life: 250
speed: 0.2
targetSpeed: 2
targetSpeedAcceleration: 0.03

largeHitEffect: true
drawSize: 0.9
color: #551E1E96
lightSize: 0.1
lightColor: #000000
trailEffect: true
largeHitEffect: true

deflectionPower: -1

[movement]
movementType: WATER
moveSpeed: 1.5
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.03

maxTurnSpeed: 1.1
turnAcceleration: 0.05

#moveSlidingMode :false
#moveIgnoringBody:false
#moveSlidingDir:  45

#moveSlidingMode :true
#moveIgnoringBody:true
#moveSlidingDir:  181
targetHeight: -8
targetHeightDrift: 0.4

maxTurnSpeed: 2.5
turnAcceleration: 0.05






