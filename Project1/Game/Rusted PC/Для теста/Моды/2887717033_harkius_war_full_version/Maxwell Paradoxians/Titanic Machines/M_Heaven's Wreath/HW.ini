[core]
name: M_HW
displayText: Heaven's Wrath
displayDescription: A compact ship carrying a single, siege grade astro-navis weapon. \n-The largest gun. \n-Cannot be authorised unless nukes are enabled. \n-When built, will need more time to fully charge. \n-Instantly destroys the target of a direct hit. \n-Unleashes a blast of cataclysmic preportions on the planet. \n-Targets ground and stealth units. \n-Blast will destroy most aircraft\n-Defenceless against orbital threats.\n-Long recharge time between shots. \n-Leave it to maxwell to unleash the power of a supernova on a ground target... \n You're getting this thing at a bargain price, though.
class: CustomUnitMetadata
price: 750000
maxHp: 20000
mass: 999999999

maxShield: 60000
shieldRegen: 5
shieldRenderRadius: 145
experimental: true

generation_credits: -300
generation_delay: 40

techLevel: 3

armour: 500
armourMinDamageToKeep: 20


copyFrom: ROOT:Orbital_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Orbit=-27, AG=-50, AS=-50, AntiStealth=-50, AA=-27, Artillery=-100, AntiLD=-100
tags: AGT, OrbitT, orbital, anti-stealth, Station, TiStationPart, TiStation, AST, AStealthT, RangeT, ALDT

canOnlyBeAttackedByUnitsWithTags: orbital, anti-orbital


buildSpeed: 300s
#availableInDemo: true

disableAllUnitCollisions: true

radius: 120
isBio: false
displayRadius: 120

softCollisionOnAll: 3

isLockedIfGameModeNoNuke: true

fogOfWarSightRange: 45

energyMax: 1
energyRegen: 0.00007
energyNeedsToRechargeToFull: true
energyStartingPercentage: 0.5



nukeOnDeath: true
nukeOnDeathRange: 400
nukeOnDeathDamage: 7000
nukeOnDeathDisableWhenNoNuke: true


[hiddenAction_Started]
takeResources: EOrbit=-27, EAG=-50, EAS=-50, EAntiStealth=-50, EAA=-27, EArtillery=-100, EAntiLD=-100
[hiddenAction_Started_UpdateAlly]
takeResources: Orbit=-27, AG=-50, AS=-50, AntiStealth=-50, AA=-27, Artillery=-100, AntiLD=-100
[hiddenAction_Killed]
takeResources: EOrbit=27, EAG=50, EAS=50, EAntiStealth=50, EAA=27, EArtillery=100, EAntiLD=100
[hiddenAction_Killed_UpdateAlly]
takeResources: Orbit=27, AG=50, AS=50, AntiStealth=50, AA=27, Artillery=100, AntiLD=100
#TotalUnit=-1

[hiddenAction_Warning]
autoTriggerOnEvent: completeAndActive

showMessageToAllEnemyPlayers: WARNING, Seige weapon detected
playSoundGlobally:ROOT:Audio/Battleship.ogg



[animation_move]
onActions: move
start: 0
end: 9
speed: 5

[animation_attack]
onActions: attack
start: 0
end: 9
speed: 3


[animation_idle]
onActions: idle
start: 0
end: 9
speed: 6



[hiddenAction_attack]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Building', greaterThan=0) and self.hp(greaterThan=16000) and self.shield(greaterThan=20000) and self.energy(greaterThan=0.9) and not numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=800)
clearAllWaypoints: true
addWaypoint_prepend: true
addWaypoint_type: attack
addWaypoint_target_nearestUnit_maxRange: 9999
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_target_nearestUnit_tagged: Titan
addWaypoint_triggerActionIfFailed: AdvanceT


[hiddenAction_AdvanceT]
autoTrigger: false
@copyFromSection: hiddenAction_attack
addWaypoint_target_nearestUnit_tagged: Building
addWaypoint_triggerActionIfFailed: IGNORE




[hiddenAction_retreat]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=14000) or self.energy(lessThan=0.9) and self.isControlledByAI()
clearAllWaypoints: true
addWaypoint_type: move
addWaypoint_target_nearestUnit_maxRange: 9999
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: Repair


[hiddenAction_RunTheFAway]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=1000) and not self.hasActiveWaypoint(type='move')
clearAllWaypoints: true
addWaypoint_type: move
addWaypoint_target_nearestUnit_maxRange: 9999
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: Safety











[hiddenAction_ParkFormationCentre]
autoTrigger: false

[hiddenAction_guardStation]
autoTrigger: false

[hiddenAction_Formation]
autoTrigger: false

[hiddenAction_LeaderAdvance]
autoTrigger: false

[hiddenAction_RandomAdvance]
autoTrigger: false

[hiddenAction_BreakFormation]
autoTrigger: false

[hiddenAction_SoloAttack]
autoTrigger: false

[hiddenAction_ReformFormations]
autoTrigger: false

[hiddenAction_ProtectTitan]
autoTrigger: false

[hiddenAction_attackTitan]
autoTrigger: false

[hiddenAction_Fullretreat]
autoTrigger: false

[hiddenAction_Defend]
autoTrigger: if false

[hiddenAction_startDefence]
autoTrigger: false

[hiddenAction_Stop_Defence]
autoTrigger: false






[graphics]
total_frames: 10

icon_zoomed_out: MapX.png

image:        body.png
image_wreak:  NONE
image_turret: NONE

rotate_with_direction: false

lock_body_rotation_with_main_turret: true

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1



[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

isFixedFiring: true
aimOffsetSpread: 0

maxAttackRange: 360
shootDelay: 0

turretRotateWithBody: false
#isMelee: true




#[turret_1]
#x: 0
#y: 0
#canShoot: false
#invisible: true


#laserDefenceEnergyUse: 0.08

#limitingRange: 100

#size:1





[turret_1]

#F***ING HERETICS

x: 0
y: 0
projectile: 1
image: blank.png
idleDir: 180
turnSpeed: 20
turnSpeedAcceleration:20
size:1

shoot_sound:plasma_fire
shoot_sound_vol:0.2
shoot_flame:NONE
shoot_light:#FFFFFFAA

#chargeEffectImage: charge2.png
energyUsage: 1


canShoot: true
delay: 350
warmup:100

invisible: true
warmupStartEffect: CUSTOM:charge, CUSTOM:altcharge







[projectile_1]
#Bows'n arrows against the lightning. 
directDamage: 80000000
speed: 50

image: laser2.png

areaDamage: 19000
areaRadius: 1000
areaRadiusFromEdge: true
areaExpandTime: 300
mutator1_ifUnitWithTags: orbital
mutator1_directDamageMultiplier: 0
mutator1_areaDamageMultiplier: 0


areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true

friendlyFire: true
#laserEffect: true
instant:false

deflectionPower: -1

life: 250

nukeWeapon: true

trailEffectRate:0.05
trailEffect: CUSTOM:Btrail

lightColor: #ff0000
explodeEffect: CUSTOM:Scorch,  CUSTOM:Scorch2, CUSTOM:Blast, CUSTOM:StartFlash, CUSTOM:BigFlash, CUSTOM:BigFlash2
explodeEffectOnShield: CUSTOM:Scorch, CUSTOM:Scorch2, CUSTOM:Blast, CUSTOM:BigFlash, CUSTOM:BigFlash2
spawnUnit: M_GroundZero





[effect_shockWave]
life: 300
image: laser2.png
scaleFrom: 0
scaleTo: 20
#alpha: 1
fadeOut: true

priority: critical
createWhenOffscreen: true



[effect_StartFlash]
priority: critical
image: SHARED:light_50.png
life: 30
fadeOut: true
scaleFrom: 35
scaleTo: 15
#alpha: 1
createWhenOffscreen: true



[effect_RiseFlash]
priority: critical
image: laser2.png
life: 2000
fadeOut: true
scaleFrom: 4
scaleTo: 10
alpha: 0.6
hSpeed: 0.4
#atmospheric: true
createWhenOffscreen: true





[effect_Scorch]
priority: critical
#delayedStartTimer:10
attachedToUnit: false
life: 1250
physics: false
image: melt.png
fadeInTime: 50
fadeOut: true
drawUnderUnits: true
yOffsetAbsolute: -10

scaleFrom: 1.2
scaleTo: 2
dirOffset: 0
alwayStartDirAtZero:true
createWhenOffscreen: true



[effect_Scorch2]
priority: critical
#delayedStartTimer:10
attachedToUnit: false
life: 3000
physics: false
image: melt.png
fadeInTime: 500
fadeOut: true
drawUnderUnits: true
yOffsetAbsolute: -10

scaleFrom: 1.2
scaleTo: 2
dirOffset: 0
alwayStartDirAtZero:true
createWhenOffscreen: true



[effect_shock]
priority: critical
delayedStartTimer:10
attachedToUnit: false
life: 180
physics: false
image: melt.png
fadeInTime: 25
fadeOut: true
alpha: 0.6
yOffsetAbsolute: -10
drawUnderUnits: true
scaleFrom: 0.3
scaleTo: 12

dirOffset: 0
alwayStartDirAtZero:true
createWhenOffscreen: true




[effect_Blast]
delayedStartTimer:6
priority: critical
attachedToUnit: false
life: 350
physics: false
image: blast.png
alsoPlaySound: ROOT:Audio/scorched earth.ogg
fadeOut: true
alsoEmitEffects: CUSTOM:RiseFlash*2, CUSTOM:shock*2, CUSTOM:Blast2*4, CUSTOM:light*25, CUSTOM:light2, CUSTOM:rubble*5, CUSTOM:flare1, CUSTOM:flare2
createWhenOffscreen: true


#yOffsetRelative: -10
alpha: 1
scaleFrom: 2
scaleTo: 3.5
dirOffset: 0
alwayStartDirAtZero:true



[effect_BigFlash]
image: spark.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:5
scaleFrom: 70
scaleTo: 70
alpha: 1
drawUnderUnits:false
priority: critical


[effect_BigFlash2]
image: spark.png
life: 10
fadeOut: true
attachedToUnit: false
color: #63e6e8
scaleFrom: 12
scaleTo: 35
alpha: 1
drawUnderUnits:false
priority: critical




[effect_Blast2]
priority: critical
attachedToUnit: false
life: 450
physics: false
image: blast.png
fadeOut: true


alpha: 1
scaleFrom: 2
scaleTo: 4
dirOffset: 0
alwayStartDirAtZero:true
createWhenOffscreen: true



[effect_rubble]
attachedToUnit: false
life: 100
physics: true
xSpeedRelativeRandom: 3
ySpeedRelativeRandom: 3
hSpeed: 5
image: scrap.png
priority: verylow
atmospheric: true
fadeOut: true






[effect_light]
attachedToUnit: false
life: 500
physics: false
xSpeedRelativeRandom: 1
ySpeedRelativeRandom: 1
hSpeed: 0.2
xOffsetRelativeRandom: 300
yOffsetRelativeRandom: 300
atmospheric: true
image: spark.png
priority: veryhigh
fadeInTime: 25
fadeOut: true
scaleFrom: 0.1
scaleTo: 1

[effect_light2]
attachedToUnit: false
life: 120
physics: false


hSpeed: 0.2
alpha: 0.8

atmospheric: false
image: laser2.png
priority: critical

fadeOut: true
scaleFrom: 12
scaleTo: 12
createWhenOffscreen: true

[effect_flare1]
attachedToUnit: false
life: 400
physics: false
image: flare.png
priority: critical
fadeOut: true
dirOffset: 0
alwayStartDirAtZero:true
alpha: 0.5
yOffsetAbsolute: 150
yOffsetAbsolute: 150

[effect_flare2]
attachedToUnit: false
life: 210
physics: false
image: flare.png
priority: veryhigh
fadeOut: true
dirOffset: 0
alwayStartDirAtZero:true
alpha: 0.8
yOffsetAbsolute: 400
xOffsetAbsolute: 400
createWhenOffscreen: true



[effect_charge]
attachedToUnit: true
life: 100
physics: false
image: charge.png
fadeOut: true
fadeInTime: 80

fadeOut: false
dirOffset: 0
alwayStartDirAtZero:true
alpha: 0.8
yOffsetAbsolute: 160

#scaleFrom: 1
#scaleTo: 10
priority: veryhigh




[effect_altcharge]
attachedToUnit: true
life: 100
physics: false
image: charge2.png

fadeOut: false

dirOffset:0
alwayStartDirAtZero:true
alpha: 0.9


yOffsetAbsolute: 200
#alsoEmitEffects: CUSTOM:charge2
scaleFrom: 0.1
scaleTo: 1


[effect_Btrail]
image: laser2.png
life: 25
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.7
drawUnderUnits:true
#ySpeedRelative:-1
priority: veryhigh




[effect_laser]
attachedToUnit: true
life: 50
physics: false
image: laser.png

fadeOut: true

yOffsetAbsolute: 180

#scaleFrom: 1
#scaleTo: 10
dirOffset: 90
alwayStartDirAtZero:true




[movement]
movementType: AIR
moveSpeed: 0.28
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.2

maxTurnSpeed: 2
turnAcceleration: 0.1

reverseSpeedPercentage: 1

targetHeight: 600
targetHeightDrift: 0

moveSlidingMode :true
moveIgnoringBody: false
moveSlidingDir:  181


slowDeathFall: true
