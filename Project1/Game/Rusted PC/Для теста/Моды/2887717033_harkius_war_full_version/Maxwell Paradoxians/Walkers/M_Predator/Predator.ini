[core]
name: M_Predator
displayText: Predator Walker
displayDescription: Predator class artillary walker. \n -Long range beam weapon. \n-Attacks ground only.\n-Limited laser defence. \n-Weak vs Shields.
class: CustomUnitMetadata

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-1, Cliff=-1, AG=-3, AntiArmour=-1, AntiLD=-1, LD=-1, Artillery=-3, AntiShield=1, Beam=-3
tags: Unit, Ground, Cliff, AG2, AntiArmour, ALD, Beam, LD, Range2, CanLead1

price: 3900
maxHp: 400
mass: 30000

techLevel: 2
experimental: false

buildSpeed: 32s

radius: 35
displayRadius: 20

energyMax: 6
energyRegen: 0.004
energyNeedsToRechargeToFull: false


transportSlotsNeeded: 2


isBio: false

fogOfWarSightRange: 22

[hiddenAction_Started]
takeResources: EGround=-1, ECliff=-1, EAG=-3, EAntiArmour=-1, EAntiLD=-1, ELD=-1, EArtillery=-3, EAntiShield=1, EBeam=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-1, Cliff=-1, AG=-3, AntiArmour=-1, AntiLD=-1, LD=-1, Artillery=-3, AntiShield=1, Beam=-3
[hiddenAction_Killed]
takeResources: EGround=1, ECliff=1, EAG=3, EAntiArmour=1, EAntiLD=1, ELD=1, EArtillery=3, EAntiShield=-1, EBeam=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=1, Cliff=1, AG=3, AntiArmour=1, AntiLD=1, LD=1, Artillery=3, AntiShield=-1, Beam=3
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=395)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=390)
temporarilyAddTags: Retreat



[hiddenAction_drained]
autoTrigger: if self.energy() < 1
temporarilyAddTags: drained


[hiddenAction_restore]
autoTrigger: if self.energy() > 5.5
resetToDefaultTags: true





[graphics]
total_frames: 1
teamColorsOnTurret: true
image:       waist.png
image_wreak: NONE
image_turret: predator.png


image_shadow: SHADOW:predator.png
lock_shadow_rotation_with_main_turret: true
shadowOffsetX:0.5
shadowOffsetY:0.5

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 2
turretTurnSpeed: 1.1
maxAttackRange: 345
shootDelay: 35
aimOffsetSpread:0
turretRotateWithBody: false




[turret_1]

#right gunning arm

x: 10
y: 10
projectile: 1

attachedTo: 3
slave: true
turnSpeed: 0

shoot_sound:plasma_fire
shoot_sound_vol:0.3
shoot_flame:shockwave
shoot_light:#FFFFFFAA

canShoot: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
delay: 2s
warmup:0

invisible: true



[turret_2]

#left arm
x: -10
y: 10
projectile: 1

attachedTo: 3
slave: true
turnSpeed: 0


shoot_sound:plasma_fire
shoot_sound_vol:0.3
shoot_flame:shockwave
shoot_light:#FFFFFFAA

linkDelayWithTurret: 1
warmup: 0.25s

canShoot: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

invisible: true



[turret_3]

#body

x: 0
y: 0
size: 20
canShoot: false
idleDir:0





[turret_4]
x: 8
y: -12
canShoot: false

invisible: true

laserDefenceEnergyUse: 1
limitingRange: 65
size:1



[decal_LasDefTurret]
xOffsetRelative: 8
yOffsetRelative: -12
image: LD_ON.png
imageScale: 1 + ( ( cos( ( 3.14 * 10 ) * self.timeAlive() ) ) / 25 )
layer: onTop
#onlyWithZoomLevelOrMore: 0.25
image_shadow: NONE
isVisible: if not self.tags(includes='drained')

[decal_LasDefTurret2]
#When inactive
image: LD_OFF.png
@copyFromSection: decal_LasDefTurret
isVisible: if self.tags(includes='drained')



[projectile_1]
#Bows'n arrows against the lightning. 
directDamage: 90
drawSize: 1
instant:true
laserEffect: true
life: 12
lightColor: #ff0000
lightSize: 0.3

#shieldDamageMultiplier: 1
#shieldDefectionMultiplier: 0.05
shieldDamageMultiplier: 0.3

beamImage:      Beam_Mid.png
beamImageEnd:   Beam_Start.png
beamImageStart: Beam_Start.png
beamImageOffsetRate: 1



[leg_1]
x: 0
y: 25
attach_x: 0
attach_y: 10
moveSpeed: 3

rotateSpeed: 2

heightSpeed: 0.1
resetAngle:25

image_leg:  leg.png
image_foot: foot.png

#draw_foot_on_top: false
#dust_effect: false

holdDisMin: 0.5
holdDisMax: 2

[leg_2]
x: -20
y: -20
attach_x: -5
attach_y: -5
copyFrom: 1


[leg_3]
x: 20
y: -20
attach_x: 5
attach_y: -5
copyFrom: 1




[movement]
movementType: OVER_CLIFF
moveSpeed: 0.7
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.07

maxTurnSpeed: 1
turnAcceleration: 1
targetHeight: 8
moveSlidingMode :false
moveIgnoringBody:true
moveSlidingDir: 0
reverseSpeedPercentage:0.8

slowDeathFall: false

