
[core]
name: A_CrawlingThing
displayText: CrawlingThing
displayDescription: A terrible mass of power that slowly advances. \n-Can target stealth, aircraft and orbital units.\n-Emits an energy field that harms units next to it. 
class: CustomUnitMetadata
price: 700000
maxHp: 140000
mass: 9999999

#showInEditor: true

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-9, Cliff=-9, Water=-9, AG=-70, AO=-27, AA=-70, Shield=-9, AntiArmour=-9, Armour=-50, Artillery=-27, AntiLD=-27, AS=-3, AntiStealth=-3
tags: Unit, GroundT, CliffT, WaterT, AGT, AAT, AntiArmourT, ArmourT, ALDT, RangeT, Titan, CanLeadT, TurretT, AOT, AS2, AStealth2, anti-orbital, anti-stealth

generation_credits: -450
generation_delay: 40

techLevel: 2
experimental: true

buildSpeed: 300s
#availableInDemo: true

radius: 25
#displayRadius: 11
isBio: false
softCollisionOnAll: 3




disableAllUnitCollisions: true




transportSlotsNeeded: 12


#disableAllUnitCollisions: true


#energyMax: 3
#energyRegen: 0.0025
#energyNeedsToRechargeToFull: true

armour: 26
selfRegenRate:2




autoTriggerCooldownTime: 0.35s





[hiddenAction_Started]
takeResources: EGround=-50, ECliff=-50, EWater=-50, EAG=-70, EAO=-27, EAA=-70, EShield=-9, EAntiArmour=-9, EArmour=-50, EArtillery=-27, EAntiLD=-27, EAS=-3, EAntiStealth=-3, ETurret=-30
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-9, Cliff=-9, Water=-9, AG=-70, AO=-27, AA=-70, Shield=-9, AntiArmour=-9, Armour=-50, Artillery=-27, AntiLD=-27, AS=-3, AntiStealth=-3
[hiddenAction_Killed]
takeResources: EGround=50, ECliff=50, EWater=50, EAG=70, EAO=27, EAA=70, EShield=9, EAntiArmour=9, EArmour=50, EArtillery=27, EAntiLD=27, EAS=3, EAntiStealth=3, ETurret=30
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=9, Cliff=9, Water=9, AG=70, AO=27, AA=70, Shield=9, AntiArmour=9, Armour=50, Artillery=27, AntiLD=27, AS=3, AntiStealth=3
#TotalUnit=-1




[hiddenAction_Pickup]
autoTrigger: if self.isControlledByAI() and not self.tags(includes='Retreat') and self.NumberOfUnitsInTeam(withTag='BREAK_FORMATION', greaterThan=0) and not self.numberofUnitsInEnemyTeam(greaterThan=0, withinRange=500) and self.NumberOfUnitsInTeam(withTag='ALL_ATTACK', greaterThan=0)
temporarilyAddTags: CollectT

[hiddenAction_NoPickup]
autoTrigger: if self.tags(includes='Retreat') or not self.NumberOfUnitsInTeam(withTag='ALL_ATTACK', greaterThan=0) or not self.NumberOfUnitsInTeam(withTag='BREAK_FORMATION', greaterThan=0) or self.numberofUnitsInEnemyTeam(greaterThan=0, withinRange=350)
temporarilyRemoveTags: CollectT



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=60000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=30000)
temporarilyAddTags: Retreat








[hiddenAction_burn]
autoTrigger: if not self.hp(lessThan=1)
displayType: action
isVisible: false
text: smoke
spawnEffects: CUSTOM:smoke





[action_Denied]
autoTrigger: true
isVisible: false
buildSpeed: 0.01s
fireTurretXAtGround: Damage

#fireTurretXAtGround_withOffset: 0,0









[graphics]
total_frames: 1

teamColorsOnTurret: true
image:        TheCrawlingThing.png
image_wreak:  NONE
image_turret: NONE
icon_zoomed_out: MapX.png


image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

maxAttackRange: 500
shootDelay: 40

turretRotateWithBody: false
turretMultiTargeting: true
attackMovement: normal



[turret_Orbital]
#gun
x: 0
y: 0
invisible: true
projectile: 2

shoot_sound: lighting_burst
shoot_sound_vol: 2
shoot_flame: shockwave
shoot_light:#FFEECCCC

turnSpeed: 6
turnSpeedAcceleration: 1


canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

canOnlyAttackUnitsWithTags: orbital
delay: 50
warmup: 100
chargeEffectImage: laser2.png





[turret_Norm]
#gun
x: 0
y: 0
invisible: true
projectile: 1

shoot_sound: lighting_burst
shoot_sound_vol: 2
shoot_flame: shockwave
shoot_light:#FFEECCCC

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

canOnlyAttackUnitsWithoutTags: orbital, Small
turnSpeed: 6
turnSpeedAcceleration: 1


delay: 50
warmup: 100
chargeEffectImage: laser2.png
limitingRange: 300






[turret_Damage]
#nuke turret
canShoot: false

x: 0
y: 0
idleDir:0

invisible: true

shoot_sound:NONE
#shoot_sound_vol:0.5
#shoot_light:#FFEECCCC

delay: 0
warmup: 0

projectile: DamageField
size: 1

turnSpeed: 40



[projectile_DamageField]
#nuke
#tags: nuke

directDamage: 1

life: 10

instant: true



#image: Orb blast.png
drawType:2
frame: 7
trailEffect: false

targetGround: true
targetGroundSpread: 1

areaDamage: 75
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways: true
alwaysVisibleInFog: true

areaRadius: 150

#areaExpandTime:40


deflectionPower:-1



#shouldRevealFog:true
#nukeWeapon:true


friendlyFire: false

#largeHitEffect: true
explodeEffect:NONE
#NONE
#CUSTOM:smoke







[projectile_1]
directDamage: 1600
life: 200
speed: 20


#color: #8fff0000
lightColor: #8fff0000
lightSize: 1.5

#ballistic: true
#ballistic_delaymove_height: 1
#ballistic_height: 25

image: laser2.png


instant: false
largeHitEffect: true
areaDamage: 500
areaRadius: 400
nukeWeapon: true


deflectionPower: 5




[projectile_2]
directDamage: 1700
life: 200
speed: 20


#color: #8fff0000
lightColor: #8fff0000
lightSize: 1.5

#ballistic: true
#ballistic_delaymove_height: 1
#ballistic_height: 25

image: laser2.png


instant: false
largeHitEffect: true
areaDamage: 500
areaRadius: 150
nukeWeapon: true


deflectionPower: -1




[effect_smoke]
priority:veryhigh
dirOffsetRandom: 180

image: Smoke.png
atmospheric: true

xOffsetRelativeRandom: 45
yOffsetRelativeRandom: 45

life: 200
fadeOut: true
attachedToUnit: false
#color: #fdc14d


fadeInTime:35
scaleFrom: 0.5
scaleTo: 2
alpha: 0.7
drawUnderUnits:false
hSpeed: 0.1




[attachment_Body1]
x: 0
y: 25
keepAliveWhenParentDies: false
canBeAttackedAndDamaged: false
setDrawLayerOnTop: false
rotateWithParent: true
isUnselectable: false
lockRotation: false
idleDir: 0
resetRotationWhenNotAttacking: true
deattachIfWantingToMove: false
onCreateSpawnUnitOf: A_CrawlingThing1
prioritizeParentsMainTarget: true
#lockLegMovement: false


[attachment_Body2]
x: 0
y: -25
keepAliveWhenParentDies: false
canBeAttackedAndDamaged: false
setDrawLayerOnTop: false
rotateWithParent: true
isUnselectable: false
lockRotation: false
idleDir: 0
resetRotationWhenNotAttacking: true
deattachIfWantingToMove: false
onCreateSpawnUnitOf: A_CrawlingThing4
prioritizeParentsMainTarget: true
#lockLegMovement: false






[movement]
movementType: AIR
moveSpeed: 0.1
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.1

targetHeight:2
targetHeightDrift: 0

maxTurnSpeed: 0.65
turnAcceleration: 0.1

moveSlidingMode :true
moveIgnoringBody:false
#moveSlidingDir:  45


slowDeathFall: true


