
[core]
name: A_Slug
displayText: Chaos Slug
displayDescription: A relatively tiny bundle of chaotic energies. \n -Exceptionally short ranged. \n -moves over water, targets land and air.
class: CustomUnitMetadata
price: 2000
maxHp: 2250
mass: 8000

techLevel: 1
buildSpeed: 20s
#availableInDemo: true

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-2, Water=-2, AG=-2, AA=-2, AntiArmour=-1, Armour=-1, AntiLD=1
tags: Unit, Ground2, Water2, AG2, AA2, AS, AntiArmour, CanLead1, Armour2, Turret

radius: 9
displayRadius: 12

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  1



isBio: false
softCollisionOnAll: 2



#transportSlotsNeeded: 0.25

armour: 10
selfRegenRate:0.3




[hiddenAction_Started]
takeResources: EGround=-2, EWater=-2, EAG=-2, EAA=-2, EAntiArmour=-1, EArmour=-1, EAntiLD=1, ETurret=-2
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-2, Water=-2, AG=-2, AA=-2, AntiArmour=-1, Armour=-1, AntiLD=1
[hiddenAction_Killed]
takeResources: EGround=2, EWater=2, EAG=2, EAA=2, EAntiArmour=1, EArmour=1, EAntiLD=-1, ETurret=2
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=9, Water=9, AG=6, AA=6, AS=2, AntiArmour=9, Armour=9, AntiLD=-1, Artillery=3
#TotalUnit=-1




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=1500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=400)
temporarilyAddTags: Retreat

[animation_move]
onActions: move
pingPong: false
blendIn: 0.3s
body_0.6s: {frame: 0}
body_1s: {frame: 3}
body_1.2s: {frame: 3}
body_2.1s: {frame: 2}
body_2.5s: {frame: 0}

[animation_idle]
@copyFromSection: animation_move
onActions: idle


[animation_attack]
@copyFromSection: animation_move
onActions: attack
blendIn: 0.1s
body_0.3s: {frame: 3}
body_1.5s: {frame: 0}


[action_pet]
price:  1500000
text: Pet
description: Grab your shielded safety glove and \n -PET- \n -THE- \n -SLUG-
displayType: Upgrade
buildSpeed: 10s
pos: 0.2
ai_isDisabled: true

temporarilyAddTags: petting
alsoQueueAction: destruct



[decal_LasDefTurret]
xOffsetAbsolute: 0
yOffsetAbsolute: ( ( cos( ( 3.14 * 600 ) * self.timeAlive() ) ) * 3 ) - 12
image: Hand.png
imageScale: 1 
layer: beforeUI
alwaysStartDirAtZero: true

onlyWithZoomLevelOrMore: 0.1
image_shadow: SHADOW:Hand.png
isVisible: if self.tags(includes='petting')


[hiddenAction_destruct]
buildSpeed: 12s
fireTurretXAtGround: secretTurret
fireTurretXAtGround_withOffset: 0,0

[turret_secretTurret]
#nuke turret
canShoot: false

x: 0
y: 0
idleDir:0

invisible: true

shoot_sound:NONE
#shoot_sound_vol:0.5
#shoot_light:#FFEECCCC

delay: 0
warmup: 0

projectile: nukeProjectile
size: 1

turnSpeed: 40



[projectile_nukeProjectile]
#nuke
tags: nuke

directDamage: 1

life: 1
speed: 1
instant: true


largeHitEffect: true
frame: 0
shadowFrame:1

drawType:1

targetGround: true
areaDamage: 35000
areaHitAirAndLandAtSameTime: true
alwaysVisibleInFog: true



areaRadiusFromEdge: true
areaRadius: 1200



areaExpandTime:240

deflectionPower:-1


shouldRevealFog:true
nukeWeapon:true


friendlyFire: true








[graphics]
total_frames: 4

image:        Slug.png
image_wreak:  NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:0.5
shadowOffsetY:0.5





dustEffect: false

#lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 2
turretTurnSpeed: 5

#isFixedFiring: true

maxAttackRange: 75

shootDelay: 5
isMelee: true
meleeEngangementDistance: 200


[turret_1]
x: 0
y: 3

turnSpeed: 5

delay: 0.75s

invisible: true

projectile: 1

shoot_sound: large_gun_fire2
shoot_sound_vol:0.2
canShoot: true
shoot_flame:CUSTOM:Portal1


warmup: 0.15s


[effect_Portal1]
image: ROOT:Armageddon\charge.png
life: 18
fadeOut: true
attachedToUnit: true
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false





[projectile_1]
speed: 5
drawSize: 0.7
#drawType:2

image: bolt.png

lightColor: #ffe92b
lightSize: 0.4

directDamage: 195
areaDamage: 30
areaRadius: 35

largeHitEffect: true


life: 90
trailEffect: true
deflectionPower: 1



[movement]
movementType: HOVER
moveSpeed: 0.3
moveAccelerationSpeed: 0.05
moveDecelerationSpeed: 0.1

targetHeight: 1

maxTurnSpeed: 0.8
turnAcceleration: 0.2

moveSlidingMode :false
moveIgnoringBody:true
