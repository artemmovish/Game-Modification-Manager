
[core]
name: A_MegaSlug
displayText: Mega Chaos Slug
displayDescription: A blistering spiral of chaotic energies. \n -Short range. \n -moves over water, targets land and air.
class: CustomUnitMetadata
price: 15000
maxHp: 9000
mass: 50000

techLevel: 1
buildSpeed: 75s
#availableInDemo: true

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-9, Water=-9, AG=-6, AA=-6, AS=-2, AntiArmour=-9, Armour=-9, AntiLD=-1, Artillery=-3
tags: Unit, Ground3, Water3, AG3, AA3, AS2, AntiArmour3, CanLead2, Armour3, CanLift, ALD, Range2, Turret3

radius: 30
displayRadius: 30

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  1




isBio: false
softCollisionOnAll: 2



transportSlotsNeeded: 2

armour: 26
selfRegenRate:1

[hiddenAction_Started]
takeResources: EGround=-9, EWater=-9, EAG=-6, EAA=-6, EAS=-2, EAntiArmour=-9, EArmour=-9, EAntiLD=-1, EArtillery=-3, ETurret=-12
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-9, Water=-9, AG=-6, AA=-6, AS=-2, AntiArmour=-9, Armour=-9, AntiLD=-1, Artillery=-3
[hiddenAction_Killed]
takeResources: EGround=9, EWater=9, EAG=6, EAA=6, EAS=2, EAntiArmour=9, EArmour=9, EAntiLD=1, EArtillery=3, ETurret=12
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=9, Water=9, AG=6, AA=6, AS=2, AntiArmour=9, Armour=9, AntiLD=1, Artillery=3
#TotalUnit=-1


[hiddenAction_Pickup]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=5000) and self.NumberOfUnitsInTeam(withTag='BREAK_FORMATION', greaterThan=0) and not self.numberofUnitsInEnemyTeam(greaterThan=0, withinRange=300) and self.NumberOfUnitsInTeam(withTag='ALL_ATTACK', greaterThan=0)
temporarilyAddTags: Collect

[hiddenAction_NoPickup]
autoTrigger: if self.hp(lessThan=5000) or not self.NumberOfUnitsInTeam(withTag='ALL_ATTACK', greaterThan=0) or not self.NumberOfUnitsInTeam(withTag='BREAK_FORMATION', greaterThan=0) or self.numberofUnitsInEnemyTeam(greaterThan=0, withinRange=300)
temporarilyRemoveTags: Collect



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=5000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=1000)
temporarilyAddTags: Retreat





[animation_move]
onActions: move
start: 0
end: 3
speed: 5

[animation_attack]
onActions: attack
start: 0
end: 3
speed: 2


[animation_idle]
onActions: idle
start: 0
end: 3
speed: 5



[graphics]
total_frames: 4

image:        MegaSlug.png
image_wreak:  NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:0.5
shadowOffsetY:0.5





dustEffect: false

#lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 10
turretTurnSpeed: 5

#isFixedFiring: true

maxAttackRange: 120

shootDelay: 5

[turret_1]
x: 0
y: 0

turnSpeed: 5

delay: 10

invisible: true

projectile: 1

shoot_sound: large_gun_fire2
shoot_sound_vol:0.2
canShoot: true
shoot_flame:CUSTOM:Portal1




warmup: 2



[effect_Portal1]
image: ROOT:Armageddon\charge.png
life: 18
fadeOut: true
attachedToUnit: true
scaleFrom: 2
scaleTo: 1
alpha: 1
drawUnderUnits:false




[projectile_1]
speed: 10
drawSize: 0.7
#drawType:2

image: LargeBolt.png

lightColor: #ffe92b
lightSize: 0.4

directDamage: 160
areaDamage: 50
areaRadius: 100
deflectionPower: 1

largeHitEffect: true


life: 90
trailEffect: true


[movement]
movementType: HOVER
moveSpeed: 0.14
moveAccelerationSpeed: 0.05
moveDecelerationSpeed: 0.1

targetHeight: 1

maxTurnSpeed: 0.5
turnAcceleration: 0.2

moveSlidingMode :false
moveIgnoringBody:true
