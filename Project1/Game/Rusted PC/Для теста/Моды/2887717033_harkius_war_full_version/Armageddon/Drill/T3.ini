
[core]
name: A_Rift3
displayText: Armageddon Portal
displayDescription: -A small tear in reality- spews out energy that becomes Armageddon Spawn.   
class: CustomUnitMetadata
price: 12400
maxHp: 6000
mass: 9000





disableAllUnitCollisions: true


copyFrom: ROOT:Building_AI_Base.ini
borrowResourcesWhileAlive: LD=-3
tags: Building, NoCap, Factory, Economy, LD2, antinuke, Turret2, SpacePort




generation_credits: 60
generation_delay: 40


#footprint used for collisions with units (left, up, right, down)
#footprint: -1,-1,1,1
#used for placement, and placement of other buildings
#constructionFootprint:-1,-1,1,1

#buildingToFootprintOffsetX:0
#buildingToFootprintOffsetY:0

placeOnlyOnResPool: true

techLevel: 1
buildSpeed: 0.001
#availableInDemo: true

radius: 15
#displayRadius: 80
isBio: false
isBuilding: true


#armour: 1


exit_x: 0
exit_y: -1

softCollisionOnAll: 3

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5

energyMax: 2
energyRegen: 0.0025
energyNeedsToRechargeToFull: true


[canBuild_Slugs]
name: A_Slug, A_MegaSlug
pos:  1
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Water', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[hiddenAction_Started]
takeResources: ETurret=-3, ELD=-3
[hiddenAction_Started_UpdateAlly]
takeResources: LD=-3
[hiddenAction_Killed]
takeResources: ETurret=3, ELD=3
[hiddenAction_Killed_UpdateAlly]
takeResources: LD=3
#TotalUnit=-1


[canBuild_Sludge]
name: A_Sludge
pos:  1
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Subs', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Navy', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Equine]
name: A_Equine
pos:  2
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Humanoids]
name: A_Biped, A_Spectre
pos:  2
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0)

[canBuild_Stampede]
name: A_Stamp
pos:  3
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AntiStealth', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Subs', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Shield', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0)





[canBuild_AA]
name: A_Avian
pos:  6
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Pod]
name: A_Pod
pos:  6
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Bomber]
name: A_ChaosBomber
pos:  6
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AntiStealth', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Subs', greaterThan=0)

[canBuild_Lifter]
name: A_Lifter
pos:  7
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasResources(credits=20000) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Carrier]
name: A_Carrier
pos:  7
#forceNano: true

[canBuild_Builder]
name: A_Builder
isLocked: if self.hasUnitInTeam(withTag='builder', greaterThan=2, withinRange=180)
isLockedMessage: Builder density is too high. \n-Spread out!
pos:  0.6
#tech: 2

[canBuild_ChaosBuilder]
name: A_ChaosBuilder
pos:  0.7
#tech: 2


[canBuild_Orbit]
name: A_Fighter
pos:  8
#tech: 2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AO', greaterThan=0)

[canBuild_Station]
name: A_Station
pos:  8
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=15) and not self.hasUnitInTeam(withTag='Q_AO', greaterThan=0)

[canBuild_Titans]
name: A_Titan, A_CrawlingThing
pos:  9
#tech: 2


[canBuild_R]
name: setRally
pos:  0










[hiddenAction_FinishBuild]
buildSpeed: 0.1s
addResources: unsetFlag=1


[hiddenAction_TitanCounter1]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0) and self.hasResources(credits=250000) and not self.hasFlag(id=1)
alsoQueueAction: TitanCounter2
addResources: setFlag=1, credits=-85000


[hiddenAction_TitanCounter2]
buildSpeed: 0.00015
alsoQueueAction: FinishBuild
spawnUnits: A_Station





[hiddenAction_builder1]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=0, withinRange=200) and not self.hasUnitInTeam(withTag='builder', greaterThan=50) and self.hasResources(credits=16000) and not self.hasFlag(id=1) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=25) and self.hasResources(credits=25000) and not self.hasUnitInTeam(withTag='builder', greaterThan=2, withinRange=180) and not self.hasFlag(id=1) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=80) and self.hasResources(credits=70000) and not self.hasUnitInTeam(withTag='builder', greaterThan=2, withinRange=180) and not self.hasFlag(id=1)
alsoQueueAction: builder2
addResources: setFlag=1, credits=-1300

[hiddenAction_builder2]
buildSpeed: 16s
#addResources: credits=-1200
alsoQueueAction: FinishBuild
spawnUnits: A_Builder


#self.NumberOfUnitsInTeam(withTag='CanLift') > self.NumberOfUnitsInTeam(withTag='Lifter')


[hiddenAction_builderL]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=30000) and not self.hasFlag(id=1) and self.NumberOfUnitsInTeam(withTag='CanLift') > self.NumberOfUnitsInTeam(withTag='Lifter')
alsoQueueAction: builderL5
addResources: setFlag=1, credits=-4000

[hiddenAction_builderL5]
buildSpeed: 35s
#addResources: credits=-4000
alsoQueueAction: FinishBuild
spawnUnits: A_Lifter



[hiddenAction_Stamp]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiStealth', greaterThan=0) and self.hasResources(credits=35000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) or self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Shield', greaterThan=0) and self.hasResources(credits=60000) and not self.hasFlag(id=1)
alsoQueueAction: Stamp2
addResources: setFlag=1, credits=-35000

[hiddenAction_Stamp2]
buildSpeed: 75s
alsoQueueAction: FinishBuild
spawnUnits: A_Stamp


[hiddenAction_Bomber]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiStealth', greaterThan=0) and self.hasResources(credits=35000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) or self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasResources(credits=50000) and not self.hasFlag(id=1)
alsoQueueAction: Bomber2
addResources: setFlag=1, credits=-25000

[hiddenAction_Bomber2]
buildSpeed: 80s
alsoQueueAction: FinishBuild
spawnUnits: A_ChaosBomber



[hiddenAction_Fighter1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AO', greaterThan=0) and self.hasResources(credits=35000) and not self.hasResources(credits=100000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStation', greaterThan=0) and self.hasResources(credits=25000) and not self.hasFlag(id=1)
alsoQueueAction: Fighter2
addResources: setFlag=1, credits=-3000

[hiddenAction_Fighter2]
buildSpeed: 58s
alsoQueueAction: FinishBuild
spawnUnits: A_Fighter




[hiddenAction_QuotAntiLD]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and self.hasResources(credits=30000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) or self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0) and self.hasResources(credits=30000) and not self.hasFlag(id=1)
alsoQueueAction: QuotAntLD2
addResources: setFlag=1, credits=-3000

[hiddenAction_QuotAntLD2]
buildSpeed: 20s
alsoQueueAction: FinishBuild
spawnUnits: A_Equine



[hiddenAction_QuotaRange1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and self.hasResources(credits=20000) and not self.hasResources(credits=55000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
alsoQueueAction: QuotaRange2
addResources: setFlag=1, credits=-2500

[hiddenAction_QuotaRange2]
buildSpeed: 20s
alsoQueueAction: FinishBuild
spawnUnits: A_Biped


[hiddenAction_QuotaRange3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and self.hasResources(credits=55000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
alsoQueueAction: QuotaRange4
addResources: setFlag=1, credits=-16000

[hiddenAction_QuotaRange4]
buildSpeed: 70s
alsoQueueAction: FinishBuild
spawnUnits: A_Spectre


[hiddenAction_QuotaSlug]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and self.hasResources(credits=55000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) or self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiArmour', greaterThan=0) and self.hasResources(credits=60000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
alsoQueueAction: QuotaSlug2
addResources: setFlag=1, credits=-15000

[hiddenAction_QuotaSlug2]
buildSpeed: 70s
alsoQueueAction: FinishBuild
spawnUnits: A_MegaSlug






[hiddenAction_builderC1]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=160000) and not self.hasFlag(id=1) and self.NumberOfUnitsInTeam(withTag='Titan') > self.NumberOfUnitsInTeam(withTag='ChBuilder')
alsoQueueAction: builderC2
addResources: setFlag=1, credits=-110000

[hiddenAction_builderC2]
buildSpeed: 90s
#addResources: credits=-110000
alsoQueueAction: FinishBuild
spawnUnits: A_ChaosBuilder




[hiddenAction_builderCar]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=140000) and not self.hasFlag(id=1) and self.NumberOfUnitsInTeam(withTag='Titan') > self.NumberOfUnitsInTeam(withTag='Carrier')
alsoQueueAction: builderCar2
addResources: setFlag=1, credits=-75000

[hiddenAction_builderCar2]
buildSpeed: 100s
#addResources: credits=-4000
alsoQueueAction: FinishBuild
spawnUnits: A_Carrier







[hiddenAction_EndgameTank4]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=900000) and not self.hasFlag(id=1) and not self.hasUnitInTeam(withTag='ArmAt2', greaterThan=0, withinRange=1000)
alsoQueueAction: EndgameTank5
addResources: setFlag=1, credits=-700000

[hiddenAction_EndgameTank5]
buildSpeed: 250s
alsoQueueAction: Endgame6
spawnUnits: A_CrawlingThing

[hiddenAction_Endgame6]
buildSpeed: 0.1s
addResources: unsetFlag=1








[action_buildAntiNuke]
price:  4000
text: i:gui.actions.buildAntiNuke
description: Builds anti-nuke interceptor missiles. \n-Max of 4 in storage. 
displayType: NONE
buildSpeed: 0.001
pos: 0.2
isActive:if self.ammoIncludingQueued(lessThan=4)
addResources: ammo=1

ai_isDisabled: if self.ammo(greaterThan=4)
isLocked: if not game.nukesEnabled() or self.isControlledByAI() and not self.ammo(lessThan=1) and not self.hasResources(credits=20000)



[action_showAntiNukeCount]
#infoOnly: true
addResources: ammo=1
price:  ammo=1
text: i:gui.actions.antiNukeCount
description:i:gui.actions.antiNukeCount.description
displayType: none
buildSpeed: 0s
pos: 0.1
displayRemainingStockpile: true
highPriorityQueue: true
isActive:false
isVisible: if game.nukesEnabled()




[hiddenAction_AntiN]
autoTrigger: if self.isControlledByAI() and self.ammo(lessThan=1) and self.hasResources(credits=10000) and not self.hasFlag(id=1) and game.nukesEnabled()
alsoQueueAction: AntiN2
addResources: setFlag=1, credits=-4000

[hiddenAction_AntiN2]
buildSpeed: 0.001
alsoQueueAction: AntiN3
addResources: ammo=1

[hiddenAction_AntiN3]
buildSpeed: 2s
addResources: unsetFlag=1




[graphics]
total_frames: 1

image:        Extractor3.png
image_back: NONE
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1


[attack]
canAttack: false
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false



[turret_1]

x: 0
y: 5
canShoot: false
invisible: true


laserDefenceEnergyUse: 0.1

limitingRange: 300

size:1



[turret_silo]
#anti-nuke turret
x: 0
y: 15
idleDir:0

invisible: true
canShoot: false

interceptProjectiles_withTags: nuke
interceptProjectiles_andTargetingGroundUnderDistance: 1000
interceptProjectiles_andUnderDistance: 1700
interceptProjectiles_andOverHeight:50


shoot_sound:nuke_launch
shoot_sound_vol:0.15
shoot_light:#FFEECCCC

projectile: antiNukeProjectile
size: 1

turnSpeed: 40

resourceUsage: ammo=1

shoot_flame:shockwave, smoke
#shoot_flame:custom:nukeLaunch



[projectile_antiNukeProjectile]
#anti-nuke
directDamage: 600

life: 99999
speed: 0.5
targetSpeed: 7
targetSpeedAcceleration:0.05

trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
frame: 10
#shadowFrame:1

frame: 11

lightColor: #FFccCCEE
lightSize: 2

targetGround: true
areaDamage: 100
areaRadius: 60

areaExpandTime:75

deflectionPower:-1


alwaysVisibleInFog: true


[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

#useAsBuilder: true
buildPriority: 0.7

noneGlobalExtraPriority: 0.2

upgradedFrom: A_Rift
ai_upgradePriority: 0.4