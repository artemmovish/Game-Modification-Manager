
[core]
name: A_Rift2
displayText: Armageddon Portal
displayDescription: -A small tear in reality- spews out energy that becomes Armageddon Spawn.     
class: CustomUnitMetadata
price: 5400
maxHp: 3000
mass: 9000




disableAllUnitCollisions: true


copyFrom: ROOT:Building_AI_Base.ini
tags: Building, NoCap, Factory, Economy





generation_credits: 46
generation_delay: 40


#footprint used for collisions with units (left, up, right, down)
#footprint: -1,-1,1,1
#used for placement, and placement of other buildings
#constructionFootprint:-1,-1,1,1

#buildingToFootprintOffsetX:0
#buildingToFootprintOffsetY:0

placeOnlyOnResPool: true


techLevel: 1
buildSpeed: 0.001
#availableInDemo: true

radius: 15
#displayRadius: 80
isBio: false
isBuilding: true


#armour: 1


exit_x: 0
exit_y: -1

softCollisionOnAll: 3

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5






[action_upgrade_1]
convertTo: A_Rift3
price:  6000
text: Expand
description: -Increases credits and unit selection. \n-Adds laser defence. \n-Can build anti-nukes.
displayType: Upgrade
buildSpeed: 55s
pos: 0.2
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: ETurret=-3, ELD=-3
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: LD=-3




[canBuild_Slugs]
name: A_Slug, A_MegaSlug
pos:  1
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Water', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Sludge]
name: A_Sludge
pos:  1
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Subs', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Navy', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Equine]
name: A_Equine
pos:  2
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Humanoids]
name: A_Biped, A_Spectre
pos:  2
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0)




[canBuild_AA]
name: A_Avian
pos:  6
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Pod]
name: A_Pod
pos:  6
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Lifter]
name: A_Lifter
pos:  7
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasResources(credits=20000) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Builder]
name: A_Builder
isLocked: if self.hasUnitInTeam(withTag='builder', greaterThan=2, withinRange=180)
isLockedMessage: Builder density is too high. \n-Spread out!
pos:  0.6
#tech: 2


[canBuild_Orbit]
name: A_Fighter
pos:  8
#tech: 2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AO', greaterThan=0)



[canBuild_R]
name: setRally
pos:  0













[hiddenAction_builder1]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=0, withinRange=300) and self.hasResources(credits=10000) and not self.hasFlag(id=1)
alsoQueueAction: builder2
addResources: setFlag=1, credits=-1200

[hiddenAction_builder2]
buildSpeed: 21s
#addResources: credits=-1200
alsoQueueAction: builder3
spawnUnits: A_Builder

[hiddenAction_builder3]
buildSpeed: 0.1s
addResources: unsetFlag=1











[graphics]
total_frames: 1

image:        Extractor2.png
image_back: NONE
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1


[attack]
canAttack: false
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false



[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

#useAsBuilder: true
buildPriority: 0.7

noneGlobalExtraPriority: 0.2

upgradedFrom: A_Rift