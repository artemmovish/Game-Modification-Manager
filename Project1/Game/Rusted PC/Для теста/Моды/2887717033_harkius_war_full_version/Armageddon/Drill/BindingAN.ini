[core]
name: A_BindingAN
displayText: Corrupted Portal
displayDescription: -A binding force, tethering armageddon to the material universe. \n-Generates credits.\n-holds two anti-nukes.
class: CustomUnitMetadata
price: 9500
maxHp: 2000
mass: 9000



generation_credits: 16
generation_delay: 40



disableAllUnitCollisions: true

copyFrom: ROOT:Building_AI_Base.ini
tags: Building, Economy, antinuke







constructionFootprint: -1,-1,1,1

footprint: -1,-1,1,1


#buildingToFootprintOffsetX:0
#buildingToFootprintOffsetY:0

techLevel: 1
buildSpeed: 0.001
#availableInDemo: true

radius: 15
#displayRadius: 80
isBio: false
isBuilding: true


armour: 1


exit_x: 0
exit_y: -1

softCollisionOnAll: 3







[hiddenAction_AntiN]
autoTrigger: if self.isControlledByAI() and self.ammo(lessThan=1) and self.hasResources(credits=15000) and not self.hasFlag(id=1) and game.nukesEnabled()
alsoQueueAction: AntiN2
addResources: setFlag=1, credits=-4100

[hiddenAction_AntiN2]
buildSpeed: 50s
alsoQueueAction: AntiN3
addResources: ammo=1

[hiddenAction_AntiN3]
buildSpeed: 2s
addResources: unsetFlag=1



[action_buildAntiNuke]
price:  4100
text: i:gui.actions.buildAntiNuke
description: Builds anti-nuke interceptor missiles. \n-Max of 2 in storage. 
displayType: NONE
buildSpeed: 50s
pos: 0.2
isActive:if self.ammoIncludingQueued(lessThan=2)
addResources: ammo=1

ai_isDisabled: if self.ammo(greaterThan=1)
isLocked: if not game.nukesEnabled()


[action_showAntiNukeCount]
#infoOnly: true
addResources: ammo=1
price:  ammo=1
text: i:gui.actions.antiNukeCount
description:i:gui.actions.antiNukeCount.description
displayType: none
buildSpeed: 0s
pos: 0.1
displayRemainingStockpile: true
highPriorityQueue: true
isActive:false
isVisible: if game.nukesEnabled()




[animation_move]
onActions: move
start: 0
end: 1
speed: 10

[animation_attack]
onActions: attack
start: 0
end: 1
speed: 10


[animation_idle]
onActions: idle
start: 0
end: 1
speed: 10



[graphics]
total_frames: 2

image:        Binding2.png
image_back: NONE
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1


[attack]
canAttack: false
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false




[turret_silo]
#anti-nuke turret
x: 0
y: 15
idleDir:0

invisible: true
canShoot: false

interceptProjectiles_withTags: nuke
interceptProjectiles_andTargetingGroundUnderDistance: 600
interceptProjectiles_andUnderDistance: 1000
interceptProjectiles_andOverHeight:50


shoot_sound:nuke_launch
shoot_sound_vol:0.15
shoot_light:#FFEECCCC

projectile: antiNukeProjectile
size: 1

turnSpeed: 40

resourceUsage: ammo=1

shoot_flame:shockwave, smoke
#shoot_flame:custom:nukeLaunch



[projectile_antiNukeProjectile]
#anti-nuke
directDamage: 600

life: 99999
speed: 0.5
targetSpeed: 7
targetSpeedAcceleration:0.05

trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
frame: 10
#shadowFrame:1

frame: 11

lightColor: #FFccCCEE
lightSize: 2

targetGround: true
areaDamage: 100
areaRadius: 60

areaExpandTime:75

deflectionPower:-1


alwaysVisibleInFog: true


[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

buildPriority: 0.42
noneInBaseExtraPriority: 0.3

#noneGlobalExtraPriority: 0.4


maxEachBase: 7
#maxGlobal: 13
ai_upgradePriority: 0.4