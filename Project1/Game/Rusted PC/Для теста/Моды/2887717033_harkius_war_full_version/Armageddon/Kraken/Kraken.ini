
[core]
name: A_Kraken
displayText: Kraken
displayDescription: Terror of the seas. \n-Agile. \n-Durable, with impressive self-repair. \n-Can only attack in the water.
class: CustomUnitMetadata

price: 8200
maxHp: 5000
mass: 12000



techLevel: 1
experimental: false

buildSpeed: 20s

copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Water=-9, AS=-5, AntiNavy=-9
tags: Unit, Navy3, AntiNavy3, Water3, AS2


radius: 20
displayRadius: 20




transportSlotsNeeded: 10


isBio: false
selfRegenRate:0.4
armour: 10



[hiddenAction_Started]
takeResources: EWater=-9, EAS=-5, EAntiNavy=-9
[hiddenAction_Started_UpdateAlly]
takeResources: Water=-9, AS=-5, AntiNavy=-9
[hiddenAction_Killed]
takeResources: EWater=9, EAS=5, EAntiNavy=9
[hiddenAction_Killed_UpdateAlly]
takeResources: Water=9, AS=5, AntiNavy=9
#TotalUnit=-1




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=2500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=1500)
temporarilyAddTags: Retreat



[animation_move]
onActions: move
pingPong: true
blendIn: 0.2s
body_0.2s: {frame: 0}
body_0.7s: {frame: 2}
body_0.9s: {frame: 2}



[animation_idle]
@copyFromSection: animation_move
onActions: idle

[animation_attack]
@copyFromSection: animation_move
onActions: attack




[graphics]
total_frames: 3
teamColorsOnTurret: true
image:        Kraken.png
image_wreak: NONE
image_turret: NONE



image_shadow: AUTO
lock_shadow_rotation_with_main_turret: true
shadowOffsetX:2
shadowOffsetY:2

movementEffect:        CUSTOM:splash
#movementEffectReverse: CUSTOM:splash
#movementEffectReverseFlipEffects: false
movementEffectRate: 15


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits:false

turretSize: 20
turretTurnSpeed: 2
isFixedFiring: true


maxAttackRange: 165
shootDelay: 2.5s


[turret_1]
#right gunning arm
x: 0
y: 0
projectile: torpedo
canShoot: true




[projectile_1]
directDamage: 100
life: 150
speed: 5

image: ROOT:Armageddon/bolt.png

areaExpandTime: 250

#targetGround: true


largeHitEffect: true


[projectile_torpedo]
#torpedo
directDamage: 330
life: 25
speed: 1

image: ROOT:Armageddon/bolt.png
drawSize: 1
#color: #1E1E96
trailEffect: true
largeHitEffect: true

deflectionPower: -1

wobbleAmplitude: 0.1
wobbleFrequency: 0.6s

turnSpeed:2

#startingTurnSpeed:1
#targetTurnSpeed:3

lightSize:0.4

spawnProjectilesOnEndOfLife: torpedo_split(offsetDir=90), torpedo_split(offsetDir=-90), torpedo_split(offsetDir=00)
#spawnProjectilesOnEndOfLife: torpedoLocked



[projectile_torpedoLocked]
@copyFromSection: projectile_torpedo
life: 300
turnSpeed:7
spawnProjectilesOnEndOfLife: NONE
targetSpeed: 8
targetSpeedAcceleration: 0.04
drawSize: 0.8
retargetingInFlight: true
directDamage: 110


[projectile_torpedo_split]
@copyFromSection: projectile_torpedo
life: 40
turnSpeed:0.5
spawnProjectilesOnEndOfLife: torpedoLocked
targetSpeed: 4
targetSpeedAcceleration: 0.04
drawSize: 0.8
retargetingInFlight: true
directDamage: 110



[movement]
movementType: WATER
moveSpeed: 0.8
moveAccelerationSpeed: 0.025
moveDecelerationSpeed: 0.07


#moveSlidingMode :false
moveIgnoringBody:true
#moveSlidingDir:  45


targetHeight: -8
targetHeightDrift: 0.3

maxTurnSpeed: 2
turnAcceleration: 0.09



[effect_splash]

life: 70
stripIndex: effects
frameIndex: 13

scaleFrom: 0.9
scaleTo: 1.3
alpha: 0.4
atmospheric:true

fadeInTime: 3
fadeOut:true

dirOffsetRandom:180

xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
ySpeedRelative:-0.2
#hSpeed:0.1

yOffsetRelative:0

attachedToUnit: false
drawUnderUnits:true





