[core]
name: A_Builder2
class: CustomUnitMetadata
price: 8300
maxHp: 1650
mass: 20000

displayText: Powered Chaotic Constructor
displayDescription: A builder made from armageddon energy. \n-sustians portals to the armageddon realm. \n-Slow, but well armoured. \n-Can fire anti orbital lasers and target stealth units.



copyFrom: ROOT:Builder_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-1, Water=-1, AG=-1, AA=-1, AS=-1, AntiStealth=-0.4, AO=-3
tags: Unit, Ground2, Water2, AG, AA, AS, AStealth, builder, NoCap, Factory, anti-orbital, AO2, AO, Armour, CanFollow, Build2, anti-stealth

techLevel: 2

buildSpeed: 50s
availableInDemo: false


armour: 3
selfRegenRate:0.25



radius: 20
displayRadius: 20

isBio: false
isBuilder: true

canRepairBuildings: true
canRepairUnits : true

canReclaimResources: true

transportSlotsNeeded: 2

generation_credits: 8
generation_delay: 40

nanoRange: 145
nanoBuildSpeed: 1
nanoFactorySpeed: 1
nanoRepairSpeed: 0.8
exit_moveAwayAmount:220


[hiddenAction_Started]
takeResources: EGround=-1, EWater=-1, EAG=-1, EAA=-1, EAS=-1, EAntiStealth=-0.4, EAO=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-1, Water=-1, AG=-1, AA=-1, AS=-1, AntiStealth=-0.4, AO=-3
[hiddenAction_Killed]
takeResources: EGround=1, EWater=1, EAG=1, EAA=1, EAS=1, EAntiStealth=0.4, EAO=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=1, Water=1, AG=1, AA=1, AS=1, AntiStealth=0.4, AO=3
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=1600)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=1300)
temporarilyAddTags: Retreat



[hiddenAction_buildAO]
autoTrigger: false


[hiddenAction_CheckHealedBy]
autoTrigger: if self.resource(type='hp') > self.resource(type='SaveHP')
setResourcesWithLogic: SaveHP = self.hp()

[hiddenAction_CallSOS]
autoTrigger: if self.isControlledByAI() and self.resource(type='hp') < self.resource(type='SaveHP') and self.numberofUnitsInEnemyTeam(withTag='Unit', greaterThan=0, withinRange=1000) or self.isControlledByAI() and self.resource(type='hp') < self.resource(type='SaveHP') and self.numberofUnitsInEnemyTeam(withTag='Building', greaterThan=0, withinRange=1000)
setResourcesWithLogic: SaveHP = self.hp()
temporarilyAddTags: HELP

[hiddenAction_CallSOSORBIT]
autoTrigger: if self.isControlledByAI() and self.resource(type='hp') < self.resource(type='SaveHP') and self.numberofUnitsInEnemyTeam(withTag='orbital', greaterThan=0, withinRange=1000)
setResourcesWithLogic: SaveHP = self.hp()
temporarilyAddTags: HELP_ORBIT


[hiddenAction_EndSOS]
autoTrigger: if self.isControlledByAI() and not self.numberofUnitsInEnemyTeam(greaterThan=0, withinRange=1000)or self.isControlledByAI() and self.hp(full=true)
temporarilyRemoveTags: HELP, HELP_ORBIT
setResourcesWithLogic: SaveHP = self.hp()





[comment_test]

A comment section
nothing here is read
comment sections start with a 'comment_'
or start a line with # for a single line comment

[canBuild_Slugs]
name: A_Slug, A_MegaSlug
pos:  1
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Water', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Sludge]
name: A_Sludge
pos:  1
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Subs', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Navy', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Equine]
name: A_Equine
pos:  2
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.overWater()

[canBuild_Humanoids]
name: A_Biped, A_Spectre
pos:  2
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) or self.overWater()





[canBuild_AA]
name: A_Avian
pos:  6
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Pod]
name: A_Pod
pos:  6
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Lifter]
name: A_Lifter
pos:  7
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasResources(credits=20000) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)




[canBuild_Buildings]
name: A_Rift, A_Binding, A_Calamity
pos:  0.5
#tech: 2


[canBuild_Builder]
name: A_Builder
isLocked: if self.hasUnitInTeam(withTag='builder', greaterThan=2, withinRange=180)
isLockedMessage: Builder density is too high. \n-Spread out!
pos:  0.6
#tech: 2

[canBuild_ChaosBuilder]
name: A_ChaosBuilder
pos:  0.7
#tech: 2


[canBuild_Orbit]
name: A_Fighter
pos:  8
#tech: 2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AO', greaterThan=0)


[canBuild_8]
name: reclaim
pos:  -1





[hiddenAction_FinishBuild]
buildSpeed: 0.1s
addResources: unsetFlag=1



[hiddenAction_builder1]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=0, withinRange=200) and not self.hasUnitInTeam(withTag='builder', greaterThan=50) and self.hasResources(credits=16000) and not self.hasFlag(id=1) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=25) and self.hasResources(credits=25000) and not self.hasUnitInTeam(withTag='builder', greaterThan=2, withinRange=180) and not self.hasFlag(id=1) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=80) and self.hasResources(credits=70000) and not self.hasUnitInTeam(withTag='builder', greaterThan=2, withinRange=180) and not self.hasFlag(id=1)
alsoQueueAction: builder2
addResources: setFlag=1, credits=-1300

[hiddenAction_builder2]
buildSpeed: 16s
#addResources: credits=-1200
alsoQueueAction: FinishBuild
spawnUnits: A_Builder


#self.NumberOfUnitsInTeam(withTag='CanLift') > self.NumberOfUnitsInTeam(withTag='Lifter')


[hiddenAction_builderL]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=30000) and not self.hasFlag(id=1) and self.NumberOfUnitsInTeam(withTag='CanLift') > self.NumberOfUnitsInTeam(withTag='Lifter')
alsoQueueAction: builderL5
addResources: setFlag=1, credits=-4000

[hiddenAction_builderL5]
buildSpeed: 35s
#addResources: credits=-4000
alsoQueueAction: FinishBuild
spawnUnits: A_Lifter




[hiddenAction_Fighter1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AO', greaterThan=0) and self.hasResources(credits=35000) and not self.hasResources(credits=100000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStation', greaterThan=0) and self.hasResources(credits=25000) and not self.hasFlag(id=1)
alsoQueueAction: Fighter2
addResources: setFlag=1, credits=-3000

[hiddenAction_Fighter2]
buildSpeed: 58s
alsoQueueAction: FinishBuild
spawnUnits: A_Fighter



[hiddenAction_QuotAA]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasResources(credits=20000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) or self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasResources(credits=55000) and not self.hasFlag(id=1)
alsoQueueAction: QuotAA2
addResources: setFlag=1, credits=-1200

[hiddenAction_QuotAA2]
buildSpeed: 9s
alsoQueueAction: FinishBuild
spawnUnits: A_Avian



[hiddenAction_QuotAntiLD]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and self.hasResources(credits=30000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and not self.overWater() or self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0) and self.hasResources(credits=30000) and not self.hasFlag(id=1) and not self.overWater()
alsoQueueAction: QuotAntLD2
addResources: setFlag=1, credits=-3000

[hiddenAction_QuotAntLD2]
buildSpeed: 20s
alsoQueueAction: FinishBuild
spawnUnits: A_Equine



[hiddenAction_QuotaRange1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and self.hasUnitInTeam(withTag='Q_AntiArmour', greaterThan=0) and self.hasResources(credits=20000) and not self.hasResources(credits=55000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and not self.overWater()
alsoQueueAction: QuotaRange2
addResources: setFlag=1, credits=-2500

[hiddenAction_QuotaRange2]
buildSpeed: 20s
alsoQueueAction: FinishBuild
spawnUnits: A_Biped


[hiddenAction_QuotaRange3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and self.hasResources(credits=55000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and not self.overWater()
alsoQueueAction: QuotaRange4
addResources: setFlag=1, credits=-16000

[hiddenAction_QuotaRange4]
buildSpeed: 70s
alsoQueueAction: FinishBuild
spawnUnits: A_Spectre


[hiddenAction_QuotaSlug]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and self.hasResources(credits=55000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) or self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiArmour', greaterThan=0) and self.hasResources(credits=60000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
alsoQueueAction: QuotaSlug2
addResources: setFlag=1, credits=-15000

[hiddenAction_QuotaSlug2]
buildSpeed: 70s
alsoQueueAction: FinishBuild
spawnUnits: A_MegaSlug






[animation_move]
onActions: move
pingPong: true
blendIn: 0.2s
body_0.5s: {frame: 0}
body_0.8s: {frame: 3}
body_1.3s: {frame: 3}


[animation_idle]
@copyFromSection: animation_move
onActions: idle


[animation_attack]
@copyFromSection: animation_move
onActions: attack
blendIn: 0.3s
body_0.4s: {frame: 3}
body_0.8s: {frame: 0}


[animation_repair]
@copyFromSection: animation_attack
onActions: repair





[graphics]

total_frames: 4
image:        Builder2.png
image_wreak:  NONE
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1




[attack]

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

#isFixedFiring: true

turretSize: 1
turretTurnSpeed: 20

turretMultiTargeting: true

maxAttackRange: 500
shootDelay: 14


turretRotateWithBody: false


[turret_1]
#nano turret (nano must be slot 1)
x: 0
y: 0
invisible: true
warmup:30

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turnSpeedAcceleration: 0.08

[turret_Orbital]
#gun
x: 0
y: 8
invisible: true
projectile: 1

shoot_sound: lighting_burst
shoot_sound_vol: 2
shoot_flame: shockwave
shoot_light:#FFEECCCC

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

canOnlyAttackUnitsWithTags: orbital
delay: 40
warmup: 50
chargeEffectImage: laser2.png




[turret_2]
x: 0
y: 0

turnSpeed: 1

delay: 20

invisible: true

projectile: 2

shoot_sound: large_gun_fire2
shoot_sound_vol:0.2
canShoot: true
shoot_flame:CUSTOM:Portal1


canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true


warmup: 20
limitingRange: 180

[effect_Portal1]
image: ROOT:Armageddon\charge.png
life: 18
fadeOut: true
attachedToUnit: true
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false


[effect_Portal2]
@copyFromSection: effect_Portal1
scaleFrom: 2
scaleTo: 1


[projectile_1]
directDamage: 1500
life: 200
speed: 20


#color: #8fff0000
lightColor: #8fff0000
lightSize: 1.5

#ballistic: true
#ballistic_delaymove_height: 1
#ballistic_height: 25

image: laser2.png


instant: false
largeHitEffect: true
areaDamage: 50
areaRadius: 80

deflectionPower: -1
armourIgnoreAmount: 180



[projectile_2]
speed: 6
drawSize: 0.7
#drawType:2

image: LargeBolt.png

lightColor: #ffe92b
lightSize: 0.4

directDamage: 45
areaDamage: 10
areaRadius: 50

largeHitEffect: true


life: 100
trailEffect: true
deflectionPower: 1







[attachment_Node]
x: 0
y: 0
keepAliveWhenParentDies: false
canBeAttackedAndDamaged: false
setDrawLayerOnTop: true
rotateWithParent: false
isUnselectable: true
lockRotation: false
idleDir: 0
resetRotationWhenNotAttacking: true
deattachIfWantingToMove: false
onCreateSpawnUnitOf: A_BuilderNode
prioritizeParentsMainTarget: true








[movement]
movementType: HOVER
moveSpeed: 0.3
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.08


targetHeight: 4
targetHeightDrift: 1.5

maxTurnSpeed: 3.5
turnAcceleration: 0.05

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181


[ai]
useAsBuilder: true



