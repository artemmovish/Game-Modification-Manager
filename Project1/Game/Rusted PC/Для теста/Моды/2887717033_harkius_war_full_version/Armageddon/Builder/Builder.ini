

[core]
name: A_Builder
class: CustomUnitMetadata
price: 1300
maxHp: 1000
mass: 4000

displayText: Chaotic Constructor
displayDescription: A builder made from armageddon energy. \n-sustians portals to the armageddon realm. \n-Slow, but lightly defended.


copyFrom: ROOT:Builder_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-1, Water=-1, AG=-1, AA=-1
tags: Unit, Ground, Water, AG, AA, builder, NoCap, Factory

techLevel: 1

buildSpeed: 16s
availableInDemo: false


#armour: 2
selfRegenRate:0.25



radius: 17
displayRadius: 18

isBio: false
isBuilder: true

canRepairBuildings: true
canRepairUnits : true

canReclaimResources: true

transportSlotsNeeded: 2

generation_credits: 2
generation_delay: 40

nanoRange: 125
nanoBuildSpeed: 1
nanoFactorySpeed: 0.8

nanoRepairSpeed: 0.45
exit_moveAwayAmount:220



[hiddenAction_Started]
takeResources: EGround=-1, EWater=-1, EAG=-1, EAA=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-1, Water=-1, AG=-1, AA=-1
[hiddenAction_Killed]
takeResources: EGround=1, EWater=1, EAG=1, EAA=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=1, Water=1, AG=1, AA=1
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=900)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=800)
temporarilyAddTags: Retreat


[hiddenAction_buildAO]
autoTrigger: false


[hiddenAction_Terminate]
autoTriggerOnEvent: completeAndActive
alsoTriggerAction: Terminate2
alsoTriggerOrQueueActionConditional: if self.hasUnitInTeam(withTag='builder', greaterThan=3, withinRange=180)



[hiddenAction_Terminate2]
#deleteSelf: true
addResources: credits=1300, hp=-9999
showMessageToPlayer: Constructors cannot form if builder density is too high. Spread out your builders!





[action_trigger_upgrade]
price: 7000
convertTo: A_Builder2
buildSpeed: 46s
text: Upgrade
isVisible: true
whenBuilding_cannotMove: false
attachments_addNewUnits: A_BuilderNode
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
descriptionAddUnitStats: ${section.convertTo}
pos: 0
alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: EAS=-1, EAntiStealth=-0.4, EAO=-3
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AS=-1, AntiStealth=-0.4, AO=-3





[hiddenAction_autoUpgrade]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Build2', greaterThan=0, withinRange=500) and self.hasResources(credits=16000) and not self.hasFlag(id=1) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Build2', greaterThan=1) and self.hasResources(credits=10000) and not self.hasFlag(id=1)
alsoQueueAction: autoUpgrade2
addResources: setFlag=1, credits=-7000
temporarilyAddTags: Build2


[hiddenAction_autoUpgrade2]
buildSpeed: 46s
#addResources: credits=-1200
alsoQueueAction: autoUpgrade3
alsoTriggerAction: upStat, upStat_UpdateAlly
convertTo: A_Builder2

[hiddenAction_autoUpgrade3]
buildSpeed: 0.1s
addResources: unsetFlag=1



[attachment_Node]
x: 0
y: 0
keepAliveWhenParentDies: false
canBeAttackedAndDamaged: false
setDrawLayerOnTop: true
rotateWithParent: false
isUnselectable: true
lockRotation: false
idleDir: 0
resetRotationWhenNotAttacking: true
deattachIfWantingToMove: false
#onCreateSpawnUnitOf: A_BuilderNode
prioritizeParentsMainTarget: true






[comment_test]

A comment section
nothing here is read
comment sections start with a 'comment_'
or start a line with # for a single line comment

[canBuild_Slugs]
name: A_Slug
pos:  1
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Water', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Equine]
name: A_Equine
pos:  2
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.overWater()

[canBuild_Humanoids]
name: A_Biped
pos:  2
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) or self.overWater()





[canBuild_AA]
name: A_Avian
pos:  6
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Pod]
name: A_Pod
pos:  6
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)



[canBuild_Buildings]
name: A_Rift
pos:  0.5
#tech: 2


[canBuild_Builder]
name: A_Builder
isLocked: if self.hasUnitInTeam(withTag='builder', greaterThan=2, withinRange=180)
isLockedMessage: Builder density is too high. \n-Spread out!
pos:  0.6
#tech: 2

[canBuild_8]
name: reclaim
pos:  -1





[hiddenAction_FinishBuild]
buildSpeed: 0.1s
addResources: unsetFlag=1





[graphics]

total_frames: 1
image:        Builder.png
image_wreak:  NONE
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1




[attack]

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

#isFixedFiring: true

turretSize: 1
turretTurnSpeed: 20

turretMultiTargeting: true

maxAttackRange: 150
shootDelay: 14


turretRotateWithBody: false


[turret_1]
#nano turret (nano must be slot 1)
x: 0
y: 0
invisible: true
warmup:30

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turnSpeedAcceleration: 0.08





[turret_2]
x: 0
y: 0

turnSpeed: 1

delay: 20

invisible: true

projectile: 2

shoot_sound: large_gun_fire2
shoot_sound_vol:0.2
canShoot: true
shoot_flame:CUSTOM:Portal1


canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


warmup: 20



[effect_Portal1]
image: ROOT:Armageddon\charge.png
life: 18
fadeOut: true
attachedToUnit: true
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false


[effect_Portal2]
@copyFromSection: effect_Portal1
scaleFrom: 2
scaleTo: 1



[projectile_1]
directDamage: 1500
life: 200
speed: 20


#color: #8fff0000
lightColor: #8fff0000
lightSize: 1.5

#ballistic: true
#ballistic_delaymove_height: 1
#ballistic_height: 25

image: laser2.png


instant: false
largeHitEffect: true
areaDamage: 50
areaRadius: 80

deflectionPower: -1




[projectile_2]
speed: 6
drawSize: 0.7
#drawType:2

image: LargeBolt.png

lightColor: #ffe92b
lightSize: 0.4

directDamage: 45
areaDamage: 10
areaRadius: 50

largeHitEffect: true


life: 100
trailEffect: true
deflectionPower: 1



[movement]
movementType: HOVER
moveSpeed: 0.35
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.08


targetHeight: 4
targetHeightDrift: 1.5

maxTurnSpeed: 3.5
turnAcceleration: 0.05

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181


[ai]
useAsBuilder: true
ai_upgradePriority: 0.3


