
[core]
name: AMHQ
displayText: Torn Space
displayDescription: -All hell will break loose. \n-Armageddon uses incredably slow but durable and powerful units. \n-Though they may struggle to adapt, it is hard to stop them. \n-Acts as a Mobile headquarters \n-Armed, armoured, and able to repair and build. 
class: CustomUnitMetadata
price: TeamCredits=1
maxHp: 8000
mass: 9000

techLevel: 2

buildSpeed: 1
availableInDemo: false

generation_credits: 54
generation_delay: 40

radius: 20
displayRadius: 20


copyFrom: ROOT:HQ_AI.ini
#borrowResourcesWhileAlive: Ground=-9, AG=-9, AA=-9, Artillery=-3
tags: Unit, builder, NoCap, Factory, AA3, AG3, Range2, Ground3, Water3



transportSlotsNeeded: 4


isBio: false
selfRegenRate:1.25
isBuilder: true



canRepairBuildings: true
canRepairUnits : true


canReclaimResources: true


autoRepair: true


nanoRange: 200


nanoRepairSpeed: 2
nanoBuildSpeed: 1.5





[canBuild_Buildings]
name: A_Rift, A_Binding
pos:  0.5
#tech: 2



[canBuild_Slugs]
name: A_Slug
pos:  1
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Water', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Equine]
name: A_Equine
pos:  2
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Humanoids]
name: A_Biped
pos:  2
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0)


[canBuild_AA]
name: A_Avian
pos:  6
#forceNano: true
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)


[canBuild_Builder]
name: A_Builder
isLocked: if self.hasUnitInTeam(withTag='builder', greaterThan=2, withinRange=180)
isLockedMessage: Builder density is too high. \n-Spread out!
pos:  0.6
#tech: 2



[canBuild_Orbit]
name: A_Fighter
pos:  8
#tech: 2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AO', greaterThan=0)



#[canBuild_7]
#name: reclaim
#pos:  -1




[hiddenAction_Started]
takeResources: EWater=-9, EGround=-9, EAG=-9, EAA=-9, EAntiArmour=-9, EArtillery=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Water=-9, Ground=-9, AG=-9, AA=-9, AntiArmour=-9, Artillery=-3
[hiddenAction_Killed]
takeResources: EWater=9, EGround=9, EAG=9, EAA=9, EAntiArmour=9, EArtillery=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Water=9, Ground=9, AG=9, AA=9, AntiArmour=9, Artillery=3
#TotalUnit=-1




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=7500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=6500)
temporarilyAddTags: Retreat









[global_resource_TeamCredits]
displayName: TeamCredits
displayNameShort: TeamCreds
displayColor: #ffe92b




[hiddenAction_builder1]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=10000) and numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=400) and self.hp(lessThan=7500) and not self.hasFlag(id=1)
alsoQueueAction: builder2
addResources: setFlag=1, credits=-2000

[hiddenAction_builder2]
buildSpeed: 20s
#addResources: credits=-2000
alsoQueueAction: builder3
spawnUnits: A_Slug

[hiddenAction_builder3]
buildSpeed: 0.1s
addResources: unsetFlag=1





[hiddenAction_SwitchStart]
autoTrigger: if self.hasResources(credits=150000) and not self.hasFlag(id=5)
highPriorityQueue: true
convertTo: FDC_ArmaSuper
addResources: setFlag=10
attachments_addNewUnits: Breach_emptySlot*6
takeResources: EWater=9, EAir=-18, EGround=-18, EOrbit=-9, EAO=-3, EAG=-6, EAA=-6, EArtillery=-6, EAntiLD=-9
takeResources_includeUnitsWithinRange: 99999
takeResources_includeUnitsWithinRange_team: enemy
takeResources_excludeUnitsWithoutTags: aiMaster
takeResources_maxUnits: 10
takeResources_discardCollected: true
alsoTriggerAction: switchStart2

[hiddenAction_switchStart2]
takeResources: Water=9, Air=-18, Ground=-18, Orbit=-9, AO=-3, AG=-6, AA=-6, Artillery=-6, AntiLD=-9
takeResources_includeUnitsWithinRange: 99999
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources_excludeUnitsWithoutTags: aiMaster
takeResources_maxUnits: 10
takeResources_discardCollected: true



[hiddenAction_NoSwitch]
autoTrigger: if not self.hasResources(credits=150000) and not self.hasFlag(id=5)
highPriorityQueue: true
addResources: setFlag=5


[attachment_unitSlot1]
x:0
y:0
idleDir:0
idleDirReversing:0
addTransportedUnits: true
setDrawLayerOnTop: true
lockLegMovement:false
canBeAttackedAndDamaged: false
isUnselectable: true

[attachment_unitSlot2]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot3]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot4]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot5]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot6]
@copyFromSection: attachment_unitSlot1








[graphics]

total_frames: 1
image:        MobileHQ.png
image_wreak:  NONE
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1




[attack]

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 3
turretTurnSpeed: 20


maxAttackRange: 250
shootDelay: 50

shootDamageMultiplier: 0.8


turretRotateWithBody: false


[turret_1]
#nano turret (nano must be slot 1)
x: -15
y: 5
invisible: true
warmup:30

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turnSpeed: 2



[turret_2]
x: 0
y: 0

turnSpeed: 1

delay: 15

invisible: true

projectile: 2

shoot_sound: large_gun_fire2
shoot_sound_vol:0.2
canShoot: true
shoot_flame:small



warmup: 10




[projectile_2]
speed: 6
drawSize: 0.7
#drawType:2

image: LargeBolt.png

lightColor: #ffe92b
lightSize: 0.4

directDamage: 200
areaDamage: 50
areaRadius: 50

largeHitEffect: true


life: 100
trailEffect: true
deflectionPower: 1


[movement]
movementType: HOVER
moveSpeed: 0.25
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.07

maxTurnSpeed: 0.5
turnAcceleration: 0.6
targetHeight:0.5
moveSlidingMode :false
moveIgnoringBody:true
moveSlidingDir: 0
reverseSpeedPercentage:0.8

slowDeathFall: false



[ai]
useAsBuilder: true



