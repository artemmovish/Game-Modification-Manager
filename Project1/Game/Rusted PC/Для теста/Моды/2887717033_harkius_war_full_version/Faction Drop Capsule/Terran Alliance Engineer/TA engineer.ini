[core]
name: TAE
displayText: Terran Alliance Contruction Unit 
displayDescription: -The Terran Alliance is prepared for battle. \n-Very versatile, jack-of-all-trades faction. \n-Acts as a Mobile headquarters \n-Armed, armoured, and able to repair and build. 
class: CustomUnitMetadata
price: TeamCredits=1
maxHp: 7500
mass: 9000

techLevel: 2

buildSpeed: 1
availableInDemo: false

generation_credits: 54
generation_delay: 40

radius: 45
displayRadius: 50


copyFrom: ROOT:HQ_AI.ini
#borrowResourcesWhileAlive: Ground=-9, AG=-9, AA=-9, LD=-3
tags: Unit, builder, NoCap, Factory, AA3, AG3, LD, Ground3


energyMax: 1
energyRegen: 0.0014




transportSlotsNeeded: 4


isBio: false
selfRegenRate:0
isBuilder: true



canRepairBuildings: true
canRepairUnits : true


canReclaimResources: true


autoRepair: true


nanoRange: 200


nanoRepairSpeed: 1
nanoBuildSpeed: 1



canBuild_1_name: EC_Gunner
canBuild_1_pos:  1
#canBuild_1_forceNano: true

canBuild_2_name: Terran_extractorT1
canBuild_2_pos: 0.1

canBuild_3_name: TA_Builder
canBuild_3_pos:  0.5
#canBuild_3_forceNano: true

canBuild_4_name: Terran_landFactory
canBuild_4_pos:  4

canBuild_5_name: Terran_airFactory
canBuild_5_pos:  5

canBuild_6_name: C_TseaFactory
canBuild_6_pos:  6

canBuild_7_name: Terran_mechFactory, CF_Barracks, experimentalLandFactory
canBuild_7_pos: 2

canBuild_8_name: reclaim
canBuild_8_pos:  -1




[hiddenAction_buildAO]
autoTrigger: false





[global_resource_TeamCredits]
displayName: TeamCredits
displayNameShort: TeamCreds
displayColor: #ffe92b




[hiddenAction_Started]
takeResources: EGround=-9, EAG=-9, EAA=-9, ELD=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-9, AG=-9, AA=-9, LD=-3
[hiddenAction_Killed]
takeResources: EGround=9, EAG=9, EAA=9, ELD=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=9, AG=9, AA=9, LD=3
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=5500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=4500)
temporarilyAddTags: Retreat










[hiddenAction_builder1]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=3500) and numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=400) and self.hp(lessThan=7000) and not self.hasFlag(id=1)
alsoQueueAction: builder2
addResources: setFlag=1, credits=-280

[hiddenAction_builder2]
buildSpeed: 2s
#addResources: credits=-170
alsoQueueAction: builder3
spawnUnits: EC_Gunner

[hiddenAction_builder3]
buildSpeed: 0.1s
addResources: unsetFlag=1





[hiddenAction_SwitchStart]
autoTrigger: if self.hasResources(credits=150000) and not self.hasFlag(id=5)
highPriorityQueue: true
convertTo: FDC_TerranSuper
addResources: setFlag=10
attachments_addNewUnits: Rhino_emptySlot*6
takeResources: EGround=-18, EAir=-27, EAG=-6, EAA=-6, EOrbit=-9, EAO=-3, EAntiArmour=-3, EAntiLD=-6, ELD=3
takeResources_includeUnitsWithinRange: 99999
takeResources_includeUnitsWithinRange_team: enemy
takeResources_excludeUnitsWithoutTags: aiMaster
takeResources_maxUnits: 10
takeResources_discardCollected: true
alsoTriggerAction: switchStart2

[hiddenAction_switchStart2]
takeResources: Ground=-18, Cliff=9, Air=-27, AG=-6, AA=-6, Orbit=-9, AO=-3, AntiArmour=-3, AntiLD=-6, LD=3
takeResources_includeUnitsWithinRange: 99999
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources_excludeUnitsWithoutTags: aiMaster
takeResources_maxUnits: 10
takeResources_discardCollected: true

[hiddenAction_NoSwitch]
autoTrigger: if not self.hasResources(credits=150000) and not self.hasFlag(id=5)
highPriorityQueue: true
addResources: setFlag=5


[attachment_unitSlot1]
x:0
y:0
idleDir:0
idleDirReversing:0
addTransportedUnits: true
setDrawLayerOnTop: true
lockLegMovement:false
canBeAttackedAndDamaged: false
isUnselectable: true

[attachment_unitSlot2]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot3]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot4]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot5]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot6]
@copyFromSection: attachment_unitSlot1







[graphics]
total_frames: 3
image:        TAE.png
image_wreak:  NONE
image_turret: Body.png
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

teamColorsOnTurret: true


#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1


animation_moving_start: 0
animation_moving_end: 2
animation_moving_speed: 2



[attack]

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 3
turretTurnSpeed: 20


maxAttackRange: 240
shootDelay: 50


turretRotateWithBody: false







[turret_1]
#nano turret (nano must be slot 1)
x: 0
y: 0
invisible: false
warmup:30

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turnSpeed: 2

barrelX: 30
barrelY: 15


isMainNanoTurret: true




[turret_2]


#missiles
x: -10
y: -15
invisible: false

image: turret.png

projectile: 1
turnSpeed: 8

shoot_sound:missile_fire
shoot_sound_vol:0.7
canShoot: true

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


shoot_light:#ff0000
warmup: 10
delay: 10

attachedTo: 1
size: 4






[turret_laserDefence]
x: 0
y: 0
canShoot: false
invisible: true
laserDefenceEnergyUse: 0.1
limitingRange: 200
size:1







[projectile_1]
#missile
directDamage: 50
areaRadius: 45
areaDamage: 75
drawSize: 0.8
life: 230
speed: 0.3
targetSpeed: 6
trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:40
ballistic_height: 50
frame: 4


autoTargetingOnDeadTarget: true


[movement]
movementType: LAND
moveSpeed: 1.2
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.07

maxTurnSpeed: 1.5
turnAcceleration: 0.2
targetHeight:0.5
moveSlidingMode :false
moveIgnoringBody:false
moveSlidingDir: 0
reverseSpeedPercentage:0.5

slowDeathFall: false



[ai]
useAsBuilder: true



