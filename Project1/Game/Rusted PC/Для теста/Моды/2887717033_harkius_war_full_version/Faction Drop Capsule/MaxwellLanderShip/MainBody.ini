[core]
name: FDC_MaxwellSuper
displayText: Viser Landing Ship
displayDescription: A heavy duty Lander ship, built to be modified for any situation. \n -Weapons are modular, can be customised and upgraded. \n-Repairs held units. \n-A sluggish but heavily protected ship, it relies on Maxwell Lander divisions to open a path for it to land.
class: CustomUnitMetadata
price: 240000
maxHp: 9000
mass: 900000

techLevel: 1
experimental: true

buildSpeed: 0.00007
#availableInDemo: true

radius: 100
#displayRadius: 120
isBio: false
softCollisionOnAll: 60
fogOfWarSightRange:35


generation_credits: 54
generation_delay: 40


copyFrom: ROOT:HQ_AI.ini
#borrowResourcesWhileAlive: Air=-27, AG=-15, AA=-15, Orbit=-9, AO=-3, AntiLD=-3
tags: Unit, AirT, AG3, AA3, NoCap, Factory, Titan, Orbit3, AO2, ALD2, AntiArmour



disableAllUnitCollisions: true





maxShield: 10000
shieldRegen: 0.25






exit_dirOffset:0
exit_moveAwayAmount:250



maxTransportingUnits: 24
transportUnitsHealBy: 0.3
transportUnitsBlockAirAndWaterUnits: false
transportUnitsRequireMovementType: AIR, LAND, OVER_CLIFF, OVER_CLIFF_WATER, HOVER
transportUnitsCanUnloadUnits: if not self.isOverLiquid() or self.isOverwater()




canRepairBuildings: true
canRepairUnits : true

autoRepair: true
isBuilder: true



nanoRange: 250


nanoFactorySpeed:1
nanoRepairSpeed: 0.5
nanoBuildSpeed: 1





nukeOnDeath: true
nukeOnDeathRange: 200
nukeOnDeathDamage: 4000
nukeOnDeathDisableWhenNoNuke: true





[hiddenAction_Started]
takeResources: EGround=-27, EAir=-27, EAG=-15, EAA=-15, EAntiLD=-9, EOrbit=-9, EAO=-3, EAntiArmour=-9
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-27, Air=-27, AG=-15, AA=-15, AntiLD=-9, Orbit=-9, AO=-3, AntiArmour=-9
[hiddenAction_Killed]
takeResources: EGround=27, EAir=27, EAG=-15, EAA=15, EAntiLD=9, EOrbit=9, EAO=3, EAntiArmour=9
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=27, Air=27, AG=-15, AA=15, AntiLD=9, Orbit=9, AO=3, AntiArmour=9
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=8500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=7000)
temporarilyAddTags: Retreat






[action_selectSlot1]
@define slotId: 1
buildSpeed: 0s
#text: Slot ${slotId}
text: [
textAddUnitName: unitRef self.attachment(slot="unitSlot${slotId}")
textPostFix: ]

descriptionAddFromUnit: unitRef self.attachment(slot="unitSlot${slotId}")
descriptionAddUnitStats: unitRef self.attachment(slot="unitSlot${slotId}")

addResources: unsetFlag=1-10, setFlag=${slotId}
isGuiBlinking: if self.hasFlag(id=${slotId})
displayType: action
unitShownInUI: unitRef self.attachment(slot="unitSlot${slotId}")


iconExtraIsVisible: if self.hasFlag(id=${slotId})
iconExtraImage: icon_selected.png

pos:1


canPlayerCancel: false
allowMultipleInQueue: false

#No confirm needed on mobile
alwaysSinglePress: true
highPriorityQueue: true



#Makes the 'flags' for this unit appear to update instantly in the UI without waiting for
#confirmation from the server. Removes sluggish feeling when switching tabs.
#Note: If unit flags were also updated from non-ui sources this option might have visual side effects.
extraLagHidingInUI: true






[action_selectSlot2]
@copyFromSection: action_selectSlot1
@define slotId: 2
[action_selectSlot3]
@copyFromSection: action_selectSlot1
@define slotId: 3
[action_selectSlot4]
@copyFromSection: action_selectSlot1
@define slotId: 4
[action_selectSlot5]
@copyFromSection: action_selectSlot1
@define slotId: 5
[action_selectSlot6]
@copyFromSection: action_selectSlot1
@define slotId: 6






[action_selectSlotBuild]
@copyFromSection: action_selectSlot1
@define slotId: 10
pos:0
text: [ Build ]
textPostFix:
textAddUnitName: 
descriptionAddFromUnit: 
descriptionAddUnitStats:

unitShownInUI: 


[hiddenAction_onCreate]
autoTriggerOnEvent: created
addResources: setFlag=10



[attachment_unitSlot1]

x:-25
y:65
#idleDir:-60
idleDir:0
idleDirReversing:0

onCreateSpawnUnitOf:Lander_emptySlot
addTransportedUnits: true
setDrawLayerOnTop: true
lockLegMovement:false

canBeAttackedAndDamaged: true
isUnselectable: false

showAllActionsFrom:if self.hasFlag(id=1)

#resetRotationWhenNotAttacking:true
lockRotation: true

createIncompleteIfParentIs: false

redirectDamageToParent: true
redirectDamageToParent_shieldOnly: true

[attachment_unitSlot2]
@copyFromSection: attachment_unitSlot1

x:25
y:65
#idleDir:60
idleDir:0
idleDirReversing:0

showAllActionsFrom:if self.hasFlag(id=2)


[attachment_unitSlot3]
@copyFromSection: attachment_unitSlot1
x:-25
y:2
idleDir:-90
idleDirReversing:-90

showAllActionsFrom:if self.hasFlag(id=3)


[attachment_unitSlot4]
@copyFromSection: attachment_unitSlot1
x:25
y:2
idleDir:90
idleDirReversing:90

showAllActionsFrom:if self.hasFlag(id=4)

[attachment_unitSlot5]
@copyFromSection: attachment_unitSlot1


x:-25
y:-70
#idleDir:-120

idleDir:225
idleDirReversing:225

showAllActionsFrom:if self.hasFlag(id=5)

[attachment_unitSlot6]
@copyFromSection: attachment_unitSlot1


x:25
y:-70
#idleDir:120
idleDir:135
idleDirReversing:135


showAllActionsFrom:if self.hasFlag(id=6)
















[canBuild_1]
name: M_Extractor, M_Fabric1, M_LightFac, M_WalkFac, M_Air, M_Barrac, M_Dock, M_G1, M_A1, M_SG1, M_SA1, M_T1, M_Skyfire turret1
pos:  30
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true



[canBuild_antiorbit]
name: M_ORBs
pos: 30
isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true



[canBuild_2]
name: M build truck, MS_soldier, MR_Soldier
pos:  31
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true




[canBuild_3]
name: M_Bike, M_Shadow, M remove truck, M_ATWA, M_Hunt, M_Cestral, M_Scout,  M_Comet
pos:  32
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true






[canBuild_showReclaimAction]
name: reclaim
pos:  -1

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true







[hiddenAction_unload]
autoTrigger: if self.isControlledByAI() and self.transportingCount(greaterThan=0) and self.hp(lessThan=4000) or self.isControlledByAI() and self.transportingCount(greaterThan=0) and not self.isFlying()
startUnloadingTransport: true
clearAllWaypoints: false




[action_orbital]
text: Engage Boosters
buildSpeed: 1s
convertTo: FDC_MaxwellSuper_O
isVisible: true
highPriorityQueue: true
pos: 0.1
ai_isDisabled: true







[graphics]
drawLayer: experimentals

total_frames: 1
teamColorsOnTurret: true

image:        Body.png
image_wreak:  NONE
image_turret: Repair.png
icon_zoomed_out: MapX.png

image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3
movementEffect: CUSTOM:thrust
movementEffectRate: 10



[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 18
turretTurnSpeed: 4
maxAttackRange: 340
shootDelay: 5
turretMultiTargeting: true







[turret_1]
#nano turret
x: 0
y: 0
warmup:10
image: Repair.png

size: 20

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turnSpeedAcceleration: 0.12

isMainNanoTurret: true




[turret_2]
x: -50
y: 70
canShoot: true

invisible: true

shoot_sound:large_gun_fire2
shoot_sound_vol:0.3
shoot_flame:large
shoot_light:#FFff925c

delay: 0.1s
warmup: 0.1s
projectile: 1

idleDir: -90
limitingAngle: 100





[turret_3]
x: 50
y: 70
canShoot: true

invisible: true

shoot_sound:large_gun_fire2
shoot_sound_vol:0.3
shoot_flame:large
shoot_light:#FFff925c


delay: 0.1s
warmup: 0.1s


idleDir: 90
limitingAngle: 100







[projectile_1]
#cannon shot
directDamage: 85
life: 160
speed: 15


largeHitEffect: true


drawType:2
frame:4
drawSize: 1
trailEffect: CUSTOM:projectileTrail
trailEffectRate:2
explodeEffect: CUSTOM:projectilePassThough, smallExplosion, CUSTOM:hitLightFlash

explodeEffectOnShield: CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectileLight



[effect_warmup]
priority:high
image: SHARED:light_50.png
life: 25
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.1
scaleTo: 0.1
alpha: 0.8
drawUnderUnits:false
ySpeedRelative:2

[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.7
scaleTo: 0.9
alpha: 0.3
drawUnderUnits:true


[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.4
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #63e6e8
fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.6
alpha: 0.4
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false

[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 20
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false
ySpeedRelative:1.5
atmospheric: true








[effect_thrust]
image: thrust.png
life: 60
fadeOut: true
attachedToUnit: false
fadeInTime:15
drawUnderUnits:true
ySpeedRelative:-0.4
atmospheric: true
scaleFrom: 0.1
scaleTo: 5







[movement]
movementType: AIR
moveSpeed: 0.24
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.02

landOnGround: true
targetHeight: 60

maxTurnSpeed: 0.5
turnAcceleration: 0.05

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  45


slowDeathFall: true


[ai]
useAsBuilder: true

ai_upgradePriority: 0.25


