
[core]
name: MMC
displayText: Mobile Command Walker
displayDescription: Let the land tremble: The Might of Maxwell arrives! \n-Very defence oriented, with strong fortifications. \n-Their armies can struggle in direct combat. \n-Powerful energy cannon.\n-Acts as a Mobile HQ.
class: CustomUnitMetadata

price: TeamCredits=1
maxHp: 8000
mass: 9000

isPickableStartingUnit: false


generation_credits: 54
generation_delay: 40


techLevel: 2
experimental: false

buildSpeed: 1

copyFrom: ROOT:HQ_AI.ini
#borrowResourcesWhileAlive: Ground=-9, AG=-9, AA=-9, AntiShield=-1
tags: Unit, builder, NoCap, Factory, AA3, AG3, AntiShield, Ground3, Cliff2


radius: 45
displayRadius: 35


armour: 4

transportSlotsNeeded: 6


isBio: false
selfRegenRate:0
isBuilder: true



canRepairBuildings: true
canRepairUnits : true


canReclaimResources: true


autoRepair: true


nanoRange: 300
exit_y: -25


nanoRepairSpeed: 1
nanoBuildSpeed: 1


canBuild_1_name: M_Extractor
canBuild_1_pos:  0.1

canBuild_2_name: MS_soldier, M build truck
canBuild_2_pos:  0.4
#canBuild_2_forceNano: true

canBuild_3_name: M_WalkFac, M_LightFac, M_Barrac, M_Air, M_Dock
canBuild_3_pos:  0.2

canBuild_4_name: M_G1, M_A1
canBuild_4_pos:  0.5

canBuild_10_name: reclaim
canBuild_10_pos:  -1


[global_resource_TeamCredits]
displayName: TeamCredits
displayNameShort: TeamCreds
displayColor: #ffe92b



[hiddenAction_Started]
takeResources: EGround=-9, ECliff=-9, EAG=-9, EAA=-9, EAntiShield=-1, EAntiArmour=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-9, Cliff=-9, AG=-9, AA=-9, AntiShield=-1, AntiArmour=-3
[hiddenAction_Killed]
takeResources: EGround=9, ECliff=9, EAG=9, EAA=9, EAntiShield=1, EAntiArmour=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=9, Cliff=9, AG=9, AA=9, AntiShield=1, AntiArmour=3
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=7000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=5500)
temporarilyAddTags: Retreat






[hiddenAction_builder4]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=0, withinRange=500) and not self.hasUnitInTeam(withTag='builder', greaterThan=20) and self.hasResources(credits=5000) and not self.hasFlag(id=1)
alsoQueueAction: builder5
addResources: setFlag=1, credits=-700

[hiddenAction_builder5]
buildSpeed: 8s
#addResources: credits=-700
alsoQueueAction: builder6
spawnUnits: M build truck

[hiddenAction_builder6]
buildSpeed: 0.1s
addResources: unsetFlag=1





[hiddenAction_builder1]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=2000) and numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=400) and self.hp(lessThan=7000) and not self.hasFlag(id=1)
alsoQueueAction: builder2
addResources: setFlag=1, credits=-250

[hiddenAction_builder2]
buildSpeed: 4.5s
#addResources: credits=-170
alsoQueueAction: builder3
spawnUnits: MS_soldier

[hiddenAction_builder3]
buildSpeed: 0.1s
addResources: unsetFlag=1




[hiddenAction_SwitchStart]
autoTrigger: if self.hasResources(credits=150000) and not self.hasFlag(id=5)
highPriorityQueue: true
convertTo: FDC_MaxwellSuper
addResources: setFlag=10
attachments_addNewUnits: Lander_emptySlot*6
takeResources: EGround=-18, ECliff=9, EAir=-27, EAG=-6, EAA=-6, EAntiShield=1, EAntiArmour=-6, EAntiLD=-9, EOrbit=-9, EAO=-3
takeResources_includeUnitsWithinRange: 99999
takeResources_includeUnitsWithinRange_team: enemy
takeResources_excludeUnitsWithoutTags: aiMaster
takeResources_maxUnits: 10
takeResources_discardCollected: true
alsoTriggerAction: switchStart2

[hiddenAction_switchStart2]
takeResources: Ground=-18, Cliff=9, Air=-27, AG=-6, AA=-6, AntiShield=1, AntiArmour=-6, AntiLD=-9, Orbit=-9, AO=-3
takeResources_includeUnitsWithinRange: 99999
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources_excludeUnitsWithoutTags: aiMaster
takeResources_maxUnits: 10
takeResources_discardCollected: true

[hiddenAction_NoSwitch]
autoTrigger: if not self.hasResources(credits=150000) and not self.hasFlag(id=5)
highPriorityQueue: true
addResources: setFlag=5


[attachment_unitSlot1]
x:0
y:0
idleDir:0
idleDirReversing:0
addTransportedUnits: true
setDrawLayerOnTop: true
lockLegMovement:false
canBeAttackedAndDamaged: false
isUnselectable: true

[attachment_unitSlot2]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot3]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot4]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot5]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot6]
@copyFromSection: attachment_unitSlot1






[graphics]
total_frames: 1
teamColorsOnTurret: true
image:        base.png
image_wreak: NONE
image_turret: body.png


image_shadow: SHADOW:body.png
lock_shadow_rotation_with_main_turret: true
shadowOffsetX:2
shadowOffsetY:2

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 265
shootDelay: 15
aimOffsetSpread:0.2
turretRotateWithBody: true
isMelee: false
turretMultiTargeting: true







[turret_nanoTurret]
#right arm
x: 10
y: 15
warmup:30

turnSpeed: 4
size: 15


canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isMainNanoTurret: true

image: claw.png



[turret_2]

#left melee arm

x: -10
y: 15
turnSpeed: 10

idleDir: 0

image: claw.png

canShoot: true

shouldResetTurret: true

projectile: 2
limitingRange: 200


chargeEffectImage: charge small.png

shoot_sound: lighting_burst
shoot_sound_vol: 0.05
shoot_flame: NONE
shoot_light:#77ccff

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
size: 15
delay: 0.05s
warmup: 0.05s



[turret_3]

#body

x: 0
y: 0
turnSpeed: 0.5
size: 20
canShoot: false
idleDir:0
limitingAngle: 1
limitingRange: 1


[turret_4]
x: 0
y: 0
canShoot: false
turnSpeed: 10
image: arm.png


[turret_5]

#Cannon
x: 0
y: 0
attachedTo: 4
slave: true
turnSpeed: 0
projectile: 1
delay: 0
warmup: 30
chargeEffectImage: charge small.png
shoot_sound: rocket1.wav
shoot_sound_vol: 1
shoot_flame:large
shoot_light:#FFEECCCC

image: cannon.png







[projectile_1]
directDamage: 220
life: 160
speed: 15


largeHitEffect: true


drawType:2
frame:4
drawSize: 1
trailEffect: CUSTOM:projectileTrail
trailEffectRate:2
explodeEffect: CUSTOM:projectilePassThough, smallExplosion, CUSTOM:hitLightFlash

explodeEffectOnShield: CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectileLight



[projectile_2]
#electron beam
directDamage: 9
speed: 20
life: 10
lightingEffect: true
instant: true
deflectionPower: -1

shieldDamageMultiplier: 2
shieldDefectionMultiplier: 0.1

buildingDamageMultiplier: 0.3






[effect_warmup]
priority:high
image: SHARED:light_50.png
life: 25
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.1
scaleTo: 0.1
alpha: 0.8
drawUnderUnits:false
ySpeedRelative:2

[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.7
scaleTo: 0.9
alpha: 0.3
drawUnderUnits:true


[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.4
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #63e6e8
fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.6
alpha: 0.4
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false

[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 20
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false
ySpeedRelative:1.5
atmospheric: true





[leg_1]
x: -40
y: -25
attach_x: -20
attach_y: -12
moveSpeed: 2.5

rotateSpeed: 2

heightSpeed: 0.2
resetAngle:25

image_leg:  leg.png
image_foot: foot.png

#draw_foot_on_top: false
#dust_effect: false

holdDisMin: 0.02
holdDisMax: 0.04

[leg_2]
x: 40
y: -25
attach_x: 20
attach_y: -12
copyFrom: 1

[leg_3]
x: 40
y: 25
attach_x: 20
attach_y: 12
copyFrom: 1

[leg_4]
x: -40
y: 25
attach_x: -20
attach_y: 12
copyFrom: 1




[movement]
movementType: OVER_CLIFF
moveSpeed: 0.5
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.07

maxTurnSpeed: 1.0
turnAcceleration: 0.05
targetHeight:1
moveSlidingMode :false
moveIgnoringBody:true
moveSlidingDir: 0
reverseSpeedPercentage:0.8

slowDeathFall: false




[ai]
useAsBuilder: true



