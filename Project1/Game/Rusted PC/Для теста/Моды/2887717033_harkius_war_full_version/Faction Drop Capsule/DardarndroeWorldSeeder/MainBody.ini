[core]
name: FDC_DarnSuper
displayText: World Seeder
displayDescription: A horrific mobile hive, ready to infect and consume another world. \n -Weapons are modular, can be customised and upgraded. \n-Repairs held units. \n-Often deployed in bulk after a world is completely consumed by the infection.
class: CustomUnitMetadata
price: 240000
maxHp: 6000
mass: 900000

techLevel: 1
experimental: true

buildSpeed: 0.00007
#availableInDemo: true

radius: 100
#displayRadius: 120
isBio: false
softCollisionOnAll: 60
fogOfWarSightRange:35


generation_credits: 54
generation_delay: 40


isBuilding: false

copyFrom: ROOT:HQ_AI.ini
#borrowResourcesWhileAlive: Air=-27, AG=-15, AA=-15, Orbit=-9, AO=-3, AntiLD=-9
tags: Unit, AirT, AG3, AA3, NoCap, Factory, Titan, Orbit3, AO2, ALD3




disableAllUnitCollisions: true





maxShield: 7000
shieldRegen: 0.4
selfRegenRate:0.4





exit_dirOffset:0
exit_moveAwayAmount:250



maxTransportingUnits: 24
transportUnitsHealBy: 0.3
transportUnitsBlockAirAndWaterUnits: false
transportUnitsRequireMovementType: AIR, LAND, OVER_CLIFF, OVER_CLIFF_WATER, HOVER
transportUnitsCanUnloadUnits: if not self.isOverLiquid() or self.isOverwater()




canRepairBuildings: true
canRepairUnits : true

autoRepair: true
isBuilder: true



nanoRange: 250


nanoFactorySpeed:1.25
nanoRepairSpeed: 0.5
nanoBuildSpeed: 1.1





nukeOnDeath: true
nukeOnDeathRange: 200
nukeOnDeathDamage: 4000
nukeOnDeathDisableWhenNoNuke: true



[hiddenAction_Started]
takeResources: EGround=-27, EAir=-27, EAG=-15, EAA=-15, EAntiLD=-9, EOrbit=-9, EAO=-3, EAntiArmour=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-27, Air=-27, AG=-15, AA=-15, AntiLD=-9, Orbit=-9, AO=-3, AntiArmour=-3
[hiddenAction_Killed]
takeResources: EGround=27, EAir=27, EAG=-15, EAA=15, EAntiLD=9, EOrbit=9, EAO=3, EAntiArmour=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=27, Air=27, AG=-15, AA=15, AntiLD=9, Orbit=9, AO=3, AntiArmour=3
#TotalUnit=-1




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=5500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=5000)
temporarilyAddTags: Retreat



[global_resource_Data]
displayName: Data
displayRoundedDown: true
displayColor: #8100FF

[global_resource_Roll]
hidden: true
[global_resource_Bloat]
hidden: true
[global_resource_Carrier]
hidden: true
[global_resource_Brute]
hidden: true
[global_resource_Maw]
hidden: true
[global_resource_Nano]
hidden: true
[global_resource_Spore]
hidden: true
[global_resource_Sniper]
hidden: true
[global_resource_Gol]
hidden: true
[global_resource_Cluster]
hidden: true
[global_resource_Shell]
hidden: true
[global_resource_Worm]
hidden: true
[global_resource_Lobster]
hidden: true
[global_resource_Tank]
hidden: true
[global_resource_Nest]
hidden: true
[global_resource_Drag]
hidden: true
[global_resource_Nuke]
hidden: true
[global_resource_Crab]
hidden: true
[global_resource_Limp]
hidden: true
[global_resource_Devour]
hidden: true
[global_resource_Milli]
hidden: true
[global_resource_Orbit]
hidden: true
[global_resource_Structures]
hidden: true
[global_resource_Shark]
hidden: true
[global_resource_FCluster]
hidden: true
[global_resource_Vortex]
hidden: true
[global_resource_Whale]
hidden: true
[global_resource_Reef]
hidden: true




[action_selectSlot1]
@define slotId: 1
buildSpeed: 0s
#text: Slot ${slotId}
text: [
textAddUnitName: unitRef self.attachment(slot="unitSlot${slotId}")
textPostFix: ]

descriptionAddFromUnit: unitRef self.attachment(slot="unitSlot${slotId}")
descriptionAddUnitStats: unitRef self.attachment(slot="unitSlot${slotId}")

addResources: unsetFlag=1-10, setFlag=${slotId}
isGuiBlinking: if self.hasFlag(id=${slotId})
displayType: action
unitShownInUI: unitRef self.attachment(slot="unitSlot${slotId}")


iconExtraIsVisible: if self.hasFlag(id=${slotId})
iconExtraImage: icon_selected.png

pos:1


canPlayerCancel: false
allowMultipleInQueue: false

#No confirm needed on mobile
alwaysSinglePress: true
highPriorityQueue: true



#Makes the 'flags' for this unit appear to update instantly in the UI without waiting for
#confirmation from the server. Removes sluggish feeling when switching tabs.
#Note: If unit flags were also updated from non-ui sources this option might have visual side effects.
extraLagHidingInUI: true






[action_selectSlot2]
@copyFromSection: action_selectSlot1
@define slotId: 2
[action_selectSlot3]
@copyFromSection: action_selectSlot1
@define slotId: 3
[action_selectSlot4]
@copyFromSection: action_selectSlot1
@define slotId: 4
[action_selectSlot5]
@copyFromSection: action_selectSlot1
@define slotId: 5
[action_selectSlot6]
@copyFromSection: action_selectSlot1
@define slotId: 6






[action_selectSlotBuild]
@copyFromSection: action_selectSlot1
@define slotId: 10
pos:0
text: [ Build ]
textPostFix:
textAddUnitName: 
descriptionAddFromUnit: 
descriptionAddUnitStats:

unitShownInUI: 


[hiddenAction_onCreate]
autoTriggerOnEvent: created
addResources: setFlag=10



[attachment_unitSlot1]

x:-22
y:55
#idleDir:-60
idleDir:-45
idleDirReversing:0

onCreateSpawnUnitOf:Seed_emptySlot
addTransportedUnits: true
setDrawLayerOnTop: true
lockLegMovement:false

canBeAttackedAndDamaged: true
isUnselectable: false

showAllActionsFrom:if self.hasFlag(id=1)

#resetRotationWhenNotAttacking:true
lockRotation: true

createIncompleteIfParentIs: false

redirectDamageToParent: true
redirectDamageToParent_shieldOnly: true

[attachment_unitSlot2]
@copyFromSection: attachment_unitSlot1

x:22
y:55
#idleDir:60
idleDir:45
idleDirReversing:0

showAllActionsFrom:if self.hasFlag(id=2)


[attachment_unitSlot3]
@copyFromSection: attachment_unitSlot1
x:-80
y:-20
idleDir:-90
idleDirReversing:-90

showAllActionsFrom:if self.hasFlag(id=3)


[attachment_unitSlot4]
@copyFromSection: attachment_unitSlot1
x:80
y:-20
idleDir:90
idleDirReversing:90

showAllActionsFrom:if self.hasFlag(id=4)

[attachment_unitSlot5]
@copyFromSection: attachment_unitSlot1


x:-35
y:-40
#idleDir:-120

idleDir:225
idleDirReversing:180

showAllActionsFrom:if self.hasFlag(id=5)

[attachment_unitSlot6]
@copyFromSection: attachment_unitSlot1


x:35
y:-40
#idleDir:120
idleDir:135
idleDirReversing:180


showAllActionsFrom:if self.hasFlag(id=6)














[hiddenAction_builder4]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Scav', greaterThan=1, withinRange=500) and not self.hasUnitInTeam(withTag='Scav', greaterThan=30) and self.hasResources(credits=2000) and not self.hasFlag(id=29)
alsoQueueAction: builder5
addResources: setFlag=29, credits=-120

[hiddenAction_builder5]
buildSpeed: 6s
#addResources: credits=-120
alsoQueueAction: builder6
spawnUnits: D_Scavanger

[hiddenAction_builder6]
buildSpeed: 0.1s
addResources: unsetFlag=29




[canBuild_1]
name: D_hive, D_Mound1, D_Root, D_StemHub, D_Mutation, D_Factory, D_Filter
pos:  30
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true


[canBuild_Antiorbit]
name: D_HyperSpitter
pos: 30
isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true


[canBuild_Shell]
name: D_ShellScavanger
pos:  31
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true
isLocked: if not self.hasResources(Shell=1)
price: credits=6000, Data=25


[canBuild_Nano]
name: D_Nano
pos:  31
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true
isLocked: if not self.hasResources(Nano=1)


[canBuild_drones]
name: D_Drone4, D_Netter
pos:  31
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true

[canBuild_Bloat]
name: D_Bloat
pos:  31
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true
isLocked: if not self.hasResources(Bloat=1)

[canBuild_Carrier]
name: D_Carrier
pos:  31
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true
isLocked: if not self.hasResources(Carrier=1)





[canBuild_showReclaimAction]
name: reclaim
pos:  -1
isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true










[hiddenAction_unload]
autoTrigger: if self.isControlledByAI() and self.transportingCount(greaterThan=0) and self.hp(lessThan=4000) or self.isControlledByAI() and self.transportingCount(greaterThan=0) and not self.isFlying()
startUnloadingTransport: true
clearAllWaypoints: false




[action_orbital]
text: Engage Boosters
buildSpeed: 1s
convertTo: FDC_DarnSuper_O
isVisible: true
highPriorityQueue: true
pos: 0.1
ai_isDisabled: true







[graphics]
drawLayer: experimentals

total_frames: 1
teamColorsOnTurret: true

image:        Body.png
image_wreak:  NONE
image_turret: Nanohose.png
icon_zoomed_out: MapX.png

image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3
movementEffect: CUSTOM:thrust
movementEffectRate: 10



[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 18
turretTurnSpeed: 4
maxAttackRange: 370
shootDelay: 5
turretMultiTargeting: true







[turret_1]
#nano turret
x: 0
y: -25
warmup:10
image: Nanohose.png

size: 20

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turnSpeedAcceleration: 0.12

isMainNanoTurret: true







[turret_2]

#right gunning arm

x: 0
y: -23
projectile: Birb
invisible: true


turnSpeed: 99
turnSpeedAcceleration: 99


canShoot: true

delay: 0.65s
warmup: 0.65s









[projectile_Birb]
directDamage: 5
life: 2
speed: 10
spawnUnit: D_Birb*11
explodeOnEndOfLife: true
drawSize: 1.15

image: Spore.png

targetGround: true
targetGroundSpread: 15


initialUnguidedSpeedHeight: 2.5
gravity:0.8
#lightCastOnGround: true









[turret_Hive1]
#missile turret
x: 30
y: -30
aimOffsetSpread: 80


idleDir:0
turnSpeed: 99


invisible: true

shoot_sound:bee.ogg
shoot_sound_vol:0.2
shoot_flame:small
shoot_light:#FFccCCEE


projectile: missile

delay: 0.2s
warmup: 0s


[turret_Hive2]
#missile turret
x: -30
y: -30
aimOffsetSpread: 80


idleDir:0
turnSpeed: 99


invisible: true

shoot_sound:bee.ogg
shoot_sound_vol:0.2
shoot_flame:small
shoot_light:#FFccCCEE


projectile: missile

delay: 0.2s
warmup: 0s








[projectile_missile]
directDamage: 26
life: 30
speed: 2

targetSpeed: 8
targetSpeedAcceleration: 0.3
turnSpeed:3

spawnProjectilesOnEndOfLife: 2
autoTargetingOnDeadTarget: true


#areaDamage: 60
#areaRadius: 90


#spawnUnit: D_NotSpaceBlob

drawType:2

drawSize: 1.2

image: bee.png
ballistic: true
ballistic_delaymove_height:40
ballistic_height: 20
armourIgnoreAmount: 5
deflectionPower: 0.5



[projectile_2]
directDamage: 26
life: 200
speed: 8

targetSpeed: 16
targetSpeedAcceleration: 0.7
turnSpeed:12

spawnProjectilesOnEndOfLife: NONE


@copyFromSection: projectile_missile


wobbleAmplitude: 0.9
wobbleFrequency: 0.95s
armourIgnoreAmount: 5








[effect_thrust]
image: thrust.png
life: 50
fadeOut: true
attachedToUnit: false
fadeInTime:15
drawUnderUnits:true
ySpeedRelative:-0.4
atmospheric: true
scaleFrom: 0.1
scaleTo: 5







[movement]
movementType: AIR
moveSpeed: 0.25
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.02

landOnGround: true
targetHeight: 60

maxTurnSpeed: 0.8
turnAcceleration: 0.05

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  45


slowDeathFall: true


[ai]
useAsBuilder: true

ai_upgradePriority: 0.25


