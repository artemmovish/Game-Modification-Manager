[core]
name: FDC_TerranSuper
displayText: Rhinoceros Superheavy builder
displayDescription: Armed modification of a heavy industrial ship. \n -Weapons are modular, can be customised and upgraded. \n-Repairs held units. \n-This modified ship is sometimes deployed to hostile environments to fortify positions.
class: CustomUnitMetadata
price: 240000
maxHp: 8000
mass: 900000

techLevel: 1
experimental: true

buildSpeed: 0.00007
#availableInDemo: true

radius: 100
#displayRadius: 120
isBio: false
softCollisionOnAll: 60
fogOfWarSightRange:35


generation_credits: 54
generation_delay: 40



copyFrom: ROOT:HQ_AI.ini
#borrowResourcesWhileAlive: Air=-27, AG=-15, AA=-15, Orbit=-9, AO=-3, AntiLD=-9
tags: Unit, AirT, AG3, AA3, NoCap, Factory, Titan, Orbit3, AO2, ALD3, ShieldT



disableAllUnitCollisions: true





maxShield: 9000
shieldRegen: 0.25





exit_dirOffset:0
exit_moveAwayAmount:250



maxTransportingUnits: 24
transportUnitsHealBy: 0.3
transportUnitsBlockAirAndWaterUnits: false
transportUnitsRequireMovementType: AIR, LAND, OVER_CLIFF, OVER_CLIFF_WATER, HOVER
transportUnitsCanUnloadUnits: if not self.isOverLiquid() or self.isOverwater()




canRepairBuildings: true
canRepairUnits : true

autoRepair: true
isBuilder: true



nanoRange: 250


nanoFactorySpeed:1
nanoRepairSpeed: 0.5
nanoBuildSpeed: 1





nukeOnDeath: true
nukeOnDeathRange: 200
nukeOnDeathDamage: 4000
nukeOnDeathDisableWhenNoNuke: true




[hiddenAction_Started]
takeResources: EGround=-27, EAir=-27, EAG=-15, EAA=-15, EAntiLD=-9, EOrbit=-9, EAO=-3, EAntiArmour=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-27, Air=-27, AG=-15, AA=-15, AntiLD=-9, Orbit=-9, AO=-3, AntiArmour=-3
[hiddenAction_Killed]
takeResources: EGround=27, EAir=27, EAG=-15, EAA=15, EAntiLD=9, EOrbit=9, EAO=3, EAntiArmour=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=27, Air=27, AG=-15, AA=15, AntiLD=9, Orbit=9, AO=3, AntiArmour=3
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=7500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=6000)
temporarilyAddTags: Retreat







[action_selectSlot1]
@define slotId: 1
buildSpeed: 0s
#text: Slot ${slotId}
text: [
textAddUnitName: unitRef self.attachment(slot="unitSlot${slotId}")
textPostFix: ]

descriptionAddFromUnit: unitRef self.attachment(slot="unitSlot${slotId}")
descriptionAddUnitStats: unitRef self.attachment(slot="unitSlot${slotId}")

addResources: unsetFlag=1-10, setFlag=${slotId}
isGuiBlinking: if self.hasFlag(id=${slotId})
displayType: action
unitShownInUI: unitRef self.attachment(slot="unitSlot${slotId}")


iconExtraIsVisible: if self.hasFlag(id=${slotId})
iconExtraImage: icon_selected.png

pos:1


canPlayerCancel: false
allowMultipleInQueue: false

#No confirm needed on mobile
alwaysSinglePress: true
highPriorityQueue: true



#Makes the 'flags' for this unit appear to update instantly in the UI without waiting for
#confirmation from the server. Removes sluggish feeling when switching tabs.
#Note: If unit flags were also updated from non-ui sources this option might have visual side effects.
extraLagHidingInUI: true






[action_selectSlot2]
@copyFromSection: action_selectSlot1
@define slotId: 2
[action_selectSlot3]
@copyFromSection: action_selectSlot1
@define slotId: 3
[action_selectSlot4]
@copyFromSection: action_selectSlot1
@define slotId: 4
[action_selectSlot5]
@copyFromSection: action_selectSlot1
@define slotId: 5
[action_selectSlot6]
@copyFromSection: action_selectSlot1
@define slotId: 6






[action_selectSlotBuild]
@copyFromSection: action_selectSlot1
@define slotId: 10
pos:0
text: [ Build ]
textPostFix:
textAddUnitName: 
descriptionAddFromUnit: 
descriptionAddUnitStats:

unitShownInUI: 


[hiddenAction_onCreate]
autoTriggerOnEvent: created
addResources: setFlag=10



[attachment_unitSlot1]

x:-22
y:55
#idleDir:-60
idleDir:-45
idleDirReversing:0

onCreateSpawnUnitOf:Rhino_emptySlot
addTransportedUnits: true
setDrawLayerOnTop: true
lockLegMovement:false

canBeAttackedAndDamaged: true
isUnselectable: false

showAllActionsFrom:if self.hasFlag(id=1)

#resetRotationWhenNotAttacking:true
lockRotation: true

createIncompleteIfParentIs: false

redirectDamageToParent: true
redirectDamageToParent_shieldOnly: true

[attachment_unitSlot2]
@copyFromSection: attachment_unitSlot1

x:22
y:55
#idleDir:60
idleDir:45
idleDirReversing:0

showAllActionsFrom:if self.hasFlag(id=2)


[attachment_unitSlot3]
@copyFromSection: attachment_unitSlot1
x:-60
y:-24
idleDir:-90
idleDirReversing:-90

showAllActionsFrom:if self.hasFlag(id=3)


[attachment_unitSlot4]
@copyFromSection: attachment_unitSlot1
x:60
y:-24
idleDir:90
idleDirReversing:90

showAllActionsFrom:if self.hasFlag(id=4)

[attachment_unitSlot5]
@copyFromSection: attachment_unitSlot1


x:-25
y:-73
#idleDir:-120

idleDir:225
idleDirReversing:180

showAllActionsFrom:if self.hasFlag(id=5)

[attachment_unitSlot6]
@copyFromSection: attachment_unitSlot1


x:25
y:-73
#idleDir:120
idleDir:135
idleDirReversing:180


showAllActionsFrom:if self.hasFlag(id=6)
















[canBuild_1]
name: TA_Builder, TerranCombatEngineer, TerranmechEngineer, Strike trooper, EC_Gunner, Terranscout
pos:  30
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true



[canBuild_2]
name: c_Terrantank, Tc_hovertank, Terran_heavyTank, Tc_heavyHovertank, TerranplasmaTank, TerranC_laserTank, hailerTank
pos:  31
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true




[canBuild_3]
name: MEAS, TerranmechGun, TerranmechMissile, TerranmechBunker
pos:  32
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true




[canBuild_4]
name: TA_lightGunship, Tc_interceptor, Tc_helicopter, MAWS
pos:  33
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true




[canBuild_5]
name: Terran_extractorT1
pos:  34

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true



[canBuild_6]
name: Terran_landFactory, CF_Barracks
pos:  35

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true



[canBuild_7]
name: Terran_airFactory, C_TseaFactory, Terran_mechFactory
pos:  36

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true


[canBuild_8]
name: TerranPort
pos:  37

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true



[canBuild_9]
name: Terranc_fabricatorT1
pos:  38

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true



[canBuild_10]
name: TerrangunLand, TerranAA, TA_repairBay
pos:  39

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true


[canBuild_AntiOrbit]
name: CBE Tower
pos: 39
isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)
isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true


[canBuild_Antinuke]
name: Terran_antiNukeLauncherC
pos: 39
isGuiBlinking: if not self.hasUnitInTeam(withTag='antinuke', greaterThan=0, withinRange=1000) and game.nukesEnabled()
isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true



[canBuild_11]
name: Terran_ExperimentalFactory
pos:  40

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true





[canBuild_showReclaimAction]
name: reclaim
pos:  -1

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true








[hiddenAction_unload]
autoTrigger: if self.isControlledByAI() and self.transportingCount(greaterThan=0) and self.hp(lessThan=4000) or self.isControlledByAI() and self.transportingCount(greaterThan=0) and not self.isFlying()
startUnloadingTransport: true
clearAllWaypoints: false




[action_orbital]
text: Engage Boosters
buildSpeed: 1s
convertTo: FDC_TerranSuper_O
isVisible: true
highPriorityQueue: true
pos: 0.1
ai_isDisabled: true







[graphics]
drawLayer: experimentals

total_frames: 1
teamColorsOnTurret: true

image:        Body.png
image_wreak:  NONE
image_turret: Crane.png
icon_zoomed_out: MapX.png

image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3
movementEffect: CUSTOM:thrust
movementEffectRate: 10



[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 18
turretTurnSpeed: 4
maxAttackRange: 300
shootDelay: 5
turretMultiTargeting: true









[turret_1]
#nano turret
x: 0
y: -25
warmup:10
image: Crane.png

size: 20

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turnSpeedAcceleration: 0.12

isMainNanoTurret: true




[turret_2]
x: -40
y: -30
canShoot: true

invisible: true

shoot_sound:plasma_fire
shoot_sound_vol:0.2
shoot_flame:shockwave
shoot_light:#FFccCCEE

delay: 0.1s
warmup: 0
projectile: 1

idleDir: -90
limitingAngle: 100





[turret_3]
x: 40
y: -30
canShoot: true

invisible: true

shoot_sound:plasma_fire
shoot_sound_vol:0.2
shoot_flame:shockwave
shoot_light:#FFccCCEE


delay: 0.1s
warmup: 0


idleDir: 90
limitingAngle: 100






[projectile_1]
#BEAAAAM!
directDamage: 30
life: 5

#laserEffect: true

#color: #00b1ff
lightColor: #00b1ff
lightSize: 0.1
drawSize: 0.5

largeHitEffect: false
instant:true

beamImage:      Beam.png
beamImageEnd:   BeamEnd.png
beamImageStart: BeamStart.png
#beamImageOffsetRate: 1.5
beamImageOffsetRate: 5












[effect_thrust]
image: thrust.png
life: 50
fadeOut: true
attachedToUnit: false
fadeInTime:15
drawUnderUnits:true
ySpeedRelative:-0.4
atmospheric: true
scaleFrom: 0.1
scaleTo: 5






[movement]
movementType: AIR
moveSpeed: 0.38
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.02

landOnGround: true
targetHeight: 60

maxTurnSpeed: 0.8
turnAcceleration: 0.05

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  45


slowDeathFall: true


[ai]
useAsBuilder: true

ai_upgradePriority: 0.25


