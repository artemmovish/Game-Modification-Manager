
[core]
name: SKE
displayText: Elite Krovnork Engineer
displayDescription: A Krovnork scientist armed to start a war. \n-Krovnork Raiders specialise in bombardment and raiding. \n-Great at breaking through defences. \n-Powerful beam weapon.\n-Acts as a mobile HQ.
class: CustomUnitMetadata

price: TeamCredits=1
maxHp: 7000
mass: 9000

isPickableStartingUnit: false


generation_credits: 54
generation_delay: 40


copyFrom: ROOT:HQ_AI.ini
#borrowResourcesWhileAlive: Ground=-9, AG=-9, AA=-9, AntiLD=-1
tags: Unit, builder, NoCap, Factory, AA3, AG3, ALD, Ground3, Cliff3




techLevel: 2
experimental: false

buildSpeed: 1


selfRegenRate:0.2


radius: 20
displayRadius: 20


armour: 12


transportSlotsNeeded: 8


isBio: true

isBuilder: true



canRepairBuildings: true
canRepairUnits : true


canReclaimResources: true


autoRepair: true


nanoRange: 200


nanoRepairSpeed: 1
nanoBuildSpeed: 1


canBuild_1_name: K_DrillT1
canBuild_1_pos:  0.3

canBuild_2_name: dwarfnork, Krovnork Builder
canBuild_2_pos:  0.4
#canBuild_2_forceNano: true

canBuild_3_name: Krovnork Bunker, Krovnork Factory
canBuild_3_pos:  0.4

canBuild_10_name: reclaim
canBuild_10_pos:  -1




[global_resource_TeamCredits]
displayName: TeamCredits
displayNameShort: TeamCreds
displayColor: #ffe92b



[hiddenAction_Started]
takeResources: EGround=-9, ECliff=-9, EAG=-9, EAA=-9, EAntiLD=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-9, Cliff=-9, AG=-9, AA=-9, AntiLD=-3
[hiddenAction_Killed]
takeResources: EGround=9, ECliff=9, EAG=9, EAA=9, EAntiLD=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=9, Cliff=9, AG=9, AA=9, AntiLD=3
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=6500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=5500)
temporarilyAddTags: Retreat






[hiddenAction_builder1]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=0, withinRange=800) and not self.hasUnitInTeam(withTag='builder', greaterThan=20) and self.hasResources(credits=7000) and not self.hasFlag(id=1)
alsoQueueAction: builder2
addResources: setFlag=1, credits=-1200

[hiddenAction_builder2]
buildSpeed: 8s
#addResources: credits=-1200
alsoQueueAction: builder3
spawnUnits: Krovnork Builder

[hiddenAction_builder3]
buildSpeed: 0.1s
addResources: unsetFlag=1




[hiddenAction_builder4]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=2000) and numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=400) and self.hp(lessThan=6500) and not self.hasFlag(id=1)
alsoQueueAction: builder5
addResources: setFlag=1, credits=-100

[hiddenAction_builder5]
buildSpeed: 1.5s
#addResources: credits=-100
alsoQueueAction: builder6
spawnUnits: dwarfnork

[hiddenAction_builder6]
buildSpeed: 0.1s
addResources: unsetFlag=1




[hiddenAction_SwitchStart]
autoTrigger: if self.hasResources(credits=150000) and not self.hasFlag(id=5)
highPriorityQueue: true
convertTo: FDC_KrovnorkSuper
addResources: setFlag=10
attachments_addNewUnits: Scrapper_emptySlot*6
takeResources: EGround=-18, ECliff=9, EAir=-27, EAG=-6, EAA=-6, EOrbit=-9, EAO=-3, EAntiArmour=-3, EAntiLD=-6
takeResources_includeUnitsWithinRange: 99999
takeResources_includeUnitsWithinRange_team: enemy
takeResources_excludeUnitsWithoutTags: aiMaster
takeResources_maxUnits: 10
takeResources_discardCollected: true
alsoTriggerAction: switchStart2

[hiddenAction_switchStart2]
takeResources: Ground=-18, Cliff=9, Air=-27, AG=-6, AA=-6, Orbit=-9, AO=-3, AntiArmour=-3, AntiLD=-6
takeResources_includeUnitsWithinRange: 99999
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources_excludeUnitsWithoutTags: aiMaster
takeResources_maxUnits: 10
takeResources_discardCollected: true





[hiddenAction_NoSwitch]
autoTrigger: if not self.hasResources(credits=150000) and not self.hasFlag(id=5)
highPriorityQueue: true
addResources: setFlag=5


[attachment_unitSlot1]
x:0
y:0
idleDir:0
idleDirReversing:0
addTransportedUnits: true
setDrawLayerOnTop: true
lockLegMovement:false
canBeAttackedAndDamaged: false
isUnselectable: true

[attachment_unitSlot2]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot3]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot4]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot5]
@copyFromSection: attachment_unitSlot1

[attachment_unitSlot6]
@copyFromSection: attachment_unitSlot1








[graphics]
total_frames: 1
teamColorsOnTurret: true
image:        SKE waist.png
image_wreak: NONE
image_turret: SKE body.png


image_shadow: SHADOW:SKE body.png
lock_shadow_rotation_with_main_turret: true
shadowOffsetX:2
shadowOffsetY:2

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 240

shootDelay: 35
aimOffsetSpread:0.2
turretRotateWithBody: false
isMelee: false
turretMultiTargeting: true






[turret_nanoTurret]
#right arm
x: 8
y: 0
warmup:30

turnSpeed: 4
size: 8


canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isMainNanoTurret: true

image: SKE rarm.png



[turret_2]

#left melee arm

x: -8
y: 0
turnSpeed: 10
projectile: 1
delay: 5
warmup: 5
chargeEffectImage: charge small.png
shoot_sound: plasma_fire
shoot_sound_vol: 2
shoot_flame:large
shoot_light:#FFEECCCC

image: SKE larm.png


[turret_3]

#body

x: 0
y: 0
turnSpeed: 2.5
size: 20
canShoot: false
idleDir:0
#limitingRange: 1



[turret_4]
#head

x: 0
y: 0
idleDir:0
invisible: false
image: SKE head.png
canShoot: false


[projectile_1]
directDamage: 75
life: 20
speed: 25

laserEffect: true


lightSize: 2
drawSize: 0.3

#ballistic: true
#ballistic_delaymove_height: 10
#ballistic_height: 50


instant:false
largeHitEffect: false





[leg_1]
x: -5
y: 0
attach_x: -2
attach_y: 0
moveSpeed: 1.8

rotateSpeed: 4

heightSpeed: 0.25
resetAngle:25

image_leg:  SKE leg.png
image_foot: SKE foot.png

#draw_foot_on_top: false
#dust_effect: false

holdDisMin: 0.02
holdDisMax: 0.04

[leg_2]
x: 5
y: 0
attach_x: 2
attach_y: 0
copyFrom: 1


[movement]
movementType: OVER_CLIFF
moveSpeed: 0.85
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.07

maxTurnSpeed: 4
turnAcceleration: 0.3
targetHeight:0.5
moveSlidingMode :false
moveIgnoringBody:false
moveSlidingDir: 0
reverseSpeedPercentage:0.8

slowDeathFall: false




[ai]
useAsBuilder: true



