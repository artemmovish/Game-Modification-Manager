[core]
name: FDC_OriolusSuper
displayText: Tempest Voyager
displayDescription: The home of an unimaginably ancient Oriolus warband. \n -Weapons are modular, can be customised and upgraded. \n-Repairs held units. \n-When the battles end, the Oriolus can even resurrect their lost comrades, else they would have died out long ago.
class: CustomUnitMetadata
price: 240000
maxHp: 7000
mass: 900000

techLevel: 1
experimental: true

buildSpeed: 0.00007
#availableInDemo: true

radius: 100
#displayRadius: 120
isBio: false
softCollisionOnAll: 60
fogOfWarSightRange:35



generation_credits: 54
generation_delay: 40
borrowResourcesWhileAlive: etherPower=-9



disableAllUnitCollisions: true





maxShield: 7500
shieldRegen: 0.3
selfRegenRate:0.1





copyFrom: ROOT:HQ_AI.ini
#borrowResourcesWhileAlive: Air=-27, AG=-15, AA=-15, Orbit=-9, AO=-3, AntiLD=-9
tags: Unit, AirT, AG3, AA3, NoCap, Factory, Titan, Orbit3, AO2, ALD3


exit_dirOffset:0
exit_moveAwayAmount:250



maxTransportingUnits: 24
transportUnitsHealBy: 0.3
transportUnitsBlockAirAndWaterUnits: false
transportUnitsRequireMovementType: AIR, LAND, OVER_CLIFF, OVER_CLIFF_WATER, HOVER
transportUnitsCanUnloadUnits: if not self.isOverLiquid() or self.isOverwater()




canRepairBuildings: true
canRepairUnits : true

autoRepair: true
isBuilder: true



nanoRange: 250


nanoFactorySpeed:1
nanoRepairSpeed: 0.5
nanoBuildSpeed: 1





nukeOnDeath: true
nukeOnDeathRange: 200
nukeOnDeathDamage: 4000
nukeOnDeathDisableWhenNoNuke: true




[hiddenAction_Started]
takeResources: EGround=-27, EAir=-27, EAG=-15, EAA=-15, EOrbit=-9, EAO=-3, EAntiArmour=-3, EAntiLD=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-27, Air=-27, AG=-15, AA=-15, Orbit=-9, AO=-3, AntiArmour=-3, AntiLD=-3
[hiddenAction_Killed]
takeResources: EGround=27, EAir=27, EAG=-15, EAA=15, EOrbit=9, EAO=3, EAntiArmour=3, EAntiLD=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=27, Air=27, AG=-15, AA=15, Orbit=9, AO=3, AntiArmour=3, AntiLD=3
#TotalUnit=-1




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=6800)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=6400)
temporarilyAddTags: Retreat




[action_selectSlot1]
@define slotId: 1
buildSpeed: 0s
#text: Slot ${slotId}
text: [
textAddUnitName: unitRef self.attachment(slot="unitSlot${slotId}")
textPostFix: ]

descriptionAddFromUnit: unitRef self.attachment(slot="unitSlot${slotId}")
descriptionAddUnitStats: unitRef self.attachment(slot="unitSlot${slotId}")

addResources: unsetFlag=1-10, setFlag=${slotId}
isGuiBlinking: if self.hasFlag(id=${slotId})
displayType: action
unitShownInUI: unitRef self.attachment(slot="unitSlot${slotId}")


iconExtraIsVisible: if self.hasFlag(id=${slotId})
iconExtraImage: icon_selected.png

pos:1


canPlayerCancel: false
allowMultipleInQueue: false

#No confirm needed on mobile
alwaysSinglePress: true
highPriorityQueue: true



#Makes the 'flags' for this unit appear to update instantly in the UI without waiting for
#confirmation from the server. Removes sluggish feeling when switching tabs.
#Note: If unit flags were also updated from non-ui sources this option might have visual side effects.
extraLagHidingInUI: true






[action_selectSlot2]
@copyFromSection: action_selectSlot1
@define slotId: 2
[action_selectSlot3]
@copyFromSection: action_selectSlot1
@define slotId: 3
[action_selectSlot4]
@copyFromSection: action_selectSlot1
@define slotId: 4
[action_selectSlot5]
@copyFromSection: action_selectSlot1
@define slotId: 5
[action_selectSlot6]
@copyFromSection: action_selectSlot1
@define slotId: 6






[action_selectSlotBuild]
@copyFromSection: action_selectSlot1
@define slotId: 10
pos:0
text: [ Build ]
textPostFix:
textAddUnitName: 
descriptionAddFromUnit: 
descriptionAddUnitStats:

unitShownInUI: 


[hiddenAction_onCreate]
autoTriggerOnEvent: created
addResources: setFlag=10



[attachment_unitSlot1]

x:0
y:60
#idleDir:-60
idleDir:-45
idleDirReversing:-45

onCreateSpawnUnitOf:Tempest_emptySlot
addTransportedUnits: true
setDrawLayerOnTop: true
lockLegMovement:false

canBeAttackedAndDamaged: true
isUnselectable: false

showAllActionsFrom:if self.hasFlag(id=1)

#resetRotationWhenNotAttacking:true
lockRotation: true

createIncompleteIfParentIs: false

redirectDamageToParent: true
redirectDamageToParent_shieldOnly: true

[attachment_unitSlot2]
@copyFromSection: attachment_unitSlot1

x:0
y:36
#idleDir:60
idleDir:45
idleDirReversing:45

showAllActionsFrom:if self.hasFlag(id=2)


[attachment_unitSlot3]
@copyFromSection: attachment_unitSlot1
x:-22
y:2
idleDir:-90
idleDirReversing:-90

showAllActionsFrom:if self.hasFlag(id=3)


[attachment_unitSlot4]
@copyFromSection: attachment_unitSlot1
x:22
y:2
idleDir:90
idleDirReversing:90

showAllActionsFrom:if self.hasFlag(id=4)

[attachment_unitSlot5]
@copyFromSection: attachment_unitSlot1


x:-22
y:-22
#idleDir:-120

idleDir:225
idleDirReversing:180

showAllActionsFrom:if self.hasFlag(id=5)

[attachment_unitSlot6]
@copyFromSection: attachment_unitSlot1


x:22
y:-22
#idleDir:120
idleDir:135
idleDirReversing:180


showAllActionsFrom:if self.hasFlag(id=6)
















[canBuild_1]
name: Ori_Smith, Ori_Scout, Ori_Drone, Ori_Glider, Ori_PodAA, Ori_Pollaxe_Land
pos:  30
forceNano: false

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true




[canBuild_2]
name: Ori_Extract1, Ori_Fabric1, Ori_barracks, Ori_Teleporter
pos:  34


isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true



[canBuild_3]
name: Ori_Turret
pos: 34.5
isLocked: if self.resource(type="etherPower", lessThan=12)
isLockedMessage: Requires 12 ether, build more fabricators or extractors!
isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true

[canBuild_Antiorbit]
name: Ori_AntiOrbit
pos: 35
isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)
isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true


[canBuild_4]
name: Ori_Armoury
pos: 36
isGuiBlinking: if not self.hasUnitInTeam(withTag='Armoury', greaterThan=0, withinRange=1000) and game.nukesEnabled()
isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true



[canBuild_showReclaimAction]
name: reclaim
pos:  -1

isVisible: if self.hasFlag(id=10)

extraLagHidingInUI: true






[hiddenAction_unload]
autoTrigger: if self.isControlledByAI() and self.transportingCount(greaterThan=0) and self.hp(lessThan=4000) or self.isControlledByAI() and self.transportingCount(greaterThan=0) and not self.isFlying()
startUnloadingTransport: true
clearAllWaypoints: false




[action_orbital]
text: Engage Boosters
buildSpeed: 1s
convertTo: FDC_OriolusSuper_O
isVisible: true
highPriorityQueue: true
pos: 0.1
ai_isDisabled: true



[action_land]
convertTo: FDC_OriolusSuper_L
autoTrigger: if not self.flying
isVisible: false
highPriorityQueue: true











[graphics]
drawLayer: experimentals

total_frames: 1
teamColorsOnTurret: true

image:        Body.png
image_wreak:  NONE
image_turret: NONE
icon_zoomed_out: MapX.png

image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3
#movementEffect: CUSTOM:thrust
#movementEffectRate: 1



[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 18
turretTurnSpeed: 4
maxAttackRange: 280
shootDelay: 5
turretMultiTargeting: true







[turret_1]
#nano turret
x: 0
y: -25
warmup:10
invisible: true

size: 20

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turnSpeedAcceleration: 0.12

isMainNanoTurret: true




[turret_2]
x: -15
y: 80
canShoot: true

delay: 40
warmup: 15

projectile: 1
invisible: true
canShoot: true
turnSpeed: 3
turnSpeedAcceleration: 1.0


shoot_sound: missile_fire
shoot_sound_vol:0.15
shoot_light:#63e6e8

shoot_flame:CUSTOM:pulse

warmupStartEffect: CUSTOM:absorb

idleDir: -90
limitingAngle: 100




[turret_3]
x: 15
y: 80
canShoot: true

delay: 40
warmup: 15

projectile: 1
invisible: true
canShoot: true
turnSpeed: 3
turnSpeedAcceleration: 1.0


shoot_sound: missile_fire
shoot_sound_vol:0.15
shoot_light:#63e6e8

shoot_flame:CUSTOM:pulse

warmupStartEffect: CUSTOM:absorb

idleDir: 90
limitingAngle: 100









[projectile_1]
directDamage: 250
areaDamage: 50
areaRadius: 40
life: 80
speed: 4
targetSpeed: 14
targetSpeedAcceleration: 0.7

drawType:2
frame:4
drawSize: 1.4
trailEffect: CUSTOM:projectileTrail
trailEffectRate:2

#trailEffectRate: true

#lightColor:#ffffff

explodeEffect: CUSTOM:projectilePassThough, CUSTOM:pulse, CUSTOM:hitLightFlash

#explodeEffectOnShield: CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectileLight




[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.7
scaleTo: 0.7
alpha: 0.5
drawUnderUnits:true


[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:2
scaleFrom: 0.9
scaleTo: 0.4
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #63e6e8
fadeInTime:2
scaleFrom: 1.1
scaleTo: 0.9
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 2
scaleTo: 1
alpha: 0.6
drawUnderUnits:false

[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 35
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 2
scaleTo: 0
alpha: 1
drawUnderUnits:false
ySpeedRelative:2
atmospheric: true


[effect_absorb]
life: 25

priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 3
scaleTo: 0

fadeInTime: 25
fadeOut: false

attachedToUnit: true

image: absorb.png

drawUnderUnits: false

#alpha:0.8



[effect_pulse]
life: 25
priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 0
scaleTo: 2

#fadeInTime: 25
fadeOut: true

attachedToUnit: true

image: pulse.png

drawUnderUnits: false

#alpha:0.8






[effect_boom1]
priority:high

image: SHARED:light_50.png
life: 45
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 4
scaleTo: 1
alpha: 0.8
drawUnderUnits:false


[effect_boom2]
priority:high

image: SHARED:light_50.png
life: 15
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1
scaleTo: 4
alpha: 0.6
drawUnderUnits:false











[arm_1]
x:-20
y:15
image_end:LeftDoor.png
image_end_teamColors: true
drawOverBody: false



[arm_2]
x:20
y:15
image_end:RightDoor.png
image_end_teamColors: true
drawOverBody: false







[global_resource_etherPower]
displayName: EtherPower
displayNameShort: EP
displayColor: #63e6e8



[movement]
movementType: AIR
moveSpeed: 0.45
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.02

landOnGround: true
targetHeight: 60

maxTurnSpeed: 0.8
turnAcceleration: 0.05

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  45


slowDeathFall: true


[ai]
useAsBuilder: true

ai_upgradePriority: 0.25


