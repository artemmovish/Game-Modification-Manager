
[core]
name: K_CutterPump
displayText: CutterPump Siege Ship
displayDescription: A gigantic, long range energy weapon that floats. \n-Poor mobility. \n-Equiped with a laser defence system. \n-Can target ground units at long range. \n-Beam does more damage to closer targets. \n-It is not recommended to use water to bypass the fuel inefficiencies of long range energy weapons.
class: CustomUnitMetadata
price: 29000
maxHp: 4500
mass: 40000

copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Water=-9, AG=-9, AntiArmour=-3, Artillery=-9, LD=-3, Beam=-9, AntiLD=-2
tags: Unit, Navy3, AG3, AntiArmour2, CanLead3, Range3, LD2, Beam3


techLevel: 2
buildSpeed: 65s

generation_credits: -22

availableInDemo: true

radius: 45
#displayRadius: 11

transportSlotsNeeded: 3


isBio: false
#softCollisionOnAll: 3



energyMax: 3
energyRegen: 0.0007


fogOfWarSightRange: 40

[hiddenAction_Started]
takeResources: ENavy=-9, EAG=-9, EAntiArmour=-3, EArtillery=-9, ELD=-3, EBeam=-9, EAntiLD=-2
[hiddenAction_Started_UpdateAlly]
takeResources: Water=-9, AG=-9, AntiArmour=-3, Artillery=-9, LD=-3, Beam=-9, AntiLD=-2
[hiddenAction_Killed]
takeResources: ENavy=9, EAG=9, EAntiArmour=3, EArtillery=9, ELD=3, EBeam=9, EAntiLD=2
[hiddenAction_Killed_UpdateAlly]
takeResources: Water=9, AG=9, AntiArmour=3, Artillery=9, LD=3, Beam=9, AntiLD=2
#TotalUnit=-1



[hiddenAction_drained]
autoTrigger: if self.energy(lessThan=0.065)
temporarilyAddTags: drained


[hiddenAction_restore]
autoTrigger: if self.energy(greaterThan=2.9)
resetToDefaultTags: true



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=4000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=3500)
temporarilyAddTags: Retreat


[arm_1]
x: 0
y: 0
image_end: LDOff.png
drawOverBody: true
hidden: if not self.tags(includes='drained')


[arm_3]
x: 0
y: 0
image_end: LDOn.png
drawOverBody: true
hidden: if self.tags(includes='drained')




[hiddenAction_attack]
autoTrigger: if self.isControlledByAI() and not self.hasActiveWaypoint(type='attackMove') and self.hasUnitInTeam(withTag='HBat', greaterThan=0, withinRange=450) and self.hasUnitInTeam(withTag='HSub', greaterThan=2, withinRange=450)
#clearAllWaypoints: true
addWaypoint_prepend: true
addWaypoint_type: attackMove
addWaypoint_target_nearestUnit_maxRange: 99999
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_target_nearestUnit_tagged: Safety






[graphics]
total_frames: 1

teamColorsOnTurret: true

image:        Body.png
image_wreak:  Ruin.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: SHADOW:Body.png
lock_shadow_rotation_with_main_turret: true
shadowOffsetX:2
shadowOffsetY:2





splastEffect: true
lock_body_rotation_with_main_turret: true



[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 17
turretTurnSpeed: 0.7



maxAttackRange: 650
shootDelay: 1.5s

turretMultiTargeting: false
isFixedFiring: true


[turret_Main]
x: 0
y: 0

canShoot: false

turnSpeedAcceleration: 0.05



[turret_1]
x: 0
y: 0
size: 63
projectile: 1
canShoot: true
invisible: true

aimOffsetSpread: 0

#idleSweepAngle:5
#idleSweepDelay:100
#idleSweepSpeed:0.4
delay: 1

attachedTo: Main
slave: true
limitingMinRange: 480


[turret_2]
x: 0
y: 0
copyFrom: 1
projectile: 2
limitingRange: 480
limitingMinRange: 340

[turret_3]
x: 0
y: 0
copyFrom: 1
projectile: 3
limitingRange: 340
limitingMinRange: 200

[turret_4]
x: 0
y: 0
copyFrom: 1
projectile: 4
limitingRange: 200
limitingMinRange: 0



[turret_laserDefence]
#laserdefence
x: 0
y: 0
canShoot: false
invisible: true

laserDefenceEnergyUse: 0.065
limitingRange: 200
size:0




[projectile_1]
#BEAAAAM!
directDamage: 3
life: 5

instantReuseLast: true
instantReuseLast_alsoChangeTurretAim: true
moveWithParent: true

laserEffect: true

color: #00b1ff
lightColor: #00b1ff
lightSize: 0.2
drawSize: 0.5

largeHitEffect: false
instant:true

explodeEffect: NONE
explodeEffectOnShield: NONE


sweepOffsetFromTargetRadius:0.1
#sweepOffset: x
sweepSpeed:1
shieldDamageMultiplier: 0.3
armourIgnoreAmount: 10


beamImage:      ROOT:Terran Alliance Tanks1/experiments/Experimental_Hovertank\BeamMid.png
beamImageEnd:   ROOT:Terran Alliance Tanks1/experiments/Experimental_Hovertank\BeamEnd.png
beamImageStart: ROOT:Terran Alliance Tanks1/experiments/Experimental_Hovertank\BeamEnd.png
beamImageOffsetRate: 2
#beamImageOffsetRate: 2



[projectile_2]
@copyFromSection: projectile_1
life: 5
directDamage: 7
drawSize: 0.7

[projectile_3]
@copyFromSection: projectile_1
life: 5
directDamage: 14
drawSize: 0.85

[projectile_4]
@copyFromSection: projectile_1
life: 5
directDamage: 22
drawSize: 1



[movement]
movementType: WATER
moveSpeed: 0.7
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.05

reverseSpeedPercentage:0.4

maxTurnSpeed: 0.7
turnAcceleration: 0.05

#moveSlidingMode :false
moveIgnoringBody:false
#moveSlidingDir:  45




