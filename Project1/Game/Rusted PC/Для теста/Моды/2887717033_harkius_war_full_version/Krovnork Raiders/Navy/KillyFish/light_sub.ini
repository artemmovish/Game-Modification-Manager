
[core]
name: K_KillyFish
displayText: KillyFish Submarine
displayDescription: -Can attack navy only. \n-The pilot will try to continue fighting after the submarine is destroyed.
class: CustomUnitMetadata
price: 1500
maxHp: 450
mass: 5000


copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, AS=-1, AntiNavy=-1
tags: Unit, AS, AntiNavy


techLevel: 1
buildSpeed: 14s
availableInDemo: true

radius: 10
#displayRadius: 11
isBio: false
#softCollisionOnAll: 3


#builtFrom_1_name: seaFactory
#builtFrom_1_pos:  2

unitsSpawnedOnDeath: Aquanork swim


[hiddenAction_Started]
takeResources: EAS=-1, EAntiNavy=-1
[hiddenAction_Started_UpdateAlly]
takeResources: AS=-1, AntiNavy=-1
[hiddenAction_Killed]
takeResources: EAS=1, EAntiNavy=1
[hiddenAction_Killed_UpdateAlly]
takeResources: AS=1, AntiNavy=1
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=400)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=150)
temporarilyAddTags: Retreat




[graphics]
total_frames: 2
#imageScale:0.6
image:        Body.png
image_wreak:  Ruin.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2
#splastEffect: true

animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 2


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false


turretSize: 20
turretTurnSpeed: 1.5


isFixedFiring: true
maxAttackRange: 170
shootDelay: 1.3s


[turret_1]
#torpedo
invisible: true
x: 0
y: 0
size: 5

idleDir:0

projectile: torpedo






[projectile_torpedo]
#torpedo
directDamage: 100
life: 250
speed: 0.7
targetSpeed: 4
targetSpeedAcceleration: 0.08

drawSize: 0.9
color: #551E1E96
lightSize: 0.3
lightColor: #000000
trailEffect: true
largeHitEffect: true

deflectionPower: -1



[movement]
movementType: WATER
moveSpeed: 0.7
moveAccelerationSpeed: 0.08
moveDecelerationSpeed: 0.08


#moveSlidingMode :false
#moveIgnoringBody:false
#moveSlidingDir:  45

#moveSlidingMode :true
moveIgnoringBody:true
#moveSlidingDir:  181
targetHeight: -8
targetHeightDrift: 0.4

maxTurnSpeed: 2
turnAcceleration: 0.07






