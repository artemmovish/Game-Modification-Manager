
[core]
name: skygunner
displayText: Sky Gunner Drone
displayDescription: -Krovnork brain inside an armoured drone. \n -Fires an armour piercing minigun at ground targets. 
class: CustomUnitMetadata
price: 800
maxHp: 500
mass: 3000


copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Air=-1, AA=-1, AntiLD=-1, Armour=-1
tags: Unit, Air, AG, ALD, Armour, CanLead1

techLevel: 1

buildSpeed: 8s
availableInDemo: true

radius: 15
displayRadius: 15
softCollisionOnAll: 24

isBio: false
armour: 5


[hiddenAction_Started]
takeResources: EAir=-1, EAA=-1, EAntiLD=-1, EArmour=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Air=-1, AA=-1, AntiLD=-1, Armour=-1
[hiddenAction_Killed]
takeResources: EAir=1, EAA=1, EAntiLD=1, EArmour=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Air=1, AA=1, AntiLD=1, Armour=1
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=400)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=200)
temporarilyAddTags: Retreat





[graphics]
total_frames: 2

image:        sky gunner.png
image_wreak:  sky gunner ruin.png
image_turret: NONE

animation_attack_start: 0
animation_attack_end: 1
animation_attack_speed: 2

#scaleImagesTo: 20
#scaleTurretImagesTo: 9



#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1



[attack]

canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


turretSize: 4
#turretTurnSpeed: 1.2

#aimOffsetSpread: 2.5


maxAttackRange: 200
shootDelay: 5

isFixedFiring: true


[turret_1]
#Gatling
x: 0
y: 8
idleDir: 0
#limitingAngle: 90

canShoot: true
turnSpeed: 2
shouldResetTurret: true
projectile: 1

turnSpeed: 2
turnSpeedAcceleration: 0.1

delay: 3
warmup: 4


shoot_sound:gun_fire
shoot_sound_vol:0.15
shoot_flame:small
shoot_light:#FFccCCEE



[projectile_1]
directDamage: 3
life: 150
speed: 15

targetGround: true
targetGroundSpread: 45

trailEffect: false

#largeHitEffect: true
areaDamage: 15
areaRadius: 10

#shieldDamageMultiplier: 0.3
#shieldDefectionMultiplier: 1

#buildingDamageMultiplier: 0.5

image: bullet.png

areaDamageNoFalloff: true
areaRadiusFromEdge: true

trailEffect: CUSTOM:projectileTrail
trailEffectRate:0.1
armourIgnoreAmount: 15


[effect_projectileTrail]
image: bullet.png
life: 10
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1


[movement]
movementType: AIR

targetHeight: 20
targetHeightDrift: 10

reverseSpeedPercentage: 0.9

moveSpeed: 1
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.2

maxTurnSpeed: 2
turnAcceleration: 0.5


moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  40





