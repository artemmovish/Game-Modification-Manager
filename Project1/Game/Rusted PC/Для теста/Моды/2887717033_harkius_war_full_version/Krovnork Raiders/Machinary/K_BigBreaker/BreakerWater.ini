
[core]
name: K_BreakerWater
displayText: Big Breaker Tank
displayDescription: A large, amphibious tank. \n-Armed with an extremely heavy turret. \n-Fires missiles on land, and torpedos in the water. \n-Very slow but heavily armoured.\n-No anti-air weapons.
class: CustomUnitMetadata

price: 12000
maxHp: 5000
mass: 20000

copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-3, Water=-3, AG=-3, AS=-1, Artillery=-1, AntiArmour=-3, Armour=-3
tags: Unit, Ground2, Water2, AG2, AS2, Range, AntiArmour2, Armour3, CanLead2

techLevel: 2
experimental: false

buildSpeed: 65s

radius: 25
displayRadius: 30

armour: 35
armourMinDamageToKeep: 2

transportSlotsNeeded: 8


generation_credits: -15
generation_delay: 40

isBio: false


[action_trigger_onLand]
autoTrigger: if not self.overWater()

convertTo: K_BreakerLand
buildSpeed: 0
text: TRIGGER
isVisible: false


[hiddenAction_Started]
takeResources: EGround=-3, EWater=-3, EAG=-3, EAS=-1, EArtillery=-1, EAntiArmour=-3, EArmour=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-3, Water=-3, AG=-3, AS=-1, Artillery=-1, AntiArmour=-3, Armour=-3
[hiddenAction_Killed]
takeResources: EGround=3, EWater=3, EAG=3, EAS=1, EArtillery=1, EAntiArmour=3, EArmour=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=3, Water=3, AG=3, AS=1, Artillery=1, AntiArmour=3, Armour=3
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=2000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=2000)
temporarilyAddTags: Retreat



[hiddenAction_LoadUp]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='KDropper', greaterThan=0, withinRange=1000) and not self.hasActiveWaypoint(type='loadInto') and not self.NumberOfUnitsInTeam(withTag='ALL_ATTACK', greaterThan=0) and not self.tags(includes='Retreat') and not self.tags(includes='DEFEND') and not self.tags(includes='Attacking')
addWaypoint_type: loadInto
clearAllWaypoints: false
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_maxRange: 1000
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: KDropper






[graphics]
total_frames: 3
teamColorsOnTurret: true
image:       Body.png
image_wreak: NONE
image_turret: Turret.png


image_shadow: AUTO
lock_shadow_rotation_with_main_turret:false
shadowOffsetX:0.5
shadowOffsetY:0.5

splastEffect: true


animation_moving_start: 0
animation_moving_end: 2
animation_moving_speed: 2


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 25

turretTurnSpeed: 5
maxAttackRange: 325

shootDelay: 35
aimOffsetSpread:0.25

turretRotateWithBody: true
turretMultiTargeting: true





[turret_1]
#right cannon
x: 0
y: 0
attachedTo: 2
slave: true
turnSpeed: 0
shouldResetTurret: true

projectile: 1
delay: 175

warmup: 25

shoot_sound: large_gun_fire2
shoot_sound_vol:0.5
shoot_flame:small
shoot_light:#FFEECCCC


image: Barrel.png

recoilOffset: -4
recoilOutTime: 10
recoilReturnTime: 30
size: 23






[turret_2]
#main turret base
x: 0
y: 0
canShoot: false

shouldResetTurret: true

turnSpeed: 1
image: Turret.png

delay: 120

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false






[turret_Rocket1]
#antiair 1
x: -5
y: 0

invisible:true

size: 0

projectile: 3

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false


turnSpeed: 360
turnSpeedAcceleration: 10

delay: 250
warmup: 0

shoot_sound: missile_fire
shoot_sound_vol:0.1
shoot_flame: NONE
shoot_light:#FFEECCCC

canShoot: true


[turret_Rocket2]
#antiair 2
x: -2
y: 0

copyFrom: Rocket1
linkDelayWithTurret: Rocket1

warmup: 15


[turret_Rocket3]
#antiair 2
x: 2
y: 0

copyFrom: Rocket1
linkDelayWithTurret: Rocket1

warmup: 30

[turret_Rocket4]
#antiair 2
x: 5
y: 0

copyFrom: Rocket1
linkDelayWithTurret: Rocket1

warmup: 45





[projectile_1]
directDamage: 310
life: 100
speed: 30

laserEffect: true

color: #00b1ff
lightColor: #00b1ff
lightSize: 0.1
instant:false

largeHitEffect: true
areaDamage: 60
areaRadius: 80

drawType:2
frame: 7
color: #BB99DD
deflectionPower: 5





[projectile_2]
#missile
directDamage: 25
life: 190
speed: 2
targetSpeed: 6

areaDamage: 50
areaRadius: 65



color: #fff7ff1d

drawSize: 1.9

trailEffect: true
largeHitEffect: true

#ballistic: true
#ballistic_delaymove_height:25
#ballistic_height: 25

lightColor: #f7ff1d
lightSize: 0.5

initialUnguidedSpeedHeight: 2.5
gravity:0.22
#lightCastOnGround: true
deflectionPower: -1


[projectile_3]
directDamage: 90
life: 250
speed: 0.7
targetSpeed: 2.5
largeHitEffect: true
drawSize: 1
color: #1E1E96
trailEffect: true
deflectionPower: -1



[arm_1]
x: -15
y: 30
image_end: LeftSledge.png
drawOverBody:true

[arm_2]
x: 15
y: 30
image_end: RightSledge.png
drawOverBody:true


[arm_3]
x:0
y:-18
image_end: Jet.png
drawOverBody:false


[arm_4]
x:0
y:-18
image_end: Wheel.png
drawOverBody:false


[arm_5]
x:0
y:-18
image_end: Wheel.png
drawOverBody:false


[arm_6]
x:0
y:0
image_end: Rockets.png
drawOverBody:false



[movement]
movementType: HOVER
moveSpeed: 0.8
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0.7
turnAcceleration: 0.5
targetHeight:1
moveSlidingMode :true
moveIgnoringBody:false
moveSlidingDir: 45
reverseSpeedPercentage:0.7

slowDeathFall: false

