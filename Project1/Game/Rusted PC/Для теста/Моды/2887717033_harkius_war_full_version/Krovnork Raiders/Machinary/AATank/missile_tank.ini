
[core]
name: K_AATank
class: CustomUnitMetadata
price: 3300
maxHp: 2500
mass: 9000
displayText: Cracker Tank
displayDescription: A specially developed heavy support vehicle. \n-Fires a long range storm cannon that deals damage over an area. \n-Slow, moves over water.\n-Attacks air only.
techLevel: 2


copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-3, Water=-3, AA=-3
tags: Unit, Ground2, Water, AA2, CanLead2

#price: 1
#techLevel: 1
#builtFrom_2_name: commandCenter
#builtFrom_2_pos:  6

fogOfWarSightRange: 20


buildSpeed: 0.0005
availableInDemo: false

radius: 17
#displayRadius: 13
isBio: false

builtFrom_1_name: landFactory
builtFrom_1_pos:  5
#builtFrom_1_techLevel: 2
builtFrom_2_name: landFactoryT2_c
builtFrom_2_pos:  5
builtFrom_3_name: landFactoryT3
builtFrom_3_pos:  5


[hiddenAction_Started]
takeResources: EGround=-3, EWater=-3, EAA=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-3, Water=-3, AA=-3
[hiddenAction_Killed]
takeResources: EGround=3, EWater=3, EAA=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=3, Water=3, AA=3
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=2200)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=1800)
temporarilyAddTags: Retreat




[graphics]
total_frames: 1

image:        Body.png
image_wreak:  Ruin.png
image_turret: turret.png

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1


#animation_moving_start: 0
#animation_moving_end: 1
#animation_moving_speed: 2

dustEffect: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 25
turretTurnSpeed: 1.5

maxAttackRange: 540

shootDelay: 5s



[turret_1]
#left missile pod
x: 0
y: 0
attachedTo: 2
slave: true
invisible: false
warmup: 0.5s
shoot_sound: plasma_fire
shoot_sound_vol:0.3
shoot_flame:large
shoot_light:#00b1ff


recoilOffset: -5
recoilOutTime: 6
recoilReturnTime: 30
image: barrel.png


[turret_2]
#main turret
x: 0
y: 0
canShoot: false

shouldResetTurret: true

#idleSpin: 1.5


recoilOffset: -3
recoilOutTime: 18
recoilReturnTime: 7






[projectile_1]
#storm projectile
life: 200
directDamage: 75
#targetGround: true
speed: 15
largeHitEffect: true
areaDamage: 100
areaRadius: 55

lightColor: #cccc00
lightSize: 0.3
image: bolt.png

drawSize: 1
trailEffect: CUSTOM:projectileTrail
trailEffectRate:3
explodeEffect: CUSTOM:projectilePassThough, smallExplosion

explodeEffectOnShield: CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectileLight

pushForce: 6000
deflectionPower: 3



[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.7
scaleTo: 0.9
alpha: 0.3
drawUnderUnits:true


[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.4
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #63e6e8
fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.6
alpha: 0.4
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 10
fadeOut: false
attachedToUnit: false
color: #63e6e8

scaleFrom: 1
scaleTo: 5
alpha: 1
drawUnderUnits:false

[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 20
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 2
scaleTo: 0.5
alpha: 1
drawUnderUnits:false
ySpeedRelative:1.5
atmospheric: true






[movement]
movementType: HOVER
moveSpeed: 0.6
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.05

reverseSpeedPercentage:0
targetHeight: 1.5
targetHeightDrift: 0.3

maxTurnSpeed: 1
turnAcceleration: 0.02

moveSlidingMode :false
moveIgnoringBody:false





