
[core]
name: K_Dropship high
displayText: Orbital Dropship
displayDescription: An armoured planetary dropship for Krovnorks. \n -Heavy armour, can deploy and collect troops in normal mode. \n -Can perform bombing runs while in high altitude hypersonic mode.
class: CustomUnitMetadata
price: 26000
maxHp: 2200
mass: 20000

copyFrom: ROOT:Dropship_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Air=-3, AG=-0.5, AA=-0.5, Shield=-3, Orbit=-1
tags: Unit, Air2, AG, AA, AO, Shield2, orbital, anti-orbital, Obomb, Orbit

techLevel: 2
experimental: false

buildSpeed: 60s
#availableInDemo: true

radius: 45
#displayRadius: 11
isBio: false
softCollisionOnAll: 12

canOnlyBeAttackedByUnitsWithTags: orbital, anti-orbital

disableAllUnitCollisions: true

maxTransportingUnits: 30
transportUnitsUnloadDelayBetweenEachUnit: 1.15s
transportUnitsRequireTag: yeet2oribt
transportUnitsCanUnloadUnits: if not self.isOverLiquid()

armour: 280
armourMinDamageToKeep: 35


energyMax: 5
energyRegen: 0.006
energyNeedsToRechargeToFull: true

maxShield: 4000
shieldRegen: 0.3

[hiddenAction_Started]
takeResources: EAir=-3, EAG=-1, EAA=-1, EShield=-3, EOrbit=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Air=-3, AG=-0.5, AA=-0.5, Shield=-3, Orbit=-1
[hiddenAction_Killed]
takeResources: EAir=3, EAG=1, EAA=1, EShield=3, EOrbit=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Air=3, AG=0.5, AA=0.5, Shield=3, Orbit=1
#TotalUnit=-1


[action_hover]

convertTo: K_Dropship
displayType: action
price: 0
text: Hover mode
buildSpeed: 1.5s
whenBuilding_cannotMove: false
whenBuilding_playAnimation: hover






[animation_hover]
blendIn: 0s
arm1_.5s: {x:0, y:0}
arm2_.5s: {x:0, y:0}
arm1_.7s: {x:0, y:0}
arm2_.7s: {x:0, y:0}

arm1_1.2s: {x:1, y:0}
arm2_1.2s: {x:-1, y:0}


arm1_3s: {x:3, y:0}
arm2_3s: {x:-3, y:0}





[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=2100)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=2000)
temporarilyAddTags: Retreat






[graphics]
total_frames: 1

image:        dropship.png
image_wreak:  droppship ruin.png
image_turret: NONE
icon_zoomed_out: mapOrbit.png


image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

movementEffect: CUSTOM:thrust
movementEffectRate: 3


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
attackMovement: bomber
maxAttackRange: 450

[turret_1]
#bomber
invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
delay: 0

projectile: 1
size: 1.1
turnSpeed: 20
limitingRange: 100
energyUsage: 1


[turret_2]
#missiles
x: 0
y: 0

projectile: 2

invisible: true


canShoot: true
turnSpeed: 3
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false


shoot_sound: missile_fire
shoot_sound_vol:0.15
shoot_flame:small
shoot_light:#FFEECCCC
delay: 25
warmup: 25
energyUsage: 1


[projectile_1]
#bomb

#cannot use directDamage with targetGround
#directDamage: 195

life: 250
speed: 10
targetSpeed: 10
largeHitEffect: true
frame: 3

drawSize: 0.5

lightColor: #ffe92b
lightSize: 0.8

largeHitEffect: true

targetGround: true
targetGroundSpread: 150

areaDamage: 600
areaRadius: 160

#for laser defence
deflectionPower: 2


[projectile_2]
#missile
life: 600
directDamage: 150
speed: 1.5
targetSpeed: 20
trailEffect: true
frame: 4
areaDamage: 80
areaRadius: 85
autoTargetingOnDeadTarget: true


[arm_1]
x:24
y:0
image_end:dropship wingR.png
image_end_shadow: SHADOW:dropship wingR.png

drawOverBody:true


[arm_2]
x:-23
y:0
image_end: dropship wingL.png
image_end_shadow: SHADOW:dropship wingL.png

drawOverBody:true



[effect_thrust]
image: thrust.png
life: 15
fadeOut: true
attachedToUnit: false
fadeInTime:2
drawUnderUnits:true
ySpeedRelative:-0.5
atmospheric: true

[movement]
movementType: AIR
moveSpeed: 5
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.05

landOnGround: false
targetHeight: 600

maxTurnSpeed: 1.4
turnAcceleration: 0.1

moveSlidingMode :true
moveIgnoringBody:false
moveSlidingDir:  45


slowDeathFall: true


[ai]

#this also groups actions between units in UI
upgradedFrom: K_Dropship
