[core]
name: KrovSpi
displayText: Cyber-spider
displayDescription: A krovnork nervous system welded into a cybernetic mech. \n light armour and fast. \n-Upgradable
class: CustomUnitMetadata

price: 2000
maxHp: 500
mass: 5000

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-1, Cliff=-1, AG=-1, AA=-1, Artillery=-1
tags: Unit, Ground, Cliff, AG, AA, Range

techLevel: 1
experimental: false

buildSpeed: 32s

radius: 15
displayRadius: 15

armour: 2

transportSlotsNeeded: 2


isBio: false


[hiddenAction_Started]
takeResources: EGround=-1, ECliff=-1, EAG=-1, EAA=-1, EArtillery=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-1, Cliff=-1, AG=-1, AA=-1, Artillery=-1
[hiddenAction_Killed]
takeResources: EGround=1, ECliff=1, EAG=1, EAA=1, EArtillery=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=1, Cliff=1, AG=1, AA=1, Artillery=1
#TotalUnit=-1

[action_upgrade_1]
convertTo: KrovSpi2
price:  5000
text: Upgrade
description: -Faster movement. \n-Can dive underwater. \n-Fires a laser.
displayType: Upgrade
buildSpeed: 65s
pos: 0.2
whenBuilding_cannotMove: true
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: EGround=-2, ECliff=-2, EAG=-1, EAA=-1, EArmour=-1, EAntiShield=1, EBeam=-1
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: Ground=-2, Cliff=-2, AG=-1, AA=-1, Armour=-1, AntiShield=1, Beam=-1





[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=480)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=450)
temporarilyAddTags: Retreat






[graphics]
total_frames: 1
teamColorsOnTurret: true
image:       spider.png
image_wreak: spider ruin.png
image_turret: spider body1.png


image_shadow: SHADOW:spider body1.png
lock_shadow_rotation_with_main_turret: true
shadowOffsetX:0.5
shadowOffsetY:0.5

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 5
maxAttackRange: 230
shootDelay: 35
aimOffsetSpread:0.25
turretRotateWithBody: false
turretMultiTargeting: true


[turret_1]

#right gunning arm

x: -8
y: 0
projectile: 2
attachedTo: 3
turnSpeed: 4.0
turnSpeedAcceleration: 1.0

shoot_sound:missile_fire
shoot_sound_vol:0.7
canShoot: true

canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

shoot_light:#ff0000
warmup: 30


image: spider rocket.png
recoilOffset: -2
recoilOutTime: 3
recoilReturnTime: 10


[turret_2]

#left arm

x: 8
y: 0
projectile: 3
attachedTo: 3
turnSpeed: 4.0
turnSpeedAcceleration: 1.0

shoot_sound:cannon_firing
shoot_sound_vol:0.3
shoot_flame:small
shoot_light:#FFEEEEEE

delay: 45

canShoot: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false



image: spider gun.png
recoilOffset: -4
recoilOutTime: 5
recoilReturnTime: 20



[turret_3]

#body

x: 0
y: 0
size: 20
canShoot: false
idleDir:0




[projectile_1]
#BEAAAAM!
directDamage: 60
life: 50
speed: 25

laserEffect: true

color: #00b1ff
lightColor: #00b1ff
lightSize: 0.1
drawSize: 0.5

largeHitEffect: false
instant:false



[projectile_2]
#missile
frame: 4
trailEffect: true
directDamage: 60
life: 250
targetSpeed: 20
speed: 3
largeHitEffect: true
areaDamage: 40
areaRadius: 35
drawSize: 0.95
autoTargetingOnDeadTarget: true

[projectile_3]
#Some nice russian bias artillary. Fair and balanced.
directDamage: 0
life: 150
speed: 4

frame: 2
color: #bebe50

drawSize: 0.9

areaDamage: 65
areaRadius: 45

largeHitEffect: true
targetGround: true

lightColor: #ffe92b
lightSize: 0.4
initialUnguidedSpeedHeight: 1.2
gravity:0.18
lightCastOnGround: true




[leg_1]
x: -10
y: 6
attach_x: -4
attach_y: 4
moveSpeed: 5

rotateSpeed: 7

heightSpeed: 0.3
resetAngle:25

image_leg:  spider leg.png
image_foot: spider foot.png

#draw_foot_on_top: false
#dust_effect: false

holdDisMin: 0.002
holdDisMax: 0.0025

[leg_2]
x: 10
y: 6
attach_x: 4
attach_y: 4
copyFrom: 1
image_foot: spider foot2.png

[leg_3]
x: -10
y: -6
attach_x: -4
attach_y: -4
copyFrom: 1
image_foot: spider foot3.png

[leg_4]
x: 10
y: -6
attach_x: 4
attach_y: -4
copyFrom: 1
image_foot: spider foot4.png



[movement]
movementType: OVER_CLIFF
moveSpeed: 1.5
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.25

maxTurnSpeed: 6
turnAcceleration: 0.5
targetHeight:2
moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir: 45
reverseSpeedPercentage:1

slowDeathFall: false

