[core]


name: MP tank
displayText: Missile Platform Tank
displayDescription: -A ballistic missile tank. \n -slow. \n -long reload time. \n-Ultra long range.



copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-3, AG=-3, Artillery=-9, AntiArmour=-5, Armour=-3
tags: Unit, Ground2, AG2, Range3, AntiArmour2, Armour2

class: CustomUnitMetadata
price: 16000
maxHp: 600
mass: 58500
fogOfWarSightRange: 30
techLevel: 2
buildSpeed: 65s
#availableInDemo: true

armour: 15

radius: 25
displayRadius: 30
transportSlotsNeeded: 8
isBio: false



[hiddenAction_Started]
takeResources: EGround=-3, EAG=-3, EArtillery=-9, EAntiArmour=-5, EArmour=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-3, AG=-3, Artillery=-9, AntiArmour=-5, Armour=-3
[hiddenAction_Killed]
takeResources: EGround=3, EAG=3, EArtillery=9, EAntiArmour=5, EArmour=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=3, AG=3, Artillery=9, AntiArmour=5, Armour=3
#TotalUnit=-1




[hiddenAction_TriggerSwitch]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Building', greaterThan=0, withinRange=800) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Unit', greaterThan=4, withinRange=800)
alsoQueueAction: Ether



[action_Ether]
convertTo: MP tank armed
displayType: action
text: Arm Missiles
description: -Allows missiles to be fired. \n-Cannot move while armed.
buildSpeed: 3s
#price: energy=1
whenBuilding_cannotMove: true
#isLocked:
whenBuilding_playAnimation: sur


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=580)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=550)
temporarilyAddTags: Retreat


[graphics]
total_frames: 3

image:        Ballistic Tank.png
image_wreak:  Ballistic Tank ruin.png
image_turret: rocket rack.png

image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3


animation_moving_start: 0
animation_moving_end: 2
animation_moving_speed: 2


dustEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 0.2


maxAttackRange: 800
shootDelay: 1000

[turret_1]
x: 0
y: 0
canShoot: false
turnSpeed: 0.5
attachedTo: 5
slave: true

[turret_2]
#
x: -8
y: 10
turnSpeed: 0.5
attachedTo: 5
slave: true
projectile: 1
idleDir: 0
delay: 760
warmup: 0

shoot_sound:missile_fire
shoot_sound_vol:0.8
shoot_flame:small
shoot_light:#FFEECCCC

canShoot: false
image: Missile tip.png

recoilOffset: -11
recoilOutTime: 1
recoilReturnTime: 200

[turret_3]
#
x: 0
y: 10
copyFrom: 2
projectile: 1
linkDelayWithTurret: 2
warmup: 25

[turret_4]
#
x: 8
y: 10
copyFrom: 2
projectile: 1
linkDelayWithTurret: 2
warmup: 50

[turret_5]
x:0
y:0
canShoot: false
image: rocket roof.png
turnSpeed: 0.5
shouldResetTurret: true


[projectile_1]
directDamage: 25
life: 500
speed: 0
targetSpeed: 5
trailEffect: true
frame: 4
areaDamage: 200
areaRadius: 150
deflectionPower: 10

image: Ballistic missile.png

largeHitEffect: true
targetGround: true

lightColor: #ffe92b
lightSize: 0.4




[animation_sur]
blendIn: 0.2s

arm1_1.6s: {x:-25, y:0}
arm2_1.6s: {x:25, y:0}

arm1_2.3s: {x:-20, y:0}
arm2_2.3s: {x:20, y:0}

arm1_2.7s: {x:-23, y:0}
arm2_2.7s: {x:23, y:0}



[arm_1]
x: 0
y: 0
endDirOffset: -90

image_end: rocket rack.png
drawOverBody:false



[arm_2]
x: 0
y: 0
endDirOffset: 90
image_end: rocket rack.png
drawOverBody:false




[movement]
movementType: LAND
moveSpeed: 0.9
moveAccelerationSpeed: 0.08
moveDecelerationSpeed: 0.2

maxTurnSpeed: 1.2
turnAcceleration: 0.08

moveSlidingMode :false
moveIgnoringBody:false


[ai]

upgradedFrom: MP tank armed

ai_upgradePriority: 0.4

