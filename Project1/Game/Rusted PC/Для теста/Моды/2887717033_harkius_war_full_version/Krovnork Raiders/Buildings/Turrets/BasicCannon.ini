
[core]
name: K_CannonTurret
displayText: CannonTurret
displayDescription: -An extremely cheap cannon. \n-Fires explosive bolts at ground only. \n-Can be upgraded to multiple turret types. \n-All upgrades can target aircraft. 
class: CustomUnitMetadata
price: 300
maxHp: 500
mass: 9000


copyFrom: ROOT:Building_AI_Base.ini
#borrowResourcesWhileAlive: AG=-3, AA=-3, AntiArmour=-1
tags: Building, Turret, AG



#footprint used for collisions with units (left, up, right, down)
footprint: -1,-1,0,0
#used for placement, and placement of other buildings
constructionFootprint: -1, -1, 0, 0

buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0




disableAllUnitCollisions: true





techLevel: 1
buildSpeed: 0.004
#availableInDemo: true

radius: 15
#displayRadius: 80
isBio: false
isBuilding: true



softCollisionOnAll: 3


#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5





[hiddenAction_Started]
takeResources: ETurret=-1, EAG=-1
[hiddenAction_Started_UpdateAlly]
takeResources: AG=0
[hiddenAction_Killed]
takeResources: ETurret=1, EAG=1
[hiddenAction_Killed_UpdateAlly]
takeResources: AG=0
#TotalUnit=-1




[action_upgrade1]

convertTo: K_QuadCannon

price:  1500

text: Quad Cannon

description: Increase to all stats. \n-Can target aircraft

displayType: upgrade
buildSpeed: 15s
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: EAG=-2, EAA=-3, ETurret=-2
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AG=0



[action_upgrade2]
convertTo: K_TwinLaser
price:  1500
text: Twin particle beams
description: Two Continuous beams. \n-Can target aircraft. \n-Longer range. \n-Ineffective against armour.
displayType: upgrade
buildSpeed: 15s
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat2, upStat_UpdateAlly2

[hiddenAction_upStat2]
@copyFromSection: hiddenAction_Started
takeResources: ETurret=-2, EAG=-2, EAA=-3, EBeam=-3, EAntiLD=-1
[hiddenAction_upStat_UpdateAlly2]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AG=0





[action_upgrade3]
convertTo: K_BeamerTurret
price:  2500
text: Electro Cannon
description: Fires a bolt of electricity. \n-Can target aircraft. \n-Longer range. \n-Strong vs Shields.
displayType: upgrade
buildSpeed: 20s
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat3, upStat_UpdateAlly3

[hiddenAction_upStat3]
@copyFromSection: hiddenAction_Started
takeResources: EAG=-2, EAA=-3, EAntiArmour=-1, ETurret=-2, EAntiShield=-3
[hiddenAction_upStat_UpdateAlly3]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AntiShield=-1




[action_upgrade4]
convertTo: K_RocketTurret
price:  5500
text: Missile Rack
description: Fires a barrage of missiles. \n-Can target aircraft. \n-Very long range. \n-Immense burst damage, slow recharge. 
displayType: upgrade
buildSpeed: 30s
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat4, upStat_UpdateAlly4

[hiddenAction_upStat4]
@copyFromSection: hiddenAction_Started
takeResources: EAG=-5, EAA=-6, EAntiArmour=-3, ETurret=-3, Artillery=-2
[hiddenAction_upStat_UpdateAlly4]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AG=-1, AA=-1






[graphics]
total_frames: 1

image:        Base.png
image_back: NONE
image_wreak:  ruin.png

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 2


maxAttackRange: 200
shootDelay: 40
turretMultiTargeting: false



[turret_1]

#right gunning arm

x: 0
y: 5
projectile: 1
attachedTo: 2
slave: true

shoot_sound:large_gun_fire2
shoot_sound_vol:0.2
shoot_flame:small
shoot_light:#FFFFFFAA

image: Cannon.png
size: 20

canShoot: true

delay: 20
warmup: 0

recoilOffset: -3
recoilOutTime: 5
recoilReturnTime: 15




[turret_2]
x: 0
y: 8

turnSpeed: 2
turnSpeedAcceleration: 0.5

image: cannonTurret.png

canShoot: false

shouldResetTurret: false

#idleSpin: 1

[projectile_1]
#minigun
speed: 15
drawSize: 0.95
drawType:2
frame: 4
color: #BB99DD
directDamage: 20
instant:false
laserEffect: false
life: 90
trailEffect: true

largeHitEffect: true
areaDamage: 20
areaRadius: 15



[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

buildPriority: 0.32
noneInBaseExtraPriority: 0.2


maxEachBase: 4

ai_upgradePriority: 0.45



