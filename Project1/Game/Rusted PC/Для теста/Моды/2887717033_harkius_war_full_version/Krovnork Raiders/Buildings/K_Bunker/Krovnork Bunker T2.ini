
[core]
name: Krovnork Bunker T2
displayText: Armed Krovnork Cloning Bunker
displayDescription: -An engineer's bunker for cloning and raising a Krovnork army. \n -Armed with a small defence turret. \n -Increased health.
class: CustomUnitMetadata
price: 5000
maxHp: 2000
mass: 9000

copyFrom: ROOT:Building_AI_Base.ini
#borrowResourcesWhileAlive: AA=-1, AG=-1
tags: Building, Turret, AA, AG, Factory, NoCap

generation_credits: 1
generation_delay: 40

#footprint used for collisions with units (left, up, right, down)
footprint: -1,-1,2,2
#used for placement, and placement of other buildings
constructionFootprint: -1, -1, 2, 2

buildingToFootprintOffsetX:20
buildingToFootprintOffsetY:0



techLevel: 1
buildSpeed: 0.001



disableAllUnitCollisions: true




#availableInDemo: true

radius: 45
#displayRadius: 80
isBio: false
isBuilding: true


exit_x: -5
exit_y: 10



[hiddenAction_Started]
takeResources: EAG=-2, EAA=-2, EAntiArmour=-1, ETurret=-2
[hiddenAction_Started_UpdateAlly]
takeResources: TotalUnit=0
[hiddenAction_Killed]
takeResources: EAG=2, EAA=2, EAntiArmour=1, ETurret=2
[hiddenAction_Killed_UpdateAlly]
takeResources: TotalUnit=0
#TotalUnit=-1


[canBuild_rally]
name: setRally
pos: -1
#isLocked: false
#isLockedMessage: NONE
#isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)


[canBuild_Builder]
name: Krovnork Builder, Krovnork Mechanic
pos: 1


[canBuild_Dwarf]
name: dwarfnork
pos: 2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)


[canBuild_Dwarf2]
name: Aquanork land
pos: 2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Water', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)


[canBuild_Kwogmaks]
name: Kwogmak1, Kwogmak2
pos: 4
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0)

[canBuild_Krimks]
name: krimk, krimk bomber
pos: 5
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0)

[canBuild_Gunner]
name: Krovnork Gunner
pos: 6
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0)


[canBuild_Arty]
name: Krovnork Artillary
pos: 7
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0)

[canBuild_Chemist]
name: Krovnork Chemist
pos: 8
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Water', greaterThan=0)


[canBuild_Defender]
name: Krovnork Defender
pos: 9
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_LD', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Shield', greaterThan=0)


[canBuild_Elite]
name: Krovnork Elite
pos: 10
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Water', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AStealth', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Subs', greaterThan=0)



[hiddenAction_FinishBuild]
buildSpeed: 0.1s
addResources: unsetFlag=1




[hiddenAction_builder1]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=0, withinRange=800) and not self.hasUnitInTeam(withTag='builder', greaterThan=20) and self.hasResources(credits=7000) and not self.hasFlag(id=1) or self.isControlledByAI() and self.numberOfUnitsInTeam(withTag='NeedFix', withinRange=500) > self.numberOfUnitsInTeam(withTag='builder', withinRange=600) and self.hasResources(credits=20000) and not self.hasResources(credits=200000) and not self.hasUnitInTeam(withTag='builder', greaterThan=50) and not self.hasFlag(id=1)
alsoQueueAction: builder2
addResources: setFlag=1, credits=-5200

[hiddenAction_builder2]
buildSpeed: 18s
#addResources: credits=-5200
alsoQueueAction: FinishBuild
spawnUnits: Krovnork Mechanic




[hiddenAction_QuotLD]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_LD', greaterThan=0) and self.hasResources(credits=25000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
alsoQueueAction: QuotLD2
addResources: setFlag=1, credits=-2100

[hiddenAction_QuotLD2]
buildSpeed: 0.001
alsoQueueAction: FinishBuild
spawnUnits: Krovnork Defender


[hiddenAction_QuotAntiLD]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and self.hasResources(credits=20000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
alsoQueueAction: QuotAntLD2
addResources: setFlag=1, credits=-900

[hiddenAction_QuotAntLD2]
buildSpeed: 11s
alsoQueueAction: FinishBuild
spawnUnits: Krovnork Gunner



[hiddenAction_QuotaRange]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and self.hasResources(credits=20000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
alsoQueueAction: QuotaRange2
addResources: setFlag=1, credits=-1200

[hiddenAction_QuotaRange2]
buildSpeed: 0.001
alsoQueueAction: FinishBuild
spawnUnits: Krovnork Artillary




[hiddenAction_Bomb]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiArmour', greaterThan=0) and self.hasResources(credits=15000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0)
alsoQueueAction: Bomb2
addResources: setFlag=1, credits=-320

[hiddenAction_Bomb2]
buildSpeed: 6s
alsoQueueAction: FinishBuild
spawnUnits: krimk bomber




[hiddenAction_AS]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiStealth', greaterThan=0) and self.hasResources(credits=15000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) or self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Subs', greaterThan=0) and self.hasResources(credits=30000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
alsoQueueAction: AS2
addResources: setFlag=1, credits=-3700

[hiddenAction_AS2]
buildSpeed: 0.0006
alsoQueueAction: FinishBuild
spawnUnits: Krovnork Elite



[hiddenAction_QuotaAA]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasResources(credits=15000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0)
alsoQueueAction: QuotaAA2
addResources: setFlag=1, credits=-220

[hiddenAction_QuotaAA2]
buildSpeed: 0.005
alsoQueueAction: FinishBuild
spawnUnits: krimk




[graphics]
total_frames: 4

image:        Krovnork Bunker.png
image_back: Krovnork Bunker floor.png
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1


animation_idle_start: 0
animation_idle_end: 3
animation_idle_speed: 15


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 300
shootDelay: 100


[turret_1]
#base
x: -32
y: 11
turnSpeed: 4
idleSpin: 0.3
shouldResetTurret: false

canShoot: true
image: Beam.png
image_applyTeamColors: true


shoot_sound: plasma_fire
shoot_sound_vol: 2
shoot_flame:large
shoot_light:#FFEECCCC

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

delay: 30
warmup: 30

recoilOffset: -10
recoilOutTime: 5
recoilReturnTime: 20

chargeEffectImage: charge small.png


[projectile_1]
directDamage: 125
life: 200
speed: 25

laserEffect: true


lightSize: 2
drawSize: 0.3

#ballistic: true
#ballistic_delaymove_height: 10
#ballistic_height: 50


instant:false
largeHitEffect: false

deflectionPower: 2




[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]


upgradedFrom: Krovnork Bunker




