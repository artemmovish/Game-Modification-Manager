[core]
name: Krovnork Launch Pit
displayText: Launch Tunnel
displayDescription: -Build rockets in the ground and launch them in to space. \n -Construct orbital units. \n -Launches ground-to-orbit missiles.
class: CustomUnitMetadata
price: 10000
maxHp: 7000
mass: 9000

copyFrom: ROOT:Building_AI_Base.ini
borrowResourcesWhileAlive: AO=-6
tags: anti-orbital, NoCap, Building, Factory, SpacePort, AO3, AOTurret, AO2, AO

#footprint used for collisions with units (left, up, right, down)
footprint: -4,-1,3,2
#used for placement, and placement of other buildings
constructionFootprint: -4, -1, 3, 2

buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0





disableAllUnitCollisions: true




techLevel: 1
buildSpeed: 0.00055
#availableInDemo: true

radius: 70
#displayRadius: 120
isBio: false
isBuilding: true


exit_x: 0
exit_y: -10
exit_moveAwayAmount:170


softCollisionOnAll: 3

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5


[hiddenAction_Started]
takeResources: EAO=-6, ETurret=-1
[hiddenAction_Started_UpdateAlly]
takeResources: AO=-4
[hiddenAction_Killed]
takeResources: EAO=6, ETurret=1
[hiddenAction_Killed_UpdateAlly]
takeResources: AO=4
#TotalUnit=-1



[canBuild_1]
name: setRally
pos:  0.1


[canBuild_2]
name: K_Dropship high
pos:  1
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0)

[canBuild_Fighter]
name: K_Fighter
pos:  1
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AO', greaterThan=0)


[canBuild_LBomber]
name: K_LightBomber
pos:  2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=15) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0)

[canBuild_HBomber]
name: K_HeavyBomber
pos:  2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=15)
 

[canBuild_4]
name: K_Battlestation
pos:  3
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=15) and not self.hasUnitInTeam(withTag='Q_AO', greaterThan=0)



[action_BuildFortress]
text: Summon Asteroid Fortress
descriptionAddFromUnit: K_Battleship
DescriptionAddUnitStatsP K_Battleship
unitShownInUI: K_Battleship
ai_considerSameAsBuilding: K_Battleship
buildSpeed: 270s
pos: 4
price: 500000
spawnUnits: K_Battleship(offsetHeight=2000)





[hiddenAction_FinishBuild]
buildSpeed: 0.1s
addResources: unsetFlag=1







[hiddenAction_TitanCounter1]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0) and self.hasResources(credits=600000) and not self.hasFlag(id=1) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Q_Orbit', greaterThan=0) and self.hasResources(credits=6750000) and not self.hasFlag(id=1)
alsoQueueAction: TitanCounter2
addResources: setFlag=1, credits=-500000

[hiddenAction_TitanCounter2]
buildSpeed: 0.0001
#addResources: credits=-500000
alsoQueueAction: FinishBuild
spawnUnits: K_Battleship




[hiddenAction_TitanCounter4]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0) and self.hasResources(credits=200000) and not self.hasFlag(id=1)
alsoQueueAction: TitanCounter5
addResources: setFlag=1, credits=-65000

[hiddenAction_TitanCounter5]
buildSpeed: 0.0002
#addResources: credits=-500000
alsoQueueAction: FinishBuild
spawnUnits: K_Battlestation



[hiddenAction_Fighter1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AO', greaterThan=0) and self.hasResources(credits=20000) and not self.hasResources(credits=100000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStation', greaterThan=0) and self.hasResources(credits=20000) and not self.hasFlag(id=1)
alsoQueueAction: Fighter2
addResources: setFlag=1, credits=-900

[hiddenAction_Fighter2]
buildSpeed: 18s
alsoQueueAction: FinishBuild
spawnUnits: K_Fighter





[hiddenAction_Bomber1]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=75000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0)
alsoQueueAction: Bomber2
addResources: setFlag=1, credits=-35000

[hiddenAction_Bomber2]
buildSpeed: 70s
alsoQueueAction: FinishBuild
spawnUnits: K_HeavyBomber



[hiddenAction_Bomber3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and self.hasResources(credits=25000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasResources(credits=65000)
alsoQueueAction: Bomber4
addResources: setFlag=1, credits=-3000

[hiddenAction_Bomber4]
buildSpeed: 0.0004
alsoQueueAction: FinishBuild
spawnUnits: K_LightBomber







[graphics]
total_frames: 1

image:        launcher.png
image_back: ruin.png
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 1000
shootDelay: 100




[turret_1]

#missiles
x: 0
y: 30
invisible: true
projectile: 1
turnSpeed: 10

shoot_sound:missile_fire
shoot_sound_vol:0.7
canShoot: true

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: orbital

shoot_light:#ff0000
warmup: 0
delay: 40




[projectile_1]
#missile
directDamage: 500
drawSize: 0.8
life: 600
speed: 2.5
targetSpeed: 16
trailEffect: true
largeHitEffect: true
areaRadius: 10
areaDamage: 50
ballistic: true
ballistic_delaymove_height:40
ballistic_height: 50
frame: 4
armourIgnoreAmount: 500

autoTargetingOnDeadTarget: true
deflectionPower: -1






[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

buildPriority: 0.06

noneInBaseExtraPriority: 0.35

noneGlobalExtraPriority: 0.15


maxEachBase: 1

