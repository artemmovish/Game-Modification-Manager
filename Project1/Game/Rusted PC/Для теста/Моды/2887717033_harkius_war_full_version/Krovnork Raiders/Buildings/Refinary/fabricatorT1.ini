[core]

name: K_Refinary1
displayText: Krovnork Refining Pit
displayDescription: -Refines materials for more efficient resource use. \n-Produces credits. \n-Will collapse if there isn't an extractor drill nearby. 

class: CustomUnitMetadata

price: 1600

maxHp: 400

mass: 9000


copyFrom: ROOT:Building_AI_Base.ini
tags: fabricator, Economy, Building




disableAllUnitCollisions: true




generation_resources: credits=5


#footprint used for collisions with units (left, up, right, down)

footprint: -1,-1,1,1


#used for placement, and placement of other buildings

constructionFootprint: -1,-1,1,1


techLevel: 1

buildSpeed: 20s


radius: 20


isBio: false

isBuilding: true


fireTurretXAtSelfOnDeath: explode



[hiddenAction_refund]
autoTrigger: if not self.hasUnitInTeam(withTag='drill', greaterThan=0, withinRange=350)
#autoTriggerOnEvent: created
addResources: 1600

#fireTurretXAtGround: explode
#fireTurretXAtGround_withOffset: 0,0

deleteSelf: true
showMessageToPlayer: Refinary pits cannot operate without a nearby extractor drill.


[action_upgradeT2]

convertTo: K_Refinary2

price:  4900

text: i:gui.actions.upgradeT2

description: Enhance production systems.


#text: i:units.fabricator.upgrade.name
displayType: upgrade
buildSpeed: 37.0s

iconImage: SHARED:icon_upgrade.png
descriptionAddUnitStats: ${section.convertTo}




[placementRule_1]
searchTags: drill
searchDistance: 350
cannotPlaceMessage: must be placed near a drill.
minCount: 1




[graphics]

total_frames: 1


image: T1.png

image_wreak: NONE



[attack]

canAttack: false

canAttackFlyingUnits: false

canAttackLandUnits: false

canAttackUnderwaterUnits: false


maxAttackRange: 260



[movement]

movementType: NONE

moveSpeed: 0

moveAccelerationSpeed: 0.01

moveDecelerationSpeed: 0.01


maxTurnSpeed: 0

turnAcceleration: 0.1




[turret_explode]

x:0

y:0

canShoot:false

projectile:explode




[projectile_explode]

life:99

instant: true


speed: 1

largeHitEffect: true


frame: 0

shadowFrame: 1

drawType: 1


targetGround: true

areaDamage: 250


areaRadius: 90

areaExpandTime: 35


deflectionPower: -1


lightColor: #FFEEEE00

lightSize: 1


friendlyFire: true





[effect_smoke]
#priority:high

#xOffsetRelativeRandom: 0
#yOffsetRelativeRandom: 25
yOffsetAbsolute: -30
xOffsetAbsolute: 12

image: smoke.png
life: 80
fadeOut: true
attachedToUnit: false

#ySpeedRelative:1
scaleFrom: 0.5
scaleTo: 4
alpha: 0.8
drawUnderUnits:false
hSpeed: 0.25

atmospheric: true






[ai]


buildPriority: 0.47
noneInBaseExtraPriority: 0.13

#noneGlobalExtraPriority: 0.4


#maxEachBase: 7
#maxGlobal: 13
ai_upgradePriority: 0.4