
[core]
name: Krovnork Veteran Defender
displayText: Veteran Defender
displayDescription: About as close to an immovable object as you can get. \n-Terror of close quarters combat.\n-Heavily armoured and shielded with laser defences. \n-Still cannot fight air units.\n-Can traverse rough terrain.\n-Very slow, but has impressive health regen.
class: CustomUnitMetadata

price: 18500
maxHp: 2000
mass: 20000

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-5, Cliff=-5, AG=-5, AntiArmour=-3, LD=-3, Shield=-3
tags: Unit, Ground2, Cliff2, AG2, AntiArmour2, Armour2, LD2, CanLead2, Shield2

techLevel: 1
experimental: false

buildSpeed: 0.001

generation_credits: -38
generation_delay: 40




radius: 20
displayRadius: 20


transportSlotsNeeded: 4


isBio: true
selfRegenRate:0.3

energyMax: 3
energyRegen: 0.0042
energyNeedsToRechargeToFull: true

maxShield: 1600
shieldRegen: 0.22

armour: 12



[hiddenAction_Started]
takeResources: EGround=-5, ECliff=-5, EAG=-9, EAntiArmour=-3, EArmour=-1, ELD=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-5, Cliff=-5, AG=-5, AntiArmour=-3, Armour=-3, LD=-3
[hiddenAction_Killed]
takeResources: EGround=5, ECliff=5, EAG=9, EAntiArmour=3, EArmour=3, ELD=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=5, Cliff=5, AG=5, AntiArmour=3, Armour=3, LD=3
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=1900)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=1650)
temporarilyAddTags: Retreat


[hiddenAction_LoadUp]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='KDropper', greaterThan=0, withinRange=1000) and not self.hasActiveWaypoint(type='loadInto') and not self.NumberOfUnitsInTeam(withTag='ALL_ATTACK', greaterThan=0) and not self.tags(includes='Retreat') and not self.tags(includes='DEFEND') and not self.tags(includes='Attacking')
addWaypoint_type: loadInto
clearAllWaypoints: false
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_maxRange: 1000
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: KDropper




[graphics]
total_frames: 1
teamColorsOnTurret: true
image:        K vetshield waist.png
image_wreak: Krovnork corpse.png
image_turret: K vetshield body.png

animation_idle_scale_start:1
animation_idle_scale_end:1.07
animation_idle_pingPong: true


image_shadow: SHADOW:K vetshield body.png
lock_shadow_rotation_with_main_turret: true
shadowOffsetX:2
shadowOffsetY:2

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 35
shootDelay: 35
aimOffsetSpread:0.2
turretRotateWithBody: false
isMelee: true

meleeEngangementDistance: 150


[turret_1]
#right melee arm

x: 8
y: 0
turnSpeed: 3.5
attachedTo: 3
canShoot: true
shoot_flame:NONE
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
projectile: 1
recoilOffset: 5
recoilOutTime: 5
recoilReturnTime: 20
delay: 25
image: K vetshield rarm.png
warmup: 10


[turret_2]

#left melee arm

x: -8
y: 0
turnSpeed: 3
attachedTo: 3
canShoot: true
shoot_flame:NONE
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
projectile: 2
recoilOffset: 3
recoilOutTime: 10
recoilReturnTime: 25
delay: 25
image: K vetshield larm.png
warmup: 25

[turret_5]
x: -8
y: 2
invisible: true
attachedTo: 3
projectile: 4
turnSpeed: 4

warmup: 1
delay: 2
limitingRange: 120
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false



[turret_3]

#body

x: 0
y: 0
turnSpeed: 2
size: 20
canShoot: false
idleDir:0


[turret_4]
#head

x: 0
y: 0
idleDir:0
invisible: false
canShoot: true
turnSpeed: 2.2
idleDir:0
attachedTo: 3

canShoot: true
shoot_flame:NONE
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
projectile: 3
recoilOffset: 2
recoilOutTime: 2
recoilReturnTime: 10
delay: 30
image: K vetshield head.png
warmup: 30

[turret_6]

x: 0
y: 0
canShoot: false
invisible: true


laserDefenceEnergyUse: 0.1

limitingRange: 180

size:1


[projectile_1]
#Hammer Time!
directDamage: 155
instant: true
laserEffect: false
life: 5
largeHitEffect: true
areaRadius: 20
areaDamage: 0

[projectile_2]

#Shield Bash

directDamage: 50
instant: true
laserEffect: false
life: 5
largeHitEffect: true
areaRadius: 50
areaDamage: 40


[projectile_3]

#Chomp


directDamage: 185
instant: true
laserEffect: false
life: 5
largeHitEffect: true
areaRadius: 10
areaDamage: 0


[projectile_4]
#flame thrower

life: 35
speed: 10
speedSpread: 5

frame: 3
drawSize: 1.3

flameWeapon: true
hitSound: false
instantReuseLast: false

targetGround:true
targetGroundSpread: 10

deflectionPower: -1

areaDamage: 15
areaRadius: 120





[leg_1]
x: -5
y: 0
attach_x: -2
attach_y: 0
moveSpeed: 3

rotateSpeed: 4

heightSpeed: 0.7
resetAngle:25

image_leg:  K vetshield leg.png
image_foot: K vetshield foot.png

#draw_foot_on_top: false
#dust_effect: false

#holdDisMin: 0.02
#holdDisMax: 0.04

[leg_2]
x: 5
y: 0
attach_x: 2
attach_y: 0
copyFrom: 1


[movement]
movementType: OVER_CLIFF
moveSpeed: 1.4
moveAccelerationSpeed: 0.05
moveDecelerationSpeed: 0.1

maxTurnSpeed: 1.5
turnAcceleration: 0.15
targetHeight:0.5
moveSlidingMode :false
moveIgnoringBody:true
moveSlidingDir: 0
reverseSpeedPercentage:1

slowDeathFall: false

