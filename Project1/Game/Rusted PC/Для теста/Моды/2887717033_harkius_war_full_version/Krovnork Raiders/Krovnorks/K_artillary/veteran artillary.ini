
[core]
name: Krovnork Veteran Artillary
displayText: Veteran Artillary Gunner
displayDescription: BACK. OFF. NOW. \n Will blast half the battlefield to pieces if you're not careful. \n -Now armed with a partical cannon on the arm. \n -Slightly increased speed.
class: CustomUnitMetadata

price: 1200
maxHp: 750
mass: 16000

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-3, Cliff=-3, AG=-4, AA=-3, Artillery=-4, AntiArmour=-3
tags: Unit, Ground2, Cliff2, AG2, AA2, Range2, AntiArmour2

techLevel: 1
experimental: false

buildSpeed: 0.001


generation_credits: -26
generation_delay: 40

radius: 20
displayRadius: 20


fogOfWarSightRange: 40


transportSlotsNeeded: 2


isBio: true
selfRegenRate:0.05


#autoTriggerCooldownTime: 0.1s


[hiddenAction_Started]
takeResources: EGround=-3, ECliff=-3, EAG=-4, EAA=-3, EArtillery=-4, EAntiArmour=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-3, Cliff=-3, AG=-4, AA=-3, Artillery=-4, AntiArmour=-3
[hiddenAction_Killed]
takeResources: EGround=3, ECliff=3, EAG=4, EAA=3, EArtillery=4, EAntiArmour=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=3, Cliff=3, AG=4, AA=3, Artillery=4, AntiArmour=3
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=740)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=730)
temporarilyAddTags: Retreat



[hiddenAction_LoadUp]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='KDropper', greaterThan=0, withinRange=1000) and not self.hasActiveWaypoint(type='loadInto') and not self.NumberOfUnitsInTeam(withTag='ALL_ATTACK', greaterThan=0) and not self.tags(includes='Retreat') and not self.tags(includes='DEFEND') and not self.tags(includes='Attacking')
addWaypoint_type: loadInto
clearAllWaypoints: false
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_maxRange: 1000
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: KDropper




[graphics]
total_frames: 1
teamColorsOnTurret: true
image:        K vetart waist.png
image_wreak: Krovnork corpse.png
image_turret: K vetart body.png

animation_idle_scale_start:1
animation_idle_scale_end:1.07
animation_idle_pingPong: true


image_shadow: SHADOW:K vetart body.png
lock_shadow_rotation_with_main_turret: true
shadowOffsetX:2
shadowOffsetY:2

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 2
maxAttackRange: 410
shootDelay: 30
aimOffsetSpread: 0.1
turretRotateWithBody: false
isMelee: false
turretMultiTargeting: true


[turret_1]
#right gunning arm

x: 8
y: 0
turnSpeed: 2.5
attachedTo: 3

canShoot: true
shoot_sound:plasma_fire
shoot_sound_vol:0.1
shoot_flame:small
shoot_light:#FFccCCEE


canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
projectile: 5
recoilOffset: -3
recoilOutTime: 5
recoilReturnTime: 10
warmup: 20
delay: 20

image: K vetart rarm.png



[turret_2]

#left melee arm

x: -8
y: 0
turnSpeed: 3
attachedTo: 3
canShoot: true
shoot_flame:NONE
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
projectile: 2
recoilOffset: 5
recoilOutTime: 5
recoilReturnTime: 20
delay: 35
image: K novart larm.png
warmup: 25
limitingRange: 60


[turret_3]

#body

x: 0
y: 0
turnSpeed: 2
size: 20
canShoot: false
idleDir:0


[turret_4]
#head

x: 0
y: 0
idleDir:0
invisible: false
canShoot: true
turnSpeed: 2
idleDir:0
attachedTo: 3

canShoot: true
shoot_flame:NONE
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
projectile: 3
recoilOffset: 2
recoilOutTime: 2
recoilReturnTime: 10
delay: 30
image: K novart head.png
warmup: 40
limitingRange: 55

[turret_5]
#cannon turret

x: -5
y: -5
turnSpeed: 1.5
attachedTo: 3
delay: 0.9s
shoot_sound: cannon_firing
shoot_sound_vol:0.4
canShoot: true
shoot_flame:small
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
projectile: 1
recoilOffset: -3
recoilOutTime: 5
recoilReturnTime: 10
warmup: 0.1s

image: K vetart cannon.png



[turret_6]

#rocket launcher

x: 5
y: -5
size:10
turnSpeed: 1.5
attachedTo: 3
delay: 0.6s
shoot_sound:missile_fire
shoot_sound_vol:0.7
canShoot: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
projectile: 4
shoot_light:#ff0000
warmup: 0.1s
image: K vetart rockets.png





[projectile_1]
#Some nice russian bias artillary. Fair and balance.
directDamage: 0
life: 150
speed: 4

frame: 2
color: #bebe50

drawSize: 0.9

areaDamage: 150
areaRadius: 65

largeHitEffect: true
targetGround: true

lightColor: #ffe92b
lightSize: 0.4
initialUnguidedSpeedHeight: 1.2
gravity:0.18
lightCastOnGround: true



[projectile_2]

#You punched me! The tanks never punched me!


directDamage: 75
instant: true
laserEffect: false
life: 5
largeHitEffect: true
areaRadius: 20
areaDamage: 0


[projectile_3]

#NOM


directDamage: 135
instant: true
laserEffect: false
life: 5
largeHitEffect: true
areaRadius: 10
areaDamage: 0



[projectile_4]
#missile
frame: 4
trailEffect: true
directDamage: 10
life: 650
targetSpeed:5
speed: 0.1
largeHitEffect: true
areaDamage: 55
areaRadius: 70
drawSize: 0.95
autoTargetingOnDeadTarget: true


[projectile_5]
directDamage: 70
largeHitEffect: true
areaDamage: 55
areaRadius: 35

life: 70
speed: 12

frame: 11

lightColor: #FFccCCEE
lightSize: 0.4







[leg_1]
x: -5
y: 0
attach_x: -2
attach_y: 0
moveSpeed: 2.5

rotateSpeed: 4

heightSpeed: 0.5
resetAngle:25

image_leg:  K vetart leg.png
image_foot: K vetart left foot.png

#draw_foot_on_top: false
#dust_effect: false

holdDisMin: 0.02
holdDisMax: 0.04

[leg_2]
x: 5
y: 0
attach_x: 2
attach_y: 0
copyFrom: 1
image_leg:  K vetart leg.png
image_foot: K vetart right foot.png



[movement]
movementType: OVER_CLIFF
moveSpeed: 1.1
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.07

maxTurnSpeed: 1.7
turnAcceleration: 0.2
targetHeight:0.5
moveSlidingMode :false
moveIgnoringBody:true
moveSlidingDir: 0
reverseSpeedPercentage:0.5

slowDeathFall: false



[ai]

upgradedFrom: Krovnork Skilled Artillary



