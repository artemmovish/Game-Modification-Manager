
[core]
name: Cyber Ray
class: CustomUnitMetadata
price: 4700
maxHp: 650
mass: 30000

techLevel: 2
buildSpeed: 0.0005
availableInDemo: true


displayText: Cyber Ray
displayDescription: -A strong air unit formed around a bizarre creature. \n -Can attack stealth units and submarines. \n -Armed with a shield piercing lightning attack.

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Air=-2, AG=-3, AA=3, AntiShield=-1, AntiLD=-1, AS=-3, AntiStealth=-1
tags: Unit, Air2, AG2, AA2, anti-stealth, AStealth, ALD, AntiShield, AS, CanLead1

radius: 25
isBio: true
#softCollisionOnAll: 1



[hiddenAction_Started]
takeResources: EAir=-3, EAG=-3, EAA=-3, EAS=-1, EAntiStealth=-1, EAntiLD=-1, EAntiShield=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Air=-2, AG=-3, AA=-3, AS=-1, AntiStealth=-1, AntiLD=-1, AntiShield=-1
[hiddenAction_Killed]
takeResources: EAir=-3, EAG=3, EAA=3, EAS=1, EAntiStealth=1, EAntiLD=1, EAntiShield=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Air=2, AG=3, AA=3, AS=1, AntiStealth=1, AntiLD=1, AntiShield=1
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=600)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=500)
temporarilyAddTags: Retreat








[animation_move]
onActions: move
start: 0
end: 3
speed: 4

[animation_attack]
onActions: attack
start: 0
end: 3
speed: 4


[animation_idle]
onActions: idle
start: 0
end: 3
speed: 4





[graphics]
total_frames: 4
teamColorsOnTurret: true

image:        NewBody.png
image_wreak:  K CR corpse.png
image_turret: NewBody.png



image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2






[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 6
turretTurnSpeed: 3



maxAttackRange: 245
shootDelay: 10

turretMultiTargeting: false


[turret_1]
#leftpartical gun
x: -20
y: 0

projectile: 1

recoilOffset: -1
recoilOutTime: 2
recoilReturnTime: 2

shoot_sound: plasma_fire
shoot_sound_vol:0.15
shoot_flame:small
shoot_light:#00b1ff

delay: 25
warmup: 0

canShoot: true
image: K CR gun.png

recoilOffset: -3
recoilOutTime: 15
recoilReturnTime: 15


[turret_2]
#middle partical gun
x: 0
y: 10

copyFrom: 1
linkDelayWithTurret: 1
warmup: 5
image: K CR gun.png


#energyUsage: 0


[turret_3]
#right partical gun
x: 20
y: 0

copyFrom: 1
linkDelayWithTurret: 1
warmup: 10
image: K CR gun.png


#energyUsage: 0






[projectile_1]
#partical shot
directDamage: 25
life: 100
speed: 15
largeHitEffect: false
trailEffect: true
frame: 11
lightColor: #cccc00
lightSize: 3





[projectile_2]
#electron beam
directDamage: 80


life: 10
lightingEffect: true
instant: true
deflectionPower: -1

shieldDamageMultiplier: 2
shieldDefectionMultiplier: 0.5








[attachment_Body1]
x: 0
y: 0
keepAliveWhenParentDies: false
canBeAttackedAndDamaged: false
setDrawLayerOnTop: true
rotateWithParent: true
isUnselectable: true
lockRotation: true
idleDir: 0
deattachIfWantingToMove: false
onCreateSpawnUnitOf: K_RayCover
prioritizeParentsMainTarget: true





[movement]
movementType: AIR
moveSpeed: 0.9
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.02





maxTurnSpeed: 3
turnAcceleration: 0.05

moveSlidingMode :false
moveIgnoringBody:true
moveSlidingDir:  25

slowDeathFall: true