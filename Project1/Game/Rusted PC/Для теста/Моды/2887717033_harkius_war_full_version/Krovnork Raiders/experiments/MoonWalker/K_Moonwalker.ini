
[core]
name: K Moonwalker
displayText: Moonwalker
displayDescription: The nervous system of a failed Amalgamate, welded into a machine. \n-An enormous, mobile, fortress buster-type weapon. \n Very slow. \n -Heavily armoured and defended. \n -Armed with a long range bunker busting cannon. \n-Can be attacked by anti-air weapons because of how tall it is. \n-shielded\n-Cannot attack some weaker units.
class: CustomUnitMetadata

price: 220000
maxHp: 8000
mass: 9999999

generation_credits: -120
generation_delay: 40

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Air=-27, Ground=-9, Cliff=-9, Water=-9, AG=-27, AA=3, Artillery=-27, AntiArmour=-27, AntiLD=-12, AO=-2, Shield=-27
tags: Unit, AirT, Ground3, Cliff3, Water3, AGT, AA2, AO, anti-orbital, RangeT, CanLead3, AntiArmourT, ALD3, Titan, ShieldT

techLevel: 2
experimental: true
fogOfWarSightRange: 40
buildSpeed: 170s
disableAllUnitCollisions: true


radius: 70
displayRadius: 80
transportSlotsNeeded: 50


energyMax: 3
energyRegen: 0.0005
energyNeedsToRechargeToFull: false

maxShield: 6000
shieldRegen: 0.5

armour: 2


isBio: false

nukeOnDeath: true
nukeOnDeathRange: 300
nukeOnDeathDamage: 5000
nukeOnDeathDisableWhenNoNuke: true


[hiddenAction_Started]
takeResources: EAir=-27, EGround=-9, ECliff=-9, EWater=-9, EAG=-27, EAA=3, EArtillery=-27, EAntiArmour=-27, EAntiLD=-12, EAO=-2, EShield=-27
[hiddenAction_Started_UpdateAlly]
takeResources: Air=-27, Ground=-9, Cliff=-9, Water=-9, AG=-27, AA=3, Artillery=-27, AntiArmour=-27, AntiLD=-12, AO=-2, Shield=-27
[hiddenAction_Killed]
takeResources: EAir=27, EGround=9, ECliff=9, EWater=9, EAG=27, EAA=3, EArtillery=27, EAntiArmour=27, EAntiLD=12, EAO=2, EShield=27
[hiddenAction_Killed_UpdateAlly]
takeResources: Air=27, Ground=9, Cliff=9, Water=9, AG=27, AA=3, Artillery=27, AntiArmour=27, AntiLD=12, AO=2, Shield=27
#TotalUnit=-1

[hiddenAction_Warning]
autoTriggerOnEvent: completeAndActive

showMessageToAllEnemyPlayers: Enemy Moon-Walker detected


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=7600)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=7000)
temporarilyAddTags: Retreat




[attachment_unitSlot1]

x:0
y:0
height: 1
#idleDir:-60
idleDir:0
idleDirReversing:0

onCreateSpawnUnitOf: K_Damage_Transfer
addTransportedUnits: true
setDrawLayerOnTop: false
lockLegMovement:false

canBeAttackedAndDamaged: true
isUnselectable: false

showAllActionsFrom:if self.hasFlag(id=1)

#resetRotationWhenNotAttacking:true
lockRotation: true

createIncompleteIfParentIs: false

redirectDamageToParent: true
redirectDamageToParent_shieldOnly: false




[graphics]
total_frames: 1
teamColorsOnTurret: true
image:       MWJ.png
image_wreak: NONE
image_turret: MWB.png
icon_zoomed_out: MapX.png

image_shadow: SHADOW:MWB.png
lock_shadow_rotation_with_main_turret: false
shadowOffsetX:0.5
shadowOffsetY:0.5

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 0.5
maxAttackRange: 750
shootDelay: 100
aimOffsetSpread:0.5
turretRotateWithBody: false
turretMultiTargeting: true
canOnlyAttackUnitsWithoutTags: Small






[turret_1]

#bunker buster

x: 0
y: 20
projectile: 1
attachedTo: 4
slave: true
turnSpeed: 0

shoot_sound:cannon_firing
shoot_sound_vol:0.8
shoot_flame:small
shoot_light:#FFEEEEEE

delay: 2s
warmup: 7s

canShoot: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
energyUsage: 1
chargeEffectImage: nemesis_charge.png

image: MWC.png
recoilOffset: -10
recoilOutTime: 3
recoilReturnTime: 50
#canOnlyAttackUnitsWithoutTags: Small
size: 30
canOnlyAttackUnitsWithoutTags: orbital




[turret_2]

#ground gun
x: -40
y: 10
attachedTo: 4
projectile: 2

turnSpeed: 2
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
recoilOffset: -2
recoilOutTime: 4
recoilReturnTime: 5

shoot_sound: cannon_firing
shoot_sound_vol:0.4
shoot_flame:small
shoot_light:#00b1ff

delay: 75
warmup: 0
canShoot: true
image: MWG.png
limitingRange: 550
#canOnlyAttackUnitsWithoutTags: Small


[turret_3]

#ground gun
x: 40
y: 10
attachedTo: 4
projectile: 2

turnSpeed: 2
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
recoilOffset: -2
recoilOutTime: 4
recoilReturnTime: 5

shoot_sound: cannon_firing
shoot_sound_vol:0.4
shoot_flame:small
shoot_light:#00b1ff

linkDelayWithTurret: 2
warmup: 25
canShoot: true
image: MWG.png
limitingRange: 550
#canOnlyAttackUnitsWithoutTags: Small




[turret_4]

#body

x: 0
y: 0
size: 20
canShoot: false
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

recoilOffset: -3
recoilOutTime: 5
recoilReturnTime: 30
canOnlyAttackUnitsWithoutTags: orbital


[turret_5]
#AA
x: 0
y: 0
canShoot: false
image: MWT.png
canAttackFlyingUnits: true
canAttackLandUnits: false
canAttackUnderwaterUnits: false
limitingRange: 350
shouldResetTurret: true
turnSpeed: 5



[turret_6]
#AA barrel
attachedTo: 5
slave: true
x: 2
y: 1

turnSpeed: 0
canShoot: true



projectile: 3
image: MWL.png

shoot_sound: plasma_fire
shoot_sound_vol: 0.3
shoot_light: #00b1ff
limitingRange: 400

delay: 0.1s
warmup: 0.3s

recoilOffset: -3
recoilOutTime: 10
recoilReturnTime: 20

chargeEffectImage: charge small.png






[projectile_1]

#railgun
directDamage: 4000
life: 15
instant: true
drawSize: 2.0


friendlyFire: true

areaExpandTime: 50
largeHitEffect: true
areaDamage: 2000
areaRadius: 240
nukeWeapon: true
lightColor: #00ff00
lightSize: 0.3

deflectionPower: -1
laserEffect: true
frame:4


mutator1_ifUnitWithTags: orbital
mutator1_directDamageMultiplier: 0
mutator1_areaDamageMultiplier: 0


[projectile_2]
directDamage: 200
life: 200
speed: 5
largeHitEffect: true
trailEffect: true
frame: 11
lightColor: #cccc00
lightSize: 3


[projectile_3]
directDamage: 90
life: 2

laserEffect: true

color: #00b1ff
lightColor: #00b1ff
lightSize: 0.1
drawSize: 0.5

largeHitEffect: false
instant:true

mutator1_ifUnitWithTags: orbital
mutator1_directDamageMultiplier: 5
armourIgnoreAmount: 500





[leg_1]
x: -50
y: 50
attach_x: -10
attach_y: 10
moveSpeed: 1.15

rotateSpeed: 2

heightSpeed: 0.2
resetAngle:25

image_leg:  MW leg.png
image_foot: MW foot.png

#draw_foot_on_top: false
#dust_effect: false

holdDisMin: 0.7
holdDisMax: 3

[leg_2]
x: 50
y: 50
attach_x: 10
attach_y: 10
copyFrom: 1

[leg_3]
x: -50
y: -30
attach_x: -10
attach_y: -10
copyFrom: 1

[leg_4]
x: 50
y: -30
attach_x: 10
attach_y: -10
copyFrom: 1

[leg_5]
x: 0
y: -75
attach_x: 0
attach_y: -20
copyFrom: 1
holdDisMin: 4
holdDisMax: 6



[movement]
movementType: AIR
moveSpeed: 0.5
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.06

maxTurnSpeed: 1
turnAcceleration: 0.01

targetHeight: 5
targetHeightDrift: 0

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir: 45
reverseSpeedPercentage:0.8

slowDeathFall: false

