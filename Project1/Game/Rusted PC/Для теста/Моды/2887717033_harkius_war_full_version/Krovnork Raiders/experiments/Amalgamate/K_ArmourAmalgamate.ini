
[core]
name: ArmouredAmalgamate
displayText: Amalgamate(armoured)
displayDescription: A bio-engineered terror. Grown by moulding huge fields of flesh into Krovnork form. \n-Ultimate melee strength.\n-Very heavily armoured. \n-extremely slow, light anti-air attack.\n-Can traverse rough terrain. Cannot swim.\n-Can survive after the armour is destroyed.
class: CustomUnitMetadata

price: 95000
maxHp: 7500
mass: 200000

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-9, Cliff=-9, AG=-9, AA=-3, AntiLD=-3, Armour=-9, AntiArmour=-9
tags: Unit, Ground3, Cliff3, AG3, AA2, ALD2, CanLead3, Armour3, AntiArmour3

techLevel: 2
experimental: true

buildSpeed: 150s

generation_credits: -70
generation_delay: 40

radius: 25
displayRadius: 30


armour: 28
armourMinDamageToKeep: 0

transportSlotsNeeded: 15


isBio: true
#selfRegenRate:0.6
unitsSpawnedOnDeath: Amalgamate

[hiddenAction_Started]
takeResources: EGround=-12, ECliff=-12, EAG=-12, EAA=-3, EAntiArmour=-9, EArmour=-12, EAntiLD=-5
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-9, Cliff=-9, AG=-12, AA=-3, AntiLD=-5, Armour=-12, AntiArmour=-9
[hiddenAction_Killed]
takeResources: EGround=12, ECliff=12, EAG=12, EAA=3, EAntiArmour=9, EArmour=12, EAntiLD=5
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=9, Cliff=9, AG=12, AA=3, AntiLD=5, Armour=12, AntiArmour=9
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=500)
temporarilyAddTags: Retreat



[hiddenAction_LoadUp]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='KDropper', greaterThan=0, withinRange=1000) and not self.hasActiveWaypoint(type='loadInto') and not self.NumberOfUnitsInTeam(withTag='ALL_ATTACK', greaterThan=0) and not self.tags(includes='Retreat') and not self.tags(includes='DEFEND') and not self.tags(includes='Attacking')
addWaypoint_type: loadInto
clearAllWaypoints: false
addWaypoint_prepend: true
addWaypoint_target_nearestUnit_maxRange: 1000
addWaypoint_target_nearestUnit_team: own
addWaypoint_target_nearestUnit_tagged: KDropper





[graphics]
total_frames: 1
teamColorsOnTurret: true
image:        ArWaist.png
image_wreak: NONE
image_turret: ArBody.png


image_shadow: SHADOW:ArBody.png
lock_shadow_rotation_with_main_turret: true
shadowOffsetX:2
shadowOffsetY:2

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 10
turretTurnSpeed: 3
maxAttackRange: 110


shootDelay: 25
aimOffsetSpread:0.2
turretRotateWithBody: true
isMelee: true

turretMultiTargeting: true


[turret_1]
#right melee arm

x: 18
y: 0
turnSpeed: 3
attachedTo: 3
canShoot: true
shoot_flame:NONE
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
projectile: 1
recoilOffset: 10
recoilOutTime: 10
recoilReturnTime: 25
delay: 120
image: ArRightArm.png
image_applyTeamColors: true
warmup: 0
#limitingRange: 20


[turret_2]

#shield

x: -18
y: 0
turnSpeed: 3
attachedTo: 3
canShoot: true
shoot_flame:NONE
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
projectile: 1
recoilOffset: 10
recoilOutTime: 10
recoilReturnTime: 25
linkDelayWithTurret: 1
image: ArLeftArm.png
image_applyTeamColors: true
warmup: 45
#limitingRange: 20



[turret_3]

#body

x: 0
y: 0
turnSpeed: 2
size: 20
canShoot: false
idleDir:0


[turret_4]
#head

x: 0
y: 0
idleDir:0
invisible: false
canShoot: true
turnSpeed: 2.2
idleDir:0
attachedTo: 3

canShoot: true
shoot_flame:NONE
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
projectile: 2
recoilOffset: -3
recoilOutTime: 5
recoilReturnTime: 15
delay: 20
image: ArHead.png
image_applyTeamColors: true
warmup: 30




[projectile_1]
#Megaton POUNCH
directDamage: 700
instant: true
laserEffect: false
life: 5
largeHitEffect: true
areaRadius: 20
areaDamage: 0


[projectile_2]
directDamage: 200
life: 80
speed: 7
#frame: 0

lightColor: #00ff00
lightSize: 0.8
drawSize: 2
areaRadius: 60
areaDamage: 60




[leg_1]
x: -12
y: 0
attach_x: -10
attach_y: 0
moveSpeed: 1.3

rotateSpeed: 4

heightSpeed: 0.2
resetAngle:25

image_leg:  ArLeftLeg.png
image_foot: ArLFoot.png
#image_end: ArLeftLeg.png
#image_end_teamColors: true


#draw_foot_on_top: false
#dust_effect: false

holdDisMin: 15
holdDisMax: 25

[leg_2]
x: 12
y: 0
attach_x: 10
attach_y: 0
copyFrom: 1
image_leg:  ArRightLeg.png
image_foot: ArRFoot.png

#image_end: ArRightLeg.png
#image_end_teamColors: true


[movement]
movementType: OVER_CLIFF
moveSpeed: 0.6
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.1

maxTurnSpeed: 1.5
turnAcceleration: 0.15
targetHeight:0.5
moveSlidingMode :false
moveIgnoringBody:true
moveSlidingDir: 0
reverseSpeedPercentage:1

slowDeathFall: false

[ai]

