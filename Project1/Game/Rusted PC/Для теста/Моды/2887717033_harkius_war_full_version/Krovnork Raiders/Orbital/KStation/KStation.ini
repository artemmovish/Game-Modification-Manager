[core]
name: K_Battlestation
displayText: Junk Battlestation
displayDescription: A heavily armoured spaceship built in to a meteor. \n -Fires missiles. Can use a deadly partical cannon against orbital targets. \n-Missiles can bombard the ground. \n-Slow.
class: CustomUnitMetadata
price: 65000
maxHp: 7500
mass: 20000
transportSlotsNeeded: 999
generation_credits: -15

copyFrom: ROOT:Orbital_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Orbit=-9, AO=-7, AA=-9, AG=-9, Artillery=-3
tags: orbital, anti-orbital, AO3, AntiOT, Orbit3, CanFollow, Station, CanLead3, Obomb, AG3, AA3, Range2

techLevel: 2
experimental: false

buildSpeed: 0.0002
#availableInDemo: true

radius: 60
#displayRadius: 11
isBio: false
softCollisionOnAll: 3


fogOfWarSightRange: 50


#builtFrom_1_name: Krovnork Factory T2
#builtFrom_1_pos:  8
#builtFrom_2_name: airFactoryT2_c
#builtFrom_2_pos:  8
#builtFrom_3_name: airFactoryT3
#builtFrom_3_pos:  8


canOnlyBeAttackedByUnitsWithTags: orbital, anti-orbital

disableAllUnitCollisions: true

maxTransportingUnits: 0

#transportSlotsNeeded: 10

energyMax: 10
energyRegen: 0.016
energyNeedsToRechargeToFull: true

selfRegenRate: 0.17
maxShield: 15000
shieldRegen: 2.4

exit_heightOffset : 1000


[hiddenAction_Started]
takeResources: EOrbit=-9, EAO=-7, EAA=-9, EAG=-9, EArtillery=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Orbit=-9, AO=-7, AA=-9, AG=-9, Artillery=-3
[hiddenAction_Killed]
takeResources: EOrbit=9, EAO=7, EAA=9, EAG=9, EArtillery=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Orbit=9, AO=7, AA=9, AG=9, Artillery=3
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=7400) and not numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=800)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=7000) or numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=500)
temporarilyAddTags: Retreat





[graphics]
total_frames: 1

image:        Station.png
image_wreak:  NONE
image_turret: Turret.png
icon_zoomed_out: mapOrbit.png


image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

movementEffect: CUSTOM:thrust
movementEffectRate: 2


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
#attackMovement: bomber
maxAttackRange: 900

turretMultiTargeting: true
aimOffsetSpread: 0.6



[turret_1]
#bomber
#invisible: true
x: 19
y: -5
idleDir:0
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: orbital
delay: 0


shoot_sound: plasma_fire
shoot_sound_vol:0.4
shoot_flame:large
shoot_light:#00b1ff

delay: 50
warmup: 60

canOnlyAttackUnitsWithTags: orbital
chargeEffectImage: charge small.png

projectile: 1
size: 30
turnSpeed: 1
limitingRange: 800


[turret_2]
#missiles
x: 10
y: 35

projectile: 2

invisible: true


canShoot: true
turnSpeed: 3
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


shoot_sound: missile_fire
shoot_sound_vol:0.15
shoot_flame:small
shoot_light:#FFEECCCC
delay: 20
warmup: 5
energyUsage: 1
limitingRange: 500


[turret_3]
#missiles
x: 10
y: 35

projectile: 3

invisible: true


canShoot: true
turnSpeed: 3
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


shoot_sound: missile_fire
shoot_sound_vol:0.15
shoot_flame:small
shoot_light:#FFEECCCC
delay: 65
warmup: 10
#energyUsage: 1

canOnlyAttackUnitsWithTags: orbital



[projectile_1]
#bomb

#cannot use directDamage with targetGround
directDamage: 1475
image: shot.png

life: 250
speed: 30


largeHitEffect: true

trailEffect: CUSTOM:trail
trailEffectRate:0.2

#targetGround: true
#targetGroundSpread: 100

areaDamage: 25
areaRadius: 65

#for laser defence
deflectionPower: -1
armourIgnoreAmount: 500



[projectile_2]
#missile
life: 600
directDamage: 100
speed: 1.5
targetSpeed: 20
trailEffect: true
frame: 4
areaDamage: 125
areaRadius: 50
autoTargetingOnDeadTarget: true



[projectile_3]
#missile
life: 600
directDamage: 350
speed: 1.5
targetSpeed: 20
trailEffect: true
frame: 4


autoTargetingOnDeadTarget: true
deflectionPower: -1



[effect_thrust]
image: thrust.png
life: 15
fadeOut: true
attachedToUnit: false
fadeInTime:2
drawUnderUnits:true
#ySpeedRelative:-0.4
atmospheric: true


[effect_trail]
image: shot.png
life: 10
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1



[movement]
movementType: AIR
moveSpeed: 0.45
moveAccelerationSpeed: 0.005
moveDecelerationSpeed: 0.005

landOnGround: false
targetHeight: 600

maxTurnSpeed: 0.2
turnAcceleration: 0.01

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  45


slowDeathFall: true


[ai]

#useAsTransport: true
#useAsBuilder: true

buildPriority: 0.01
noneGlobalExtraPriority: 0.4


