[core]
name: K_Battleship
displayText: Rocket Fortress
displayDescription: A light cruiser, with bombardment weapons. \n -Launches missile barrages at the ground. Armed with a light antiship cannon. \n -On death, will cash to create a huge explosion and release a small army of Krovnorks. \n-Point defences to attack fighters.
class: CustomUnitMetadata
price: 500000
maxHp: 55000
mass: 20000
transportSlotsNeeded: 999

copyFrom: ROOT:Orbital_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Orbit=-30, AO=-30, AA=-27, AG=-27, Artillery=-15, AntiArmour=-27, AntiLD=-3
tags: orbital, anti-orbital, AOT, AntiOT, OrbitT, CanFollow, Station, CanLead3, Obomb, AGT, AAT, Range3, TiStationPart, TiStation, AntiArmourT, ALD2

generation_credits: -225
generation_delay: 40

techLevel: 3
experimental: true

buildSpeed: 270s
#availableInDemo: true

radius: 200
#displayRadius: 11
isBio: false
softCollisionOnAll: 3


fogOfWarSightRange: 125


canOnlyBeAttackedByUnitsWithTags: orbital, anti-orbital

disableAllUnitCollisions: true


energyMax: 20
energyRegen: 0.03
energyNeedsToRechargeToFull: true

#selfRegenRate: 0
maxShield: 20000
shieldRegen: 2


nukeOnDeath: true
nukeOnDeathRange: 600
nukeOnDeathDamage: 5000
nukeOnDeathDisableWhenNoNuke: false

unitsSpawnedOnDeath: K_ArmySpawn


armour: 25


[hiddenAction_Started]
takeResources: EOrbit=-30, EAO=-30, EAA=-27, EAG=-27, EArtillery=-15, EAntiArmour=-27, EAntiLD=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Orbit=-30, AO=-30, AA=-27, AG=-27, Artillery=-15, AntiArmour=-27, AntiLD=-3
[hiddenAction_Killed]
takeResources: EOrbit=30, EAO=30, EAA=27, EAG=27, EArtillery=15, EAntiArmour=27, EAntiLD=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Orbit=30, AO=30, AA=27, AG=27, Artillery=15, AntiArmour=27, AntiLD=3
#TotalUnit=-1


[hiddenAction_Warning]
autoTriggerOnEvent: completeAndActive

showMessageToAllEnemyPlayers: Enemy bombardment craft detected. 
playSoundGlobally: ROOT:Audio/Battleship.ogg




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=50000) and not numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=800)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=30000) or numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=500)
temporarilyAddTags: Retreat




[graphics]
total_frames: 1

image:        body.png
image_wreak:  NONE
image_turret: largeGun.png
icon_zoomed_out: mapX.png


image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

movementEffect: CUSTOM:thrust, CUSTOM:thrust2, CUSTOM:thrust3, CUSTOM:thrust4, CUSTOM:Glow, CUSTOM:Glow2
movementEffectRate: 2


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
#attackMovement: bomber
maxAttackRange: 950

turretMultiTargeting: true
aimOffsetSpread: 0.6


[turret_1]
#missiles
x: 0
y: 0

projectile: 2

invisible: true


canShoot: true
turnSpeed: 5
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


shoot_sound: missile_fire
shoot_sound_vol:0.15
shoot_flame:small
shoot_light:#FFEECCCC
delay: 5
warmup: 5
energyUsage: 1
limitingRange: 600



[turret_2]
#mid turret1
#invisible: true
x: 80
y: 45
idleDir:120
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: orbital

image: Turret.png

shoot_sound: plasma_fire
shoot_sound_vol:0.4
shoot_flame:large
shoot_light:#00b1ff

delay: 200
warmup: 20

canOnlyAttackUnitsWithTags: orbital
chargeEffectImage: charge small.png

projectile: 1
size: 30
turnSpeed: 0.8
limitingRange: 800


[turret_3]
#mid turret1
#invisible: true
x: 80
y: 75
idleDir:90
@copyFromSection: turret_2

[turret_4]
#mid turret1
#invisible: true
x: 80
y: 115
idleDir:70
@copyFromSection: turret_2

[turret_5]
#mid turret1
#invisible: true
x: 80
y: 140
idleDir:0
@copyFromSection: turret_2

[turret_6]
#mid turret1
#invisible: true
x: -85
y: 40
idleDir:240
@copyFromSection: turret_2

[turret_7]
#mid turret1
#invisible: true
x: -85
y: 75
idleDir:300
@copyFromSection: turret_2









[turret_8]
#large turret
#invisible: true
x: 20
y: -20
#idleDir:0
idleSpin: 0.3
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: orbital



shoot_sound: plasma_fire
shoot_sound_vol:0.4
shoot_flame:large
shoot_light:#00b1ff

delay: 150
warmup: 100

canOnlyAttackUnitsWithTags: orbital
chargeEffectImage: nemesis_charge.png

projectile: 3
size: 55
turnSpeed: 1.25
canOnlyAttackUnitsWithoutTags: Fighter










[turret_9]
#PD1
#invisible: true
x: -110
y: -130

idleSpin: 1

canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

image: SmallTurret.png
canOnlyAttackUnitsWithTags: orbital

shoot_sound: plasma_fire
shoot_sound_vol:0.4
shoot_flame:large
shoot_light:#00b1ff

delay: 5
warmup: 5

#canOnlyAttackUnitsWithTags: orbital

limitingRange: 750
projectile: 4
size: 15
turnSpeed: 12



[turret_10]
#PD1
#invisible: true
x: 70
y: -210

@copyFromSection: turret_9




[turret_11]
#PD1
#invisible: true
x: 85
y: -115

@copyFromSection: turret_9





[turret_12]
#PD1
#invisible: true
x: 30
y: 190

@copyFromSection: turret_9




[turret_13]
#PD1
#invisible: true
x: -90
y: 130

@copyFromSection: turret_9



[turret_14]
#PD1
#invisible: true
x: -30
y: 150

@copyFromSection: turret_9



[projectile_1]
#Mid blast

#cannot use directDamage with targetGround
directDamage: 1475
image: shot.png

life: 250
speed: 30


largeHitEffect: true

trailEffect: CUSTOM:trail
trailEffectRate:0.2

#targetGround: true
#targetGroundSpread: 100

areaDamage: 25
areaRadius: 65

#for laser defence
deflectionPower: -1


[projectile_2]
#missile
life: 600
directDamage: 200
speed: 1.5
targetSpeed: 20
trailEffect: true
frame: 4
areaDamage: 290
areaRadius: 50
autoTargetingOnDeadTarget: true



[projectile_3]
#Antiship

#cannot use directDamage with targetGround
directDamage: 10500
image: largeshot.png

life: 250
speed: 40


largeHitEffect: true

trailEffect: CUSTOM:trail2
trailEffectRate:0.2

#targetGround: true
#targetGroundSpread: 100

#for laser defence
deflectionPower: -1
explodeEffect:CUSTOM:blast


[projectile_4]
#small

#cannot use directDamage with targetGround
directDamage: 40
image: smallshot.png

life: 250
speed: 15


largeHitEffect: false



#targetGround: true
#targetGroundSpread: 100


#for laser defence
deflectionPower: -1




[effect_thrust]
image: Heat.png
priority:veryhigh
life: 60
fadeOut: true
attachedToUnit: true
fadeInTime:10
alpha: 0.5
drawUnderUnits:false
#ySpeedRelative:-0.4
atmospheric: false
yOffsetRelative: -260


[effect_Glow]
image: Glow.png
priority:veryhigh
life: 20
fadeOut: true
attachedToUnit: true
fadeInTime:10
alpha: 0.5
drawUnderUnits:false
xOffsetRelative: -11
yOffsetRelative: -300

[effect_Glow2]
image: Glow.png
priority:veryhigh
life: 20
fadeOut: true
attachedToUnit: true
fadeInTime:10
alpha: 0.5
drawUnderUnits:false
xOffsetRelative: 63
yOffsetRelative: -280

[effect_thrust2]
image: thrust.png
priority:veryhigh
life: 15
fadeOut: true
attachedToUnit: true
drawUnderUnits:true
xOffsetRelative: -11
yOffsetRelative: -300
ySpeedRelative:-6
scaleFrom: 0.7
scaleTo: 0.4

[effect_thrust3]
image: thrust.png
priority:veryhigh
life: 15
fadeOut: true
attachedToUnit: true
drawUnderUnits:true
xOffsetRelative: 63
yOffsetRelative: -280
ySpeedRelative:-5
scaleFrom: 0.7
scaleTo: 0.4



[effect_thrust4]
image: thrust.png
priority:veryhigh
life: 20
fadeOut: true
attachedToUnit: true
drawUnderUnits:true
xOffsetRelative: -55
yOffsetRelative: -230
ySpeedRelative:-2
scaleFrom: 0.5
scaleTo: 1




[effect_trail]
image: shot.png
life: 10
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1



[effect_trail2]
image: largeshot.png
life: 20
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1



[effect_blast]
priority:veryhigh

image: nemesis_charge.png


life: 50
fadeOut: true
attachedToUnit: false
#color: #fdc14d


scaleFrom: 0.5
scaleTo: 7
alpha: 0.9
drawUnderUnits:false
#hSpeed: 1



[movement]
movementType: AIR
moveSpeed: 0.75
moveAccelerationSpeed: 0.001
moveDecelerationSpeed: 0.01

landOnGround: false
targetHeight: 600

maxTurnSpeed: 0.2
turnAcceleration: 0.01

moveSlidingMode :true
moveIgnoringBody:false
moveSlidingDir:  45


slowDeathFall: false










