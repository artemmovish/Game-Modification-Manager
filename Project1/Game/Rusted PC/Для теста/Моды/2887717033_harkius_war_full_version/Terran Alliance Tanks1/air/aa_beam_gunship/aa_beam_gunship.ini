
[core]
name: Terran_aaBeamGunship

class: CustomUnitMetadata

#Keep same display text when converted
displayText: Terran AA Beam Ship
displayDescription: Anti-air particle beam.\n-Low damage against shields. \n-Cannot attack land. \n-Slow unless using afterburner.


overrideAndReplace: aaBeamGunship

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Air=-3, AA=-3, AntiArmour=-1, AntiLD=-1, Beam=-3
tags: Unit, Air2, Interceptor, AA2, Beam2, ALD



price: 5500
maxHp: 2500
mass: 20000

techLevel: 2
buildSpeed: 35s
availableInDemo: false

radius: 22
isBio: false
#softCollisionOnAll: 3
softCollisionOnAll:24

#selfRegenRate:0.1

#builtFrom_1_name: airFactory
#builtFrom_1_pos:  6
tags: Interp

energyMax: 6
energyRegen: 0.01
energyRegenWhenRecharging: 0.07
energyNeedsToRechargeToFull: true

autoTriggerCooldownTime: 0.5s



[hiddenAction_Started]
takeResources: EAir=-3, EAA=-3, EAntiArmour=-1, EAntiLD=-1, EBeam=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Air=-3, AA=-3, AntiArmour=-1, AntiLD=-1, Beam=-3
[hiddenAction_Killed]
takeResources: EAir=3, EAA=3, EAntiArmour=1, EAntiLD=1, EBeam=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Air=3, AA=3, AntiArmour=1, AntiLD=1, Beam=3
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=1500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=800)
temporarilyAddTags: Retreat




[action_timer]
autoTrigger: if not self.ammo(greaterThan=50)
isVisible: false
addResources: ammo=1
buildSpeed: 0.5s
#fireTurretXAtGround: 1
#fireTurretXAtGround_withOffset: 0,0


[hiddenAction_RUNAWAY]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=800) and self.ammo(greaterThan=50) and not self.hasUnitInTeam(withTag='Repair', greaterThan=0, withinRange=300)
resourceAmount: ammo
resourceAmount_setValue: 0
alsoQueueAction: afterBurn




[action_afterBurn]

text: Afterburn
description: Temporarily redirect weapon power to boost engine speed.\n-Greatly increases movement speed.\n-Can not attack while active.\n-Cooldown of 25 seconds

buildSpeed:0
convertTo: Terran_aaBeamGunship_afterburn
resourceAmount: energy
resourceAmount_setValue: 6
addActionCooldownTime: 25s

ai_isDisabled: true

canPlayerCancel: false
allowMultipleInQueue: false
#No confirm needed on mobile
alwaysSinglePress: true






[graphics]
total_frames: 1

image:        baseNew.png
image_wreak:  Falk ruin.png
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 1.8

maxAttackRange: 280
shootDelay: 20

[turret_1]
#laserTurret

image: NewTurret.png
#image_drawOffsetY:5
image_applyTeamColors: true


x: 0
y: 0
idleDir:0


canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
projectile: beam
size: 16

delay: 5

energyUsage: 0.5

shouldResetTurret: true

turnSpeed: 4.2
turnSpeedAcceleration: 0.3


aimOffsetSpread: 0

idleSweepAngle:20
idleSweepDelay:100
idleSweepSpeed:0.4

[projectile_beam]

#=== for the beam effect ===
life: 15

instant:true
instantReuseLast: true
instantReuseLast_alsoChangeTurretAim: true
moveWithParent: true

beamImage:      SHARED:beam3.png
beamImageEnd:   SHARED:beam1_end.png
beamImageStart: SHARED:beam1_start.png
#beamImageOffsetRate: 1.5
beamImageOffsetRate: 2

explodeEffect: NONE
explodeEffectOnShield: NONE

shieldDamageMultiplier: 0.3

sweepOffsetFromTargetRadius:0.4
#sweepOffset: x
sweepSpeed:10

#=== others ===

directDamage: 32

#color: #aa6284b8
#color: #dd99bcf2
color: #42f2f5

teamColorRatio_sourceRatio:0.8

teamColorRatio:0.5

#laserEffect: true
armourIgnoreAmount: 15



[movement]
movementType: AIR
moveSpeed: 1
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.015

targetHeightDrift: 1

#landOnGround: onlyIdle

maxTurnSpeed: 1.2
turnAcceleration: 0.04

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  50

slowDeathFall: true





