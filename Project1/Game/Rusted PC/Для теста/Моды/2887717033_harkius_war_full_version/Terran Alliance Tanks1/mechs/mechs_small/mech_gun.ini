
[core]
name: TerranmechGun
overrideAndReplace: mechGun
displayText: Gun Mech
displayDescription: Mechs are designed to fight in environments too unstable for normal vehicles. \n -Good range. \n-Targets ground only.

copyFrom: mechs_small_common.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-1, Cliff=-1, AG=-1
tags: Unit, Ground, Cliff, AG, Small


price: 1500
maxHp: 600
mass: 3000

techLevel: 1
buildSpeed: 15s
#availableInDemo: true

radius: 13
displayRadius: 11



#energyMax: 4
#energyRegen: 0.02
#energyNeedsToRechargeToFull: true


[hiddenAction_Started]
takeResources: EGround=-1, ECliff=-1, EAG=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-1, Cliff=-1, AG=-1
[hiddenAction_Killed]
takeResources: EGround=1, ECliff=1, EAG=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=1, Cliff=1, AG=1
#TotalUnit=-1

[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=550)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=500)
temporarilyAddTags: Retreat


[graphics]

image: GunBod.png


image_wreak:  NONE
#image_turret: topGun.png


image_shadow: SHADOW:GunBod.png





[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 230
shootDelay: 45

turretRotateWithBody: false

[turret_mainBody]
x: 0
y: 0
idleDir:0

#barrelX: 5
#barrelY: 16
barrelX: 0
barrelY: 18



turnSpeed: 2.9
turnSpeedAcceleration: 0.3

#canShoot: false


#note: lock_body_rotation_with_main_turret is needed for recoil to work on the body
recoilOffset: -2
recoilOutTime: 2
recoilReturnTime: 14


projectile: 1


shoot_sound:plasma_fire
shoot_sound_vol:0.07
#shoot_flame:small
shoot_light:#FFccCCEE
shoot_flame:CUSTOM:lightSlowFade

canShoot: true


#energyUsage: 1
warmup:8
#chargeEffectImage: SHARED:lighting_charge.png
chargeEffectImage: SHARED:lighting_charge.png




[effect_lightSlowFade]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: true
#color: #63e6e8
color: #FFEECCCC
scaleFrom: 0.2
scaleTo: 0.5
alpha: 0.5
drawUnderUnits:true


[projectile_1]
directDamage: 55
life: 70

frame: 11

drawSize: 0.7




#speed: 2
speed: 3
targetSpeed: 8
targetSpeedAcceleration: 1.5

effectOnCreate: CUSTOM:projectileLight




[effect_projectileLight]
priority:high

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #FFEECCCC
fadeInTime:2
scaleFrom: 0.3
scaleTo: 0.3
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false








[movement]


moveSpeed: 0.7


moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.07




