[core]
name: TerranmechMinigun
class: CustomUnitMetadata
displayText: Bison autocannon Mech
displayDescription: A mech armed with a huge autocannon. \n-Crosses rough terrain. \n-Fires faster over time. \n-The bison uses a special energy transfer system that takes a while to get going. 

copyFrom: mech_med_common.ini
overrideAndReplace: mechMinigun

borrowResourcesWhileAlive: TotalUnit=-1, Ground=-3, Cliff=-3, AG=-3, Artillery=-3, Shield=-3, AntiLD=-1, AntiArmour=-5
tags: Unit, Ground2, Cliff2, Shield2, AG2, AntiArmour2, ALD, Range2, CanLead2

price: 5000
maxHp: 500
mass: 10000

techLevel: 2
buildSpeed: 0.0006
#availableInDemo: true


fogOfWarSightRange: 20



radius: 23
#displayRadius: 11
isBio: false
softCollisionOnAll: 0


#energyMax: 3
#energyRegen: 0.010
#energyNeedsToRechargeToFull: true


builtFrom_1_name: mechFactoryT2
builtFrom_1_pos: 8

maxShield: 1200
shieldRegen: 0.3



[hiddenAction_Started]
takeResources: EGround=-3, ECliff=-3, EAG=-3, EArtillery=-3, EShield=-3, EAntiLD=-1, EAntiArmour=-5
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-3, Cliff=-3, AG=-3, Artillery=-3, Shield=-3, AntiLD=-1, AntiArmour=-5
[hiddenAction_Killed]
takeResources: EGround=3, ECliff=3, EAG=3, EArtillery=3, EShield=3, EAntiLD=1, EAntiArmour=5
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=3, Cliff=3, AG=3, Artillery=3, Shield=3, AntiLD=1, AntiArmour=5
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=450) and not self.shield(lessThan=450)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=400) or self.isControlledByAI() and self.shield(lessThan=400)
temporarilyAddTags: Retreat




[animation_attack]
onActions: attack
start: 0
end: 2
speed: 2.5
#speed: ${turret_2.warmup / 50}
#speed: ${turret_2.delay * (turret_2.warmup /300)}



[graphics]
total_frames: 3

image:        NewMinigun.png
image_wreak:  NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2


#animation_moving_start: 0
#animation_moving_end: 7
#animation_moving_speed: 6


#lock_shadow_rotation_with_main_turret: true
lock_body_rotation_with_main_turret: true



#animation_attack_start: 0
#animation_attack_end: 2
#animation_attack_speed: 1

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 265
#shootDelay: 55
shootDelay: 30
#shootDelay: 5

turretRotateWithBody: false


[turret_1]
x: 0
y: 0
idleDir:0

turnSpeed: 2.9
turnSpeedAcceleration: 0.3

canShoot: false

#recoilOffset: -2
#recoilOutTime: 5
#recoilReturnTime: 8

[turret_2]
#
x: 2
y: 27
attachedTo: 1
slave: true
invisible: true

projectile: 1

turnSpeed: 4.0
turnSpeedAcceleration: 1.0

shoot_sound:plasma_fire2
shoot_sound_vol:0.25
shoot_flame:small
shoot_light:#FFccCCEE

canShoot: true

size: 0


#energyUsage: 1

delay: 30
warmup: 300

warmupCallDownRate: 2

warmupNoReset: true
warmupShootDelayTransfer: 23



[projectile_1]
directDamage: 55
life: 140
speed: 8
targetSpeed: 12
image: Shot.png

#color: #ffff2222

drawSize: 1

lightColor: #ffee0000
lightSize: 0.5

color: #BB99DD



[leg_1]



[leg_2]



[movement]

moveSpeed: 0.5
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.17

maxTurnSpeed: 5.0
turnAcceleration: 0.5

moveSlidingMode :false
moveIgnoringBody:false


reverseSpeedPercentage:1


