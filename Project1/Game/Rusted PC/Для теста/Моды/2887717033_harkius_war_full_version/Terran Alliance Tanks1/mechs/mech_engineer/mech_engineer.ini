
[core]
name: TerranmechEngineer
class: CustomUnitMetadata
displayText: Hercules Construction Walker
displayDescription: An armored engineer. \n-Moves quickly and can travel over rough terrain. \n-Armed with SAM missiles. \n-Repairs and builds at high speeds.\n-Builds T2 factories and more defensive structures.\n-A fairly common construction machine accross human civilisation.

#overrideAndReplace: mechEngineer

copyFrom: ROOT:Builder_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-2, Cliff=-2, AA=-3
tags: Unit, Ground2, Cliff2, AA2, CanFollow, builder, NoCap

#price: 2
price: 5000

maxHp: 2000
mass: 8000
selfRegenRate:0.08
techLevel: 2
experimental: false

buildSpeed: 55s
#buildSpeed: 1

#availableInDemo: true

radius: 19
displayRadius: 19

fogOfWarSightRange:16



transportSlotsNeeded: 3

isBio: false
softCollisionOnAll: 3


#nanoFactorySpeed:2.5


builtFrom_1_name: mechFactoryT2
builtFrom_1_pos:  9
builtFrom_2_name: mechFactoryT2_r
builtFrom_2_pos:  9
builtFrom_3_name: mechFactoryT3_r
builtFrom_3_pos:  9

canRepairBuildings: true
canRepairUnits : true
autoRepair: true

nanoRepairSpeed: 0.3


canReclaimResources: true


generation_credits: 1
generation_delay: 40

nanoRange: 140
nanoBuildSpeed: 2


[hiddenAction_Started]
takeResources: Ground=-2, ECliff=-2, EAA=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-2, Cliff=-2, AA=-3
[hiddenAction_Killed]
takeResources: EGround=2, ECliff=2, EAA=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=2, Cliff=2, AA=3
#TotalUnit=-1

[canBuild_2]
name: TerranmechGun, TerranmechMissile, TerranmechBunkerDeployed, builderShip
forceNano: true
pos: 0.1
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)


[canBuild_1]
name: reclaim
pos: -1
#isLocked: false
#isLockedMessage: NONE
#isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)

[canBuild_Economy]
name: Terran_extractorT2, Terranc_fabricatorT2
pos: 1



[canBuild_Turrets]
name: TerrangunLand, TerranAA, Tc_turret_t1_lightning, TA_LaserDefence, Annihilator cannon turret, TA_repairBay, Terran_outpostT1
pos: 2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)


[canBuild_AntiOrbit]
name: CBE Tower
pos: 2
isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)


[canBuild_Buildings]
name: CF_Barracks T2, Terran_mechFactoryT2, Terran_airFactoryT2
pos: 3
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)



[canBuild_Buildings2]
name: C_TseaFactoryT2, Terran_ExperimentalFactory, TerranPort
pos: 3
tech: 2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)


[canBuild_Antinuke]
name: Terran_antiNukeLauncherC
pos: 4
isGuiBlinking: if not self.hasUnitInTeam(withTag='antinuke', greaterThan=0, withinRange=1000) and game.nukesEnabled()
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)

[canBuild_Nuke]
name: Terran_nukeLauncherC
pos:  5
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=1900)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=1500)
temporarilyAddTags: Retreat




[graphics]
imageScale: 1
total_frames: 1
teamColorsOnTurret: true

image:        NewBody.png
image_wreak:  body_dead.png
image_turret: Crane.png
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2


lock_body_rotation_with_main_turret: false

[attack]
turretRotateWithBody: true

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 4
turretTurnSpeed: 1.1
maxAttackRange: 300
shootDelay: 70
isFixedFiring: false
#turretRotateWithBody: false



[turret_nanoTurret]
x: 0
y: 0


idleDir:0
idleDirReversing:0

invisible: false
canShoot: false
turnSpeed: 3
turnSpeedAcceleration: 0.2

isMainNanoTurret: true

barrelX: 0
barrelY: 20


[turret_Missile]
image: NewTurret.png
attachedTo: nanoTurret

x: 0
y: -5

idleDirReversing:0

barrelX: 0
barrelY: 10

warmup: 5
shoot_sound:missile_fire
shoot_sound_vol:0.2
shoot_flame:small, CUSTOM:shoot
shoot_light:#FFEECCCC

turnSpeed: 3
turnSpeedAcceleration: 0.2
delay: 45





[projectile_missile]
directDamage: 120
life: 240
speed: 2
targetSpeed: 15
trailEffect: true
largeHitEffect: true
#ballistic: true
#ballistic_delaymove_height:0
#ballistic_height: 4
frame: 4
areaDamage: 50
areaRadius: 75

autoTargetingOnDeadTarget: true

trailEffectRate:0.3
trailEffect: CUSTOM:trail



[effect_trail]
image: Thrust2.png
life: 7
fadeOut: true
attachedToUnit: false
#fadeInTime:1
scaleFrom: 0.2
scaleTo: 2
alpha: 1
#drawUnderUnits:true
#ySpeedRelative:-1
color: #FFccCCEE



[effect_shoot]
image: Exhaust.png
life: 30
yOffsetRelative: -16
fadeOut: true
scaleFrom: 0.2
scaleTo: 2
alpha: 1





[leg_1]
x: -15
y: 15
attach_x: -4
attach_y: 4
moveSpeed: 2.9

rotateSpeed: 9

heightSpeed: 0.8


resetAngle:25

image_leg:  leg.png
image_foot: foot.png

#draw_foot_on_top: true
dust_effect: false

holdDisMin: 17
holdDisMax: 50

hardLimit: 65

endDirOffset:135

favourOppositeSideNeighbours: true

holdDisMin_maxMovingLegs: 2


moveWarmUp:0.5

estimatingPositionMultiplier:0.8

[leg_2]
x: 15
y: 15
attach_x: 4
attach_y: 4
copyFrom: 1

endDirOffset:225




[leg_3]
x: -15
y: -15
attach_x: -4
attach_y: -4
copyFrom: 1
endDirOffset:45

[leg_4]
x: 15
y: -15
attach_x: 4
attach_y: -4
copyFrom: 1
endDirOffset:-45

[movement]
movementType: OVER_CLIFF
moveSpeed: 0.9
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.2

maxTurnSpeed: 1.5
turnAcceleration: 1

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  180


slowDeathFall: true

reverseSpeedPercentage:0.2

[ai]
useAsBuilder: true



