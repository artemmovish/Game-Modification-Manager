
[core]
name: Terran_Granus
displayText: Grannus SuperHeavy Tank

displayDescription: The Grannus tank line represents one of the greatest feats of humanity's vehicle engineering. \n -Heavily armored and powerful. \n -Slow, can target submarines while over water- but cannot target stealth units. \n -Shielded.
copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-3, Water=-3, AG=-3, AA=-3, AS=-3, Artillery=-1, AntiArmour=-3, Shield=-3, AntiLD=-3, AntiShield=-3
tags: Unit, Ground2, Water2, AG2, AA2, AS2, AntiArmour2, Shield2, ALD2, AntiShield2


class: CustomUnitMetadata
price: 15500
maxHp: 2400
mass: 32000

techLevel: 2
experimental: false

transportSlotsNeeded: 3

generation_credits: -28
generation_delay: 40

#price: 1
#techLevel: 1
#builtFrom_2_name: commandCenter
#builtFrom_2_pos:  6

fogOfWarSightRange: 25
#tags: anti-stealth

buildSpeed: 70s
availableInDemo: false

radius: 25
#displayRadius: 25
isBio: false

#armour: 3

maxShield: 1100
shieldRegen: 0.18

energyMax: 8
energyRegen: 0.003
energyNeedsToRechargeToFull: false


builtFrom_1_name: experimentalLandFactory
builtFrom_1_pos:  2

builtFrom_2_name: landFactory
builtFrom_2_pos:  10

builtFrom_3_name: landFactoryT2_c
builtFrom_3_pos:  5
builtFrom_4_name: landFactoryT3
builtFrom_4_pos:  5

[hiddenAction_Started]
takeResources: EGround=-3, EWater=-3, EAG=-3, EAA=-3, EAS=-3, EArtillery=-1, EAntiArmour=-3, EShield=-3, EAntiLD=-3, EAntiShield=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-3, Water=-3, AG=-3, AA=-3, AS=-3, Artillery=-1, AntiArmour=-3, Shield=-3, AntiLD=-3, AntiShield=-3
[hiddenAction_Killed]
takeResources: EGround=3, EWater=3, EAG=3, EAA=3, EAS=3, EArtillery=1, EAntiArmour=3, EShield=3, EAntiLD=3, EAntiShield=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=3, Water=3, AG=3, AA=3, AS=3, Artillery=1, AntiArmour=3, Shield=3, AntiLD=3, AntiShield=3
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=2200)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=1600)
temporarilyAddTags: Retreat




[graphics]
total_frames: 1
teamColorsOnTurret: true

image:        Grannus.png
image_wreak:  ruin.png
image_turret: turret.png

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1



dustEffect: false

#scaleImagesTo: 33
#scaleTurretImagesTo: 22
#imageSmoothing: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true


turretSize: 1
turretTurnSpeed: 1

maxAttackRange: 260
turretMultiTargeting: true



[turret_1]
#Gatling
x: -18
y: -23
idleDir: 225
limitingAngle: 110

canShoot: true
turnSpeed: 2
shouldResetTurret: true
projectile: 4
limitingRange: 210
image: gatling.png

shoot_sound: ROOT:Audio/gunshot.ogg
shoot_sound_vol:1
shoot_flame:small
shoot_light:#00b1ff


warmup: 4
delay: 4

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
size: 12
aimOffsetSpread: 0

[turret_2]
#Gatling
x: 18
y: -23
idleDir: 135
limitingAngle: 110

canShoot: true
turnSpeed: 2
shouldResetTurret: true
projectile: 4
limitingRange: 210
image: gatling.png

shoot_sound: ROOT:Audio/gunshot.ogg
shoot_sound_vol:1
shoot_flame:small
shoot_light:#00b1ff


warmup: 4
delay: 4

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
size: 12
aimOffsetSpread: 0



[turret_3]
#Gatling
x: 0
y: 27
idleDir: 0
limitingAngle: 110

canShoot: true
turnSpeed: 2
shouldResetTurret: true
projectile: 4
limitingRange: 210
image: gatling.png

shoot_sound: ROOT:Audio/gunshot.ogg
shoot_sound_vol:1
shoot_flame:small
shoot_light:#00b1ff


warmup: 4
delay: 4

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
size: 12
aimOffsetSpread: 0




[turret_4]
#torpedo
invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: true
projectile: 5
size: 1
turnSpeed: 15
delay: 110
canAttackCondition: if self.overwater



[turret_5]
#cover body
x:0
y:0
canShoot: false
size: 0
turnSpeed: 99
image: Grannus.png
limitingRange: 0


[turret_6]
#electron
x: -10
y: -27

idleDir:225

canShoot: true
turnSpeed: 4
shouldResetTurret: true
projectile: 2
limitingRange: 230

chargeEffectImage: charge small.png
image: Rasputin electro.png

shoot_sound: lighting_burst
shoot_sound_vol: 0.05
shoot_flame: NONE
shoot_light:#77ccff

canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
size: 15


[turret_7]
#electron
x: 10
y: -27


idleDir:135


canShoot: true
turnSpeed: 4
shouldResetTurret: true
projectile: 2
limitingRange: 230

chargeEffectImage: charge small.png
image: Rasputin electro.png

shoot_sound: lighting_burst
shoot_sound_vol: 0.05
shoot_flame: NONE
shoot_light:#77ccff

canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
size: 15




[turret_8]
#Plasma
x: 14
y: 13


idleDir:45

canShoot: true
turnSpeed: 2
shouldResetTurret: true
projectile: 3
limitingRange: 230

chargeEffectImage: charge small.png
image: beam.png


shoot_sound: plasma_fire
shoot_sound_vol:0.15
shoot_flame:small
shoot_light:#00b1ff

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
size: 15





[turret_9]
#Plasma
x: -14
y: 13


idleDir:315


canShoot: true
turnSpeed: 2
shouldResetTurret: true
projectile: 3
limitingRange: 230

chargeEffectImage: charge small.png
image: beam.png


shoot_sound: plasma_fire
shoot_sound_vol:0.15
shoot_flame:small
shoot_light:#00b1ff

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
size: 15










[turret_10]
#right cannon
x: 5
y: 10
attachedTo: 12
slave: true
turnSpeed: 0
shouldResetTurret: true


projectile: 1
delay: 135

warmup: 0

shoot_sound: large_gun_fire2
shoot_sound_vol:0.3
shoot_flame:small
shoot_light:#FFEECCCC

#energyUsage: 1

image: cannon.png

recoilOffset: -4
recoilOutTime: 10
recoilReturnTime: 30
size: 20
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false




[turret_11]
#left cannon
x: -5
y: 10
copyFrom: 10
linkDelayWithTurret:10
warmup: 25



image: cannon.png

recoilOffset: -4
recoilOutTime: 10
recoilReturnTime: 30
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


[turret_12]
#main turret base
x: 0
y: -4
canShoot: false

shouldResetTurret: true

turnSpeed: 1.5

delay: 150
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


[projectile_1]
#cannon shot
directDamage: 125
areaDamage: 75
areaRadius: 65
life: 160
speed: 12


largeHitEffect: true

image: lev cannon.png

drawSize: 1
trailEffect: CUSTOM:projectileTrail
trailEffectRate:2
explodeEffect: CUSTOM:projectilePassThough, smallExplosion, CUSTOM:hitLightFlash, CUSTOM:sparks*45

explodeEffectOnShield: CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectileLight
deflectionPower: 1





[effect_sparks]
attachedToUnit: false
life: 150
physics: true
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6
hSpeed: 2
image: SHARED:spark.png
priority: verylow


[effect_warmup]
priority:high
image: SHARED:light_50.png
life: 25
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.1
scaleTo: 0.1
alpha: 0.8
drawUnderUnits:false
ySpeedRelative:2

[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.7
scaleTo: 0.9
alpha: 0.3
drawUnderUnits:true


[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.4
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #63e6e8
fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.6
alpha: 0.4
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false

[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 20
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false
ySpeedRelative:1.5
atmospheric: true






[projectile_2]
#electron beam
directDamage: 80
speed: 20
life: 40
lightingEffect: true
instant: true
deflectionPower: -1

shieldDamageMultiplier: 2
shieldDefectionMultiplier: 0.1

buildingDamageMultiplier: 0.3



[projectile_3]
#flame thrower
directDamage: 35
life: 100
speed: 15
largeHitEffect: false
trailEffect: true
frame: 11
lightColor: #cccc00
lightSize: 1






[projectile_4]
#directDamage: 20
life: 2
speed: 15

targetGround: true
targetGroundSpread: 45



#largeHitEffect: true
areaDamage: 20
areaRadius: 5
areaDamageNoFalloff: true
areaRadiusFromEdge: true





shieldDamageMultiplier: 0.2
shieldDefectionMultiplier: 1

buildingDamageMultiplier: 0.3
deflectionPower:0.6


image: bullet.png

trailEffect: CUSTOM:projectileTrail
trailEffectRate:0.1
armourIgnoreAmount: 5
explodeEffect: NONE

explodeOnEndOfLife: true
spawnProjectilesOnExplode:Bullet(yOffsetRelative=15,offsetRandomDir=0,recursionLimit=1)


[projectile_Bullet]
directDamage: 20
life: 40
speed: 15

@copyFromSection: projectile_4

targetGround: false
targetGroundSpread: IGNORE

areaDamage: 0
areaRadius: 0

turnSpeed:0.5

areaRadiusFromEdge: true
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 75
retargetingInFlightSearchLead:0


explodeOnEndOfLife: false
spawnProjectilesOnExplode: IGNORE

explodeEffect: CUSTOM:Spark, CUSTOM:BulletLight
mutatorX_ifUnitWithTags: Armour2, Armour3, Building
mutatorX_changedExplodeEffect: CUSTOM:Deflect, CUSTOM:BulletLight, CUSTOM:Spark
explodeEffectOnShield: CUSTOM:Deflect, CUSTOM:BulletLight








[projectile_5]
#torpedo
directDamage: 220
life: 250
speed: 0.15
targetSpeed: 4
largeHitEffect: true
drawSize: 1
color: #1E1E96
trailEffect: true
largeHitEffect: true

deflectionPower: -1



[effect_projectileTrail]
image: bullet.png
life: 10
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1





[effect_Deflect]
priority:veryhigh
image: bullet.png
life: 20
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0
alpha: 0.8
drawUnderUnits:false
ySpeedRelative:-10
ySpeedRelativeRandom: 5
xSpeedRelativeRandom: 5
physics: true
#dirOffsetRandom: 180
dirSpeedRandom: 10
hSpeed: 2



[effect_Spark]
priority:veryhigh
image: Sparks.png
life: 30

total_frames: 4
animateFrameStart: 0
animateFrameEnd: 3
animateFrameSpeed: 0.25

fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 1
alpha: 0.8
drawUnderUnits:false



[effect_BulletLight]
image: SHARED:light_50.png
life: 15
fadeOut: true
attachedToUnit: true
color: #63e6e8
#fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.8
alpha: 1
drawUnderUnits:false
liveAfterAttachedDies: false




[movement]
movementType: HOVER
moveSpeed: 1.2
moveAccelerationSpeed: 0.012
moveDecelerationSpeed: 0.02


targetHeight: 6

reverseSpeedPercentage:0.95

maxTurnSpeed: 1.2
turnAcceleration: 0.02

moveSlidingMode :true
moveIgnoringBody:true



[ai]
ai_upgradePriority: 0.04


