
[core]
name: hailerTank

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-1, AG=-1, AA=-1, AntiLD=-9
tags: Unit, Ground, AG, AA, ALD3

displayText: Hail Tank
displayDescription: A fast, storm-type assault tank of terran origin. \n Fires a barrage of inaccurate, solid rounds at land and air.\n-Limited ammo before reload. \n-Reduced damage against shields and buildings.


class: CustomUnitMetadata
price: 1600
maxHp: 600
mass: 12000

techLevel: 2


#price: 1
#techLevel: 1
#builtFrom_2_name: commandCenter
#builtFrom_2_pos:  6

fogOfWarSightRange: 20



buildSpeed: 0.0008
availableInDemo: false

radius: 17
#displayRadius: 13
isBio: false

energyMax: 60
energyRegen: 0.1
energyNeedsToRechargeToFull: true

builtFrom_1_name: landFactory
builtFrom_1_pos:  5
builtFrom_2_name: landFactoryT2_c
builtFrom_2_pos:  5
builtFrom_3_name: landFactoryT3
builtFrom_3_pos:  5



#builtFrom_1_techLevel: 2


[hiddenAction_Started]
takeResources: EGround=-1, EAG=-1, EAA=-1, EAntiLD=-9
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-1, AG=-1, AA=-1, AntiLD=-9
[hiddenAction_Killed]
takeResources: EGround=1, EAG=1, EAA=1, EAntiLD=9
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=1, AG=1, AA=1, AntiLD=9
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=450)
temporarilyAddTags: Retreat








[graphics]
total_frames: 1

image:        hailer_tank.png
image_wreak:  hailer_tank_wreck.png
image_turret: hailer_gun_tur.png

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1


animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 0

dustEffect: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

#aimOffsetSpread:4.5
aimOffsetSpread:0
turretSize: 6
turretTurnSpeed: 6.5

maxAttackRange: 220

shootDelay: 3


[turret_1]
#main turret
x: 0
y: -2
#canShoot: false

shouldResetTurret: false

#interceptProjectiles_andOverHeight: 6
#interceptProjectiles_andUnderDistance

idleSpin: 1.5
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

recoilOffset: -1.1
recoilOutTime: 2
recoilReturnTime: 5



barrelX: -6
barrelOffsetX_onOddShots: 12


canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
projectile: 1
#delay: 3

warmup: 0

shoot_sound: large_gun_fire2
shoot_sound_vol:0.2
shoot_flame:small
shoot_light:#FFEECCCC

energyUsage: 1
aimOffsetSpread: 0










[projectile_1]
#directDamage: 20
life: 2
speed: 15

targetGround: true
targetGroundSpread: 45



#largeHitEffect: true
areaDamage: 20
areaRadius: 5
areaDamageNoFalloff: true
areaRadiusFromEdge: true





shieldDamageMultiplier: 0.2
shieldDefectionMultiplier: 1

buildingDamageMultiplier: 0.3
deflectionPower:0.6


image: bullet.png

trailEffect: CUSTOM:projectileTrail
trailEffectRate:0.1
armourIgnoreAmount: 5
explodeEffect: NONE

explodeOnEndOfLife: true
spawnProjectilesOnExplode:Bullet(yOffsetRelative=15,offsetRandomDir=0,recursionLimit=1)


[projectile_Bullet]
directDamage: 20
life: 40
speed: 15

@copyFromSection: projectile_1

targetGround: false
targetGroundSpread: IGNORE

areaDamage: 0
areaRadius: 0

turnSpeed:0.5

areaRadiusFromEdge: true
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 75
retargetingInFlightSearchLead:0


explodeOnEndOfLife: false
spawnProjectilesOnExplode: IGNORE

explodeEffect: CUSTOM:Spark, CUSTOM:BulletLight
mutatorX_ifUnitWithTags: Armour2, Armour3, Building
mutatorX_changedExplodeEffect: CUSTOM:Deflect, CUSTOM:BulletLight, CUSTOM:Spark
explodeEffectOnShield: CUSTOM:Deflect, CUSTOM:BulletLight







[effect_projectileTrail]
image: bullet.png
life: 10
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1


[effect_Deflect]
priority:veryhigh
image: bullet.png
life: 20
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0
alpha: 0.8
drawUnderUnits:false
ySpeedRelative:-10
ySpeedRelativeRandom: 5
xSpeedRelativeRandom: 5
physics: true
#dirOffsetRandom: 180
dirSpeedRandom: 10
hSpeed: 2



[effect_Spark]
priority:veryhigh
image: Sparks.png
life: 30

total_frames: 4
animateFrameStart: 0
animateFrameEnd: 3
animateFrameSpeed: 0.25

fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 1
alpha: 0.8
drawUnderUnits:false



[effect_BulletLight]
image: SHARED:light_50.png
life: 15
fadeOut: true
attachedToUnit: true
color: #63e6e8
#fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.8
alpha: 1
drawUnderUnits:false
liveAfterAttachedDies: false


[movement]
movementType: LAND
moveSpeed: 1.7
moveAccelerationSpeed: 0.5
moveDecelerationSpeed: 0.25

reverseSpeedPercentage:0.7

maxTurnSpeed: 2.5
turnAcceleration: 0.8

moveSlidingMode :false
moveIgnoringBody:false





