[core]
name: RasputinHeavyTank
displayText: Rasputin SuperHeavy Tank

displayDescription: Russian tank design commonly called upon for heavy duty warfare. \n - Flame Thrower for ground clearance. Electron Beam for anti-air. \n -Long range cannon and powerful anti-ground weapons. \n-Light anti-air attack. \n -Slow, but shielded.\n-Can overdrive systems to become extremely powerful while at high health.
copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-6, AG=-5, AA=-1, Artillery=-3, AntiArmour=-9, AntiLD=-3, Shield=-3, Armour=-1, AntiShield=-1
tags: Unit, Ground2, AG2, AA, Range2, AntiArmour3, ALD2, Shield2, Armour, CanLead2, AntiShield

class: CustomUnitMetadata
price: 12000
maxHp: 3000
mass: 35000

techLevel: 2
experimental: false

transportSlotsNeeded: 3

generation_credits: -18
generation_delay: 40

#price: 1
#techLevel: 1
#builtFrom_2_name: commandCenter
#builtFrom_2_pos:  6

fogOfWarSightRange: 25




buildSpeed: 70s
availableInDemo: false

radius: 25
#displayRadius: 25
isBio: false

armour: 8

maxShield: 1000
shieldRegen: 0.14

energyMax: 8
energyRegen: 0.0035
energyNeedsToRechargeToFull: false


builtFrom_1_name: experimentalLandFactory
builtFrom_1_pos:  2

builtFrom_2_name: landFactory
builtFrom_2_pos:  10

builtFrom_3_name: landFactoryT2_c
builtFrom_3_pos:  5
builtFrom_4_name: landFactoryT3
builtFrom_4_pos:  5


[hiddenAction_Started]
takeResources: EGround=-6, EAG=-5, EAA=-1, EArtillery=-3, EAntiArmour=-9, EAntiLD=-3, EShield=-3, EArmour=-1, EAntiShield=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-6, AG=-5, AA=-1, Artillery=-3, AntiArmour=-9, AntiLD=-3, Shield=-3, Armour=-1, AntiShield=-1
[hiddenAction_Killed]
takeResources: EGround=6, EAG=5, EAA=1, EArtillery=3, EAntiArmour=9, EAntiLD=3, EShield=3, EArmour=1, EAntiShield=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=6, AG=5, AA=1, Artillery=3, AntiArmour=9, AntiLD=3, Shield=3, Armour=1, AntiShield=1
#TotalUnit=-1


[action_Turbo]
convertTo: RHT_T
displayType: action
text: Turbo
description: -Overdrive.\n-Severely damages the tank. \n-Improves shield regen, reload speed and movement speed.\n-Must have at least 2000 health. 
buildSpeed: 0.1s

autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Unit', withinRange=800, greaterThan=7) and self.hp(greaterThan=2000) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Unit', withinRange=400, greaterThan=0) and self.shield(lessThan=100) and self.energy(lessThan=1) and self.hp(greaterThan=2000)
isLocked: if self.isControlledByAI() or self.hp(lessThan=2000)
descriptionAddUnitStats: ${section.convertTo}


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=2700)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=1700)
temporarilyAddTags: Retreat





[graphics]
total_frames: 2
teamColorsOnTurret: true

image:        body.png
image_wreak:  ruin.png
image_turret: turret.png

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1


animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 2

dustEffect: true

#scaleImagesTo: 33
#scaleTurretImagesTo: 22
#imageSmoothing: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


turretSize: 1
turretTurnSpeed: 1

maxAttackRange: 320
turretMultiTargeting: true



[turret_1]
#Gatling
x: -24
y: -8
idleDir: 270
limitingAngle: 90

canShoot: true
turnSpeed: 2
shouldResetTurret: true
projectile: 4
limitingRange: 265
image: gatling.png

shoot_sound: ROOT:Audio/gunshot.ogg
shoot_sound_vol:1
shoot_flame:small
shoot_light:#00b1ff


warmup: 3
delay: 3

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
size: 12
aimOffsetSpread: 0


[turret_2]
#Gatling
x: 24
y: -8
idleDir: 90
limitingAngle: 90

canShoot: true
turnSpeed: 2
shouldResetTurret: true
projectile: 4
limitingRange: 265
image: gatling.png

shoot_sound: ROOT:Audio/gunshot.ogg
shoot_sound_vol:1
shoot_flame:small
shoot_light:#00b1ff


warmup: 3
delay: 3

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
size: 12
aimOffsetSpread: 0


[turret_3]
#cover body
x:0
y:0
canShoot: false
size: 0
turnSpeed: 0
image: gatlingCover.png


[turret_4]
#flamer
x: 12
y: 20
canShoot: true
turnSpeed: 3.5
shouldResetTurret: true
projectile: 3
limitingRange: 200
image: Rasputin flamer.png

warmup: 1
delay: 2

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
size: 10

[turret_5]
#right cannon
x: 6
y: 10
attachedTo: 7
slave: true
turnSpeed: 0
shouldResetTurret: true

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


projectile: 1
delay: 170

warmup: 0

shoot_sound: large_gun_fire2
shoot_sound_vol:0.5
shoot_flame:small
shoot_light:#FFEECCCC

energyUsage: 1

image: cannon.png

recoilOffset: -4
recoilOutTime: 10
recoilReturnTime: 30
size: 23


[turret_6]
#left cannon
x: -6
y: 10
copyFrom: 5
linkDelayWithTurret:5
warmup: 50

energyUsage: 1

image: cannon.png

recoilOffset: -4
recoilOutTime: 10
recoilReturnTime: 30


[turret_7]
#main turret base
x: 0
y: -2
canShoot: false

shouldResetTurret: true

turnSpeed: 1

delay: 120
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false




[turret_8]
#electron
x: -5
y: 2
attachedTo: 7
slave: false
canShoot: true
turnSpeed: 3.5
shouldResetTurret: true
projectile: 2
limitingRange: 275

chargeEffectImage: charge small.png
image: Rasputin electro.png

shoot_sound: lighting_burst
shoot_sound_vol: 0.05
shoot_flame: NONE
shoot_light:#77ccff

canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
size: 15



[projectile_1]
directDamage: 310
life: 100
speed: 30

#laserEffect: true

beamImage:      Beam.png
beamImageEnd:   BeamEnd.png
beamImageStart: BeamStart.png
#beamImageOffsetRate: 1.5
beamImageOffsetRate: 5

#color: #00b1ff
lightColor: #00b1ff
lightSize: 0.1
instant:false

largeHitEffect: true
areaDamage: 60
areaRadius: 80

#color: #BB99DD
deflectionPower: 5



[projectile_2]
#electron beam
directDamage: 100
speed: 20
life: 40
lightingEffect: true
instant: true
deflectionPower: -1

shieldDamageMultiplier: 2
shieldDefectionMultiplier: 0.1

buildingDamageMultiplier: 0.3



[projectile_3]
#flame thrower

life: 150
speed: 9
#speedSpread: 2

frame: 3
drawSize: 1.3

flameWeapon: true
hitSound: false
instantReuseLast: false

targetGround:true
targetGroundSpread: 25

deflectionPower: -1
invisible: true

areaDamage: 9
areaRadius: 60
effectOnCreate: CUSTOM:trail








[projectile_4]
#directDamage: 20
life: 2
speed: 15

targetGround: true
targetGroundSpread: 45



#largeHitEffect: true
areaDamage: 20
areaRadius: 5
areaDamageNoFalloff: true
areaRadiusFromEdge: true





shieldDamageMultiplier: 0.2
shieldDefectionMultiplier: 1

buildingDamageMultiplier: 0.3
deflectionPower:0.6


image: bullet.png

trailEffect: CUSTOM:projectileTrail
trailEffectRate:0.1
armourIgnoreAmount: 5
explodeEffect: NONE

explodeOnEndOfLife: true
spawnProjectilesOnExplode:Bullet(yOffsetRelative=15,offsetRandomDir=0,recursionLimit=1)


[projectile_Bullet]
directDamage: 20
life: 40
speed: 15

@copyFromSection: projectile_4

targetGround: false
targetGroundSpread: IGNORE

areaDamage: 0
areaRadius: 0

turnSpeed:0.5

areaRadiusFromEdge: true
retargetingInFlight: true
retargetingInFlightSearchDelay: 0
retargetingInFlightSearchRange: 75
retargetingInFlightSearchLead:0


explodeOnEndOfLife: false
spawnProjectilesOnExplode: IGNORE

explodeEffect: CUSTOM:Spark, CUSTOM:BulletLight
mutatorX_ifUnitWithTags: Armour2, Armour3, Building
mutatorX_changedExplodeEffect: CUSTOM:Deflect, CUSTOM:BulletLight, CUSTOM:Spark
explodeEffectOnShield: CUSTOM:Deflect, CUSTOM:BulletLight









[effect_projectileTrail]
image: bullet.png
life: 10
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1



[effect_trail]
image: Thrust2.png
life: 12
fadeOut: true
attachedToUnit: false
#fadeInTime:1
scaleFrom: 0.2
scaleTo: 5
alpha: 1
#drawUnderUnits:true
#ySpeedRelative:-1
color: #FFccCCEE
dirOffset:180



[effect_Deflect]
priority:veryhigh
image: bullet.png
life: 20
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0
alpha: 0.8
drawUnderUnits:false
ySpeedRelative:-10
ySpeedRelativeRandom: 5
xSpeedRelativeRandom: 5
physics: true
#dirOffsetRandom: 180
dirSpeedRandom: 10
hSpeed: 2



[effect_Spark]
priority:veryhigh
image: Sparks.png
life: 30

total_frames: 4
animateFrameStart: 0
animateFrameEnd: 3
animateFrameSpeed: 0.25

fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 1
alpha: 0.8
drawUnderUnits:false



[effect_BulletLight]
image: SHARED:light_50.png
life: 15
fadeOut: true
attachedToUnit: true
color: #63e6e8
#fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.8
alpha: 1
drawUnderUnits:false
liveAfterAttachedDies: false





[movement]
movementType: LAND
moveSpeed: 0.8
moveAccelerationSpeed: 0.025
moveDecelerationSpeed: 0.035

reverseSpeedPercentage:0.9

maxTurnSpeed: 1.1
turnAcceleration: 0.08

moveSlidingMode :false
moveIgnoringBody:false



[ai]
ai_upgradePriority: 0.04


