
[core]


name: Tc_artillery
displayText: Tonner Light Artillery
displayDescription: Light artillery tank. \n-Attacks are longer range than other tanks. \n-Not cost effective in direct combat.\n-Hidden from some titan weapons. \n-The french M728 Tonner Artillery vehicle.

#displayLocaleKey: artillery
overrideAndReplace: artillery, c_artillery

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-1, AG=-1, Artillery=-1, AntiArmour=-1
tags: Unit, Ground, AG, Range, Small, AntiArmour



class: CustomUnitMetadata
price: 900
maxHp: 200
mass: 14000

techLevel: 1
buildSpeed: 8s
#availableInDemo: true

radius: 18
displayRadius: 18

isBio: false

builtFrom_1_name: landFactory
builtFrom_1_pos:  5
#builtFrom_1_techLevel: 2
builtFrom_2_name: landFactoryT2_c
builtFrom_2_pos:  5
builtFrom_3_name: landFactoryT3
builtFrom_3_pos:  5


[hiddenAction_Started]
takeResources: EGround=-1, EAG=-1, EArtillery=-1, EAntiArmour=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-1, AG=-1, Artillery=-1, AntiArmour=-1
[hiddenAction_Killed]
takeResources: EGround=1, EAG=1, EArtillery=1, EAntiArmour=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=1, AG=1, Artillery=1, AntiArmour=1
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=195) and self.NumberOfUnitsInTeam(withTag='Retreat', lessThan=2, withinRange=300) or self.isControlledByAI() and self.hp(greaterThan=195) and self.NumberOfUnitsInTeam(withTag='Repair', greaterThan=0, withinRange=250)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=190) or self.isControlledByAI() and self.NumberOfUnitsInTeam(withTag='Retreat', greaterThan=2, withinRange=100)
temporarilyAddTags: Retreat



[graphics]
total_frames: 1

image:        NewBod.png
image_wreak:  artillery_dead.png
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3


#animation_moving_start: 0
#animation_moving_end: 2
#animation_moving_speed: 1


dustEffect: true

lock_body_rotation_with_main_turret: true









[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 4

isFixedFiring: true

maxAttackRange: 340
shootDelay: 180

[turret_1]
#
x: 0
y: 0

projectile: 1

turnSpeedAcceleration: 1.0

shoot_sound:cannon_firing
shoot_sound_vol:0.3
shoot_flame:small
shoot_light:#FFEEEEEE

canShoot: true


recoilOffset: -2
recoilOutTime: 9
recoilReturnTime: 18

[projectile_1]
directDamage: 1
life: 150
speed: 4

frame: 2
color: #bebe50

drawSize: 0.9

areaDamage: 100
areaRadius: 45

largeHitEffect: true
targetGround: true

lightColor: #ffe92b
lightSize: 0.4

initialUnguidedSpeedHeight: 1.2
gravity:0.18
lightCastOnGround: true

image: charge small.png
trailEffect: CUSTOM:projectileTrail
trailEffectRate:0.5
targetSpeed:5.5



[effect_projectileTrail]
image: charge small.png
life: 10
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1






[movement]
movementType: LAND
moveSpeed: 1.5
moveAccelerationSpeed: 0.05
moveDecelerationSpeed: 0.12

maxTurnSpeed: 2.5
turnAcceleration: 0.05

moveSlidingMode :false
moveIgnoringBody:false





