
[core]
name: TA_Builder
class: CustomUnitMetadata
price: 600
maxHp: 200

mass: 900

copyFrom: ROOT:Builder_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-1, AG=-1, AA=-1
tags: Unit, Ground, builder, NoCap, AA, AG, Small

#maxShield: 100
#shieldRegen: 0.1


displayText: Construction Drone
displayDescription: -Standard builder.\n-Can repair buildings. \n-Armed with a slow firing, long range gun.

techLevel: 2
buildSpeed: 6s
availableInDemo: false

radius: 20
displayRadius: 25

isBio: false



#builtFrom_1_name: airFactory
#builtFrom_1_pos:  1
#builtFrom_2_name: airFactoryT2_c
#builtFrom_2_pos:  1
#builtFrom_3_name: airFactoryT3
#builtFrom_3_pos:  1


canRepairBuildings: true
canRepairUnits : false

nanoRange: 140
nanoBuildSpeed: 1
nanoRepairSpeed: 0.1




[hiddenAction_Started]
takeResources: EGround=-1, EAG=-1, EAA=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-1, AG=-1, AA=-1
[hiddenAction_Killed]
takeResources: EGround=1, EAG=1, EAA=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=1, AG=1, AA=1
#TotalUnit=-1




[canBuild_1]
name: reclaim
pos: -1
#isLocked: false
#isLockedMessage: NONE
#isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)

[canBuild_Economy]
name: Terran_extractorT1, Terranc_fabricatorT1
pos: 1



[canBuild_Turrets]
name: TerrangunLand, TerranAA, Annihilator cannon turret, TA_repairBay
pos: 2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)



[canBuild_Buildings]
name: CF_Barracks, Terran_landFactory, Terran_mechFactory, Terran_airFactory, C_TseaFactory, Terran_ExperimentalFactory, TerranPort
pos: 3
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)


[canBuild_Antinuke]
name: Terran_antiNukeLauncherC
pos: 4
isGuiBlinking: if not self.hasUnitInTeam(withTag='antinuke', greaterThan=0, withinRange=1000) and game.nukesEnabled()
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)


[canBuild_AntiOrbit]
name: CBE Tower
pos: 2
isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=180)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=150)
temporarilyAddTags: Retreat


[graphics]


total_frames: 3
image: builder.png

image_wreak:  AirDead.png

image_turret: NONE

#scaleImagesTo: 20

#scaleTurretImagesTo: 9


#AUTO
image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

animation_moving_start: 0
animation_moving_end: 2
animation_moving_speed: 2




[attack]


canAttack: true

canAttackFlyingUnits: true

canAttackLandUnits:   true

canAttackUnderwaterUnits: false



isFixedFiring: true


turretSize: 1

turretTurnSpeed: 3


maxAttackRange: 300

shootDelay: 50





[turret_1]

#nano turret (nano must be slot 1)

x: 5

y: 10

invisible: true
warmup:30



canShoot: false

canAttackFlyingUnits: false

canAttackLandUnits:   false

canAttackUnderwaterUnits: false





[turret_Gun]
#missile turret
x: -5
y: 5
idleDir:0
turnSpeed: 0
canAttackMaxAngle: 181

invisible: false

shoot_sound:missile_fire
shoot_sound_vol:0.4
shoot_light:#FFEECCCC

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
projectile: 1
size: 4

shoot_flame:shockwave
chargeEffectImage: SHARED:light_50.png
delay: 12s
warmup: 1s

recoilOffset: -6
recoilOutTime: 7
recoilReturnTime: 30




[projectile_1]
#missile
life: 70
directDamage: 320
speed: 0
targetSpeed: 7
targetSpeedAcceleration: 0.1

trailEffect: true
drawType:2
frame:4
drawSize: 1
trailEffect: CUSTOM:projectileTrail
trailEffectRate:2
explodeEffect: CUSTOM:projectilePassThough, smallExplosion, CUSTOM:hitLightFlash
effectOnCreate: CUSTOM:projectileLight

autoTargetingOnDeadTarget: false


turnSpeed:0.5

deflectionPower: 1
spawnProjectilesOnEndOfLife: 2




[projectile_2]
@copyFromSection: projectile_1
life: 350

speed: 7
targetSpeed: 10
targetSpeedAcceleration: 0.15

turnSpeed:7
spawnProjectilesOnEndOfLife: NONE




[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #63e6e8
fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false

[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 20
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false
ySpeedRelative:2
atmospheric: true












[movement]

movementType: LAND

moveSpeed: 0.85

moveAccelerationSpeed: 0.04

moveDecelerationSpeed: 0.2


targetHeight: 1


maxTurnSpeed: 1.5

turnAcceleration: 0.1


moveSlidingMode :true

moveIgnoringBody:false

moveSlidingDir:  181




[ai]
useAsBuilder: true



