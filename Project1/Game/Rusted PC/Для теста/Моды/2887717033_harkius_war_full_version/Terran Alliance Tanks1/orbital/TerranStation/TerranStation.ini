
[core]
name: Orbital Maintinance Station
displayText: Orbital Construction Station
displayDescription: Space station with anti-orbit defences. \n -Barely mobile. Defended from orbital targets. \n -Produces orbital units. \n-Can assist in repairing ground units and buildings.
class: CustomUnitMetadata
price: 75000
maxHp: 10000
mass: 20000
transportSlotsNeeded: 999

copyFrom: ROOT:Builder_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Orbit=-3, AO=-3
tags: orbital, anti-orbital, Station, AO3, Factoy, builder, Orbit2



generation_credits: 15
generation_delay: 40

techLevel: 2
experimental: false

buildSpeed: 0.0002
#availableInDemo: true


fogOfWarSightRange: 80


radius: 60
#displayRadius: 11
isBio: false
softCollisionOnAll: 3

canOnlyBeAttackedByUnitsWithTags: orbital, anti-orbital

disableAllUnitCollisions: true

maxTransportingUnits: 0



selfRegenRate: 2
maxShield: 15000
shieldRegen: 1

isBuilder: true

canRepairBuildings: true
canRepairUnits : true

#exit_heightOffset : 600

canReclaimResources: false


autoRepair: true


nanoRange: 300


nanoRepairSpeed: 1
nanoBuildSpeed: 0.5
nanoFactorySpeed: 1.5

#canBuild_1_name: setRally
#canBuild_1_pos:  0.1

canBuild_2_name: TA_AirBuilder, Falk strike fighter_High, Phoenix Orbital Fighter
canBuild_2_pos: 1

canBuild_3_name: StagBettle Orbital Bomber, OTG ion cannon
canBuild_3_pos: 2


canBuild_4_name: Orbital Maintinance Station, Terran_BakerCraft, TerranDreadnoughtSetup
canBuild_4_pos: 3



[hiddenAction_Started]
takeResources: EOrbit=-6, EAO=-9
[hiddenAction_Started_UpdateAlly]
takeResources: Orbit=-3, AO=-4
[hiddenAction_Killed]
takeResources: EOrbit=6, EAO=9
[hiddenAction_Killed_UpdateAlly]
takeResources: Orbit=3, AO=4
#TotalUnit=-1




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=9900) and not numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=800)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=9000) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=600)
temporarilyAddTags: Retreat





[hiddenAction_builder4]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=700000) and not self.hasFlag(id=1)
alsoQueueAction: builder5
addResources: setFlag=1, credits=-385000

[hiddenAction_builder5]
buildSpeed: 200s
#addResources: credits=-385000
alsoQueueAction: builder6
spawnUnits: TerranDreadnoughtSetup
whenBuilding_playAnimation: Setup


[hiddenAction_builder6]
buildSpeed: 0.1s
addResources: unsetFlag=1



[animation_Setup]
onActions: queuedUnits
blendIn: 0s
arm1_.5s: {x:0, y:17}
arm2_.5s: {x:0, y:-17}
arm1_.1s: {x:0, y:20}
arm2_.1s: {x:0, y:-20}

arm1_1.5s: {x:0, y:30}
arm2_1.5s: {x:0, y:-30}


arm1_3s: {x:0, y:35}
arm2_3s: {x:0, y:-35}




[graphics]
total_frames: 1

image:        body.png
image_wreak:  NONE
image_turret: turret.png
icon_zoomed_out: mapOrbit.png


image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

movementEffect: CUSTOM:thrust
movementEffectRate: 2


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
#attackMovement: bomber
maxAttackRange: 725

turretMultiTargeting: true
aimOffsetSpread: 0.6
canOnlyAttackUnitsWithTags: orbital



[turret_nanoTurret]
x: 0
y: 0
warmup: 30
turnSpeed: 20
invisible: true
canShoot: true

isMainNanoTurret: true
canOnlyAttackUnitsWithTags: orbital

[turret_1]
#bomber
#invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: orbital



shoot_sound: plasma_fire
shoot_sound_vol:0.4
shoot_flame:large
shoot_light:#00b1ff

delay: 15
warmup: 70

canOnlyAttackUnitsWithTags: orbital
chargeEffectImage: charge small.png

projectile: 1
size: 30
turnSpeed: 0.8




[turret_2]
#PD1
#invisible: true
x: 30
y: 0

idleSpin: 1

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

image: small turret.png
canOnlyAttackUnitsWithTags: orbital

shoot_sound: plasma_fire
shoot_sound_vol:0.4
shoot_flame:large
shoot_light:#00b1ff

delay: 1
warmup: 1

#canOnlyAttackUnitsWithTags: orbital

limitingRange: 650
projectile: 2
size: 15
turnSpeed: 5



[turret_3]
#PD1
#invisible: true
x: -30
y: 0

idleSpin: 1

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

image: small turret.png
canOnlyAttackUnitsWithTags: orbital

shoot_sound: plasma_fire
shoot_sound_vol:0.4
shoot_flame:large
shoot_light:#00b1ff

delay: 1
warmup: 1

#canOnlyAttackUnitsWithTags: orbital

limitingRange: 650
projectile: 2
size: 15
turnSpeed: 5



[projectile_1]
#bomb

#cannot use directDamage with targetGround
directDamage: 1300
image: largeshot.png

life: 250
speed: 25


largeHitEffect: true

trailEffect: CUSTOM:trail
trailEffectRate:0.2

#targetGround: true
#targetGroundSpread: 100

areaDamage: 100
areaRadius: 80

#for laser defence
deflectionPower: -1
armourIgnoreAmount: 500


[projectile_2]
#bomb
directDamage: 22
largeHitEffect: true

life: 90
speed: 15

frame: 11

lightColor: #FFccCCEE
lightSize: 0.4
deflectionPower: -1

[effect_thrust]
image: thrust.png
life: 15
fadeOut: true
attachedToUnit: false
fadeInTime:2
drawUnderUnits:true
#ySpeedRelative:-0.4
atmospheric: true


[effect_trail]
image: largeshot.png
life: 10
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1



[arm_1]
x:0
y:14
image_end:beamsHigh.png
image_end_shadow: SHADOW:beamsHigh.png

drawOverBody:false


[arm_2]
x:0
y:-14
image_end:beamsLow.png
image_end_shadow: SHADOW:beamsLow.png

drawOverBody:false




[movement]
movementType: AIR
moveSpeed: 0.2
moveAccelerationSpeed: 0.001
moveDecelerationSpeed: 0.001

landOnGround: false
targetHeight: 600

maxTurnSpeed: 0.1
turnAcceleration: 0.005

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  45


slowDeathFall: true


[ai]
useAsBuilder: true






[ai]

buildPriority: 0.8


