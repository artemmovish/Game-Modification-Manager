
[core]
name: StagBettle Orbital Bomber
displayText: StagBeetle OTG Gunship
displayDescription:  The StagBeetle model of Orbit-To-Ground heavy gunships. \n -Lacks agility. \n -Attacks at long range. Slow fire rate. \n-Useful for harassing stations from a distance.
class: CustomUnitMetadata
price: 16000
maxHp: 4000
mass: 20000
transportSlotsNeeded: 999
copyFrom: ROOT:Orbital_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Orbit=-3, AO=-1, AA=-3, AG=-3
tags: orbital, anti-orbital, AO, AntiOT, AG2, AA2, Obomb, Orbit2, CanFollow

techLevel: 2
experimental: false

buildSpeed: 0.0004
#availableInDemo: true

radius: 25
#displayRadius: 11
isBio: false
softCollisionOnAll: 3

canOnlyBeAttackedByUnitsWithTags: orbital, anti-orbital

disableAllUnitCollisions: true

fogOfWarSightRange: 35

maxShield: 2500
shieldRegen: 0.8


armour: 400
armourMinDamageToKeep: 20


[hiddenAction_Started]
takeResources: EOrbit=-3, EAO=-1, EAA=-3, EAG=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Orbit=-3, AO=-1, AA=-3, AG=-3
[hiddenAction_Killed]
takeResources: EOrbit=3, EAO=1, EAA=3, EAG=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Orbit=3, AO=1, AA=3, AG=3
#TotalUnit=-1

[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=3900) and not numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=800)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=3500) or numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=500)
temporarilyAddTags: Retreat



[animation_move]
onActions: move
start: 0
end: 3
speed: 3

[animation_attack]
onActions: attack
start: 0
end: 3
speed: 3


[animation_idle]
onActions: idle
start: 0
end: 3
speed: 4



[graphics]
total_frames: 4

teamColorsOnTurret: true
image:        body.png
image_wreak:  wreakage.png
image_turret: NONE
icon_zoomed_out: mapOrbit.png


image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

movementEffect: CUSTOM:thrust
movementEffectRate: 0.5


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

maxAttackRange: 900
turretMultiTargeting: true
isFixedFiring: true



[turret_1]
#missiles
x: 0
y: 30

projectile: 1

invisible: true


canShoot: true
turnSpeed: 2
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true


shoot_sound: plasma_fire
shoot_sound_vol:0.4
shoot_flame:large
shoot_light:#00b1ff

delay: 100
warmup: 150
canOnlyAttackUnitsWithoutTags: orbital
limitingRange: 380
chargeEffectImage: charge small.png

[turret_2]
#missiles
x: 0
y: 30

projectile: 1

invisible: true


canShoot: true
turnSpeed: 2
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

canOnlyAttackUnitsWithTags: orbital

shoot_sound: plasma_fire
shoot_sound_vol:0.4
shoot_flame:large
shoot_light:#00b1ff

delay: 75
warmup: 75
chargeEffectImage: charge small.png




[projectile_1]
#missile
life: 600

image: shot.png
#targetGround: true
#targetGroundSpread: 100
directDamage: 500
speed: 35

trailEffect: false
areaDamage: 100
areaRadius: 80

deflectionPower: 5



[effect_thrust]
image: thrust.png
life: 25
fadeOut: true
attachedToUnit: false
fadeInTime:2
drawUnderUnits:true
#ySpeedRelative:-0.4
atmospheric: true

[movement]
movementType: AIR
moveSpeed: 3.5
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.1

landOnGround: false
targetHeight: 600

maxTurnSpeed: 2
turnAcceleration: 0.2

moveSlidingMode :true
moveIgnoringBody:false
moveSlidingDir:  45


slowDeathFall: true


