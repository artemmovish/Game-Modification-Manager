[core]
name: TA_LaserDefence
displayText: Defence Bunker
displayDescription: -Intercetprs projectiles with a laser defence. \n-Needs time to recharge energy. \n-Fairly durable.   
class: CustomUnitMetadata
price: 2500
maxHp: 1800
mass: 9000


overrideAndReplace: laserDefence
copyFrom: ROOT:Building_AI_Base.ini
tags: Building, LD




#footprint used for collisions with units (left, up, right, down)
footprint: 0,0,1,1
#used for placement, and placement of other buildings
constructionFootprint:0,0,1,1

buildingToFootprintOffsetX:20
buildingToFootprintOffsetY:20



techLevel: 1
buildSpeed: 25s
#availableInDemo: true




disableAllUnitCollisions: true




radius: 15
#displayRadius: 80
isBio: false
isBuilding: true


energyMax: 15
energyRegen: 0.005
energyNeedsToRechargeToFull: true


#armour: 2


softCollisionOnAll: 3


#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5


[hiddenAction_Started]
takeResources: ELD=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=0
[hiddenAction_Killed]
takeResources: ELD=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=0
#TotalUnit=-1




[hiddenAction_drained]
autoTrigger: if self.energy(lessThan=1)
temporarilyAddTags: drained


[hiddenAction_restore]
autoTrigger: if self.energy(greaterThan=14)
resetToDefaultTags: true







[graphics]
total_frames: 1

image:        T1On.png
image_back: NONE
image_wreak:  turret_base_dead.png

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 200
shootDelay: 100
turretMultiTargeting: true


[turret_1]
x: 0
y: 7
canShoot: false

invisible: true

laserDefenceEnergyUse: 1
size:1
#limitingRange: 150






[arm_1]
x: 0
y: 0
image_end: T1Off.png
image_end_teamColors: true
drawOverBody: true
hidden: if not self.tags(includes='drained')





[movement]
movementType: LAND
#OVER_CLIFF
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

buildPriority: 0.2

maxEachBase: 3
noneInBaseExtraPriority: 0.25

ai_upgradePriority: 0.4




[action_UpT2]
convertTo:TA_LaserDefence2
displayType: action
price: 4000
text: Upgrade
description: -Tier 2 laser defence. \n-Covers a wide area. \n-Can deflect more projectiles.
buildSpeed: 45s
pos:1

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: ELD=-2
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AA=0

