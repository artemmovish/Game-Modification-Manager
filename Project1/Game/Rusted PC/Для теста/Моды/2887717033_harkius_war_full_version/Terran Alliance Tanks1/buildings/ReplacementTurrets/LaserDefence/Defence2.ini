[core]
name: TA_LaserDefence2
displayText: Defence Bunker T2
displayDescription: -Intercetprs projectiles with a laser defence. \n-Needs time to recharge energy. \n-Durable.   
class: CustomUnitMetadata
price: 6500
maxHp: 2800
mass: 9000

copyFrom: ROOT:Building_AI_Base.ini
borrowResourcesWhileAlive: LD=-3
tags: Building, LD3


#footprint used for collisions with units (left, up, right, down)
footprint: 0,0,1,1
#used for placement, and placement of other buildings
constructionFootprint:0,0,1,1

buildingToFootprintOffsetX:20
buildingToFootprintOffsetY:20



techLevel: 2
buildSpeed: 35s
#availableInDemo: true




disableAllUnitCollisions: true




radius: 15
#displayRadius: 80
isBio: false
isBuilding: true


energyMax: 25
energyRegen: 0.013
energyNeedsToRechargeToFull: true


#armour: 2


softCollisionOnAll: 3


#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5



[hiddenAction_Started]
takeResources: ELD=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=0
[hiddenAction_Killed]
takeResources: ELD=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=0
#TotalUnit=-1




[hiddenAction_removeTag]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStation', greaterThan=0, withinRange=1000) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Titan', greaterThan=0, withinRange=720) or self.isControlledByAI() and self.hp(lessThan=2000)
temporarilyRemoveTags: Safety
temporarilyAddTags: RUN


[hiddenAction_ResetTag]
autoTrigger: if self.isControlledByAI() and not numberOfUnitsInEnemyTeam(withTag='TiStation', greaterThan=0, withinRange=1000) and not numberOfUnitsInEnemyTeam(withTag='Titan', greaterThan=0, withinRange=800) and self.hp(greaterThan=2000)
resetToDefaultTags: true




[hiddenAction_drained]
autoTrigger: if self.energy(lessThan=1)
temporarilyAddTags: drained


[hiddenAction_restore]
autoTrigger: if self.energy(greaterThan=23)
resetToDefaultTags: true





[graphics]
total_frames: 1

image:        T2On.png
image_back: NONE
image_wreak:  turret_base_dead.png

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 290
shootDelay: 100
turretMultiTargeting: true


[turret_1]
x: 0
y: 7
canShoot: false

invisible: true

laserDefenceEnergyUse: 1
size:1
#limitingRange: 150






[arm_1]
x: 0
y: 0
image_end: T2Off.png
image_end_teamColors: true
drawOverBody: true
hidden: if not self.tags(includes='drained')





[movement]
movementType: LAND
#OVER_CLIFF
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]


upgradedFrom: TA_LaserDefence