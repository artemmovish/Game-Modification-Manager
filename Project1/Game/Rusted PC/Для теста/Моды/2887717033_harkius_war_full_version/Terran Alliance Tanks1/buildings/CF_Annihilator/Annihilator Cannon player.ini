
[core]
name: Annihilator cannon turret

displayText: Annihilator Cannon
displayDescription: -Manually targeted cannon turret. \n -Long range, Very high damage. Extremely slow reload speed. \n -Holds a single highly explosive shot and requires resources to be reloaded.\n-Can target any non-stealth units.
class: CustomUnitMetadata
price: 8000
maxHp: 3000
mass: 10000

copyFrom: ROOT:Building_AI_Base.ini
borrowResourcesWhileAlive: AG=-1, AA=-1

techLevel: 1
buildSpeed: 0.0012
#availableInDemo: true
isBuilding: true

radius: 35
#displayRadius: 40
isBio: false
softCollisionOnAll: 3

#used for placement, and placement of other buildings
constructionFootprint: -1,-1,1,1

footprint: -1,-1,1,1

numBitsOnDeath: 15

tags: anti-orbital, Building, Turret, AO, AA2, AG2, Range2





disableAllUnitCollisions: true



[hiddenAction_Started]
takeResources: EAG=-3, EAA=-3, ETurret=-1, EArtillery=-3, AO=-1
[hiddenAction_Started_UpdateAlly]
takeResources: AG=-1, AA=-1
[hiddenAction_Killed]
takeResources: EAG=3, EAA=3, ETurret=1, EArtillery=3, AO=1
[hiddenAction_Killed_UpdateAlly]
takeResources: AG=1, AA=1
#TotalUnit=-1



[action_prepare]
price:  1000
text: Prepare antimatter
description: Prepares an antimatter canister for firing. 
displayType: NONE
buildSpeed: 70s
pos: 0.2
isActive:if self.ammoIncludingQueued(lessThan=2)
addResources: ammo=1

[action_showammo]
#infoOnly: true
addResources: ammo=1
price:  ammo=1
text: Avalible shots
description: The number of times the gun can shoot.
displayType: none
buildSpeed: 0s
pos: 0.1
displayRemainingStockpile: true
highPriorityQueue: true
isActive:false







[hiddenAction_Attack]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='Unit', greaterThan=4, withinRange=700)
clearAllWaypoints: true
addWaypoint_prepend: true
addWaypoint_type: attack
addWaypoint_target_nearestUnit_maxRange: 9999
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_target_nearestUnit_tagged: Unit






[graphics]
total_frames: 1

image: annihilator base.png
image_wreak:  annihilator ruin.png
image_turret: annihilator gun.png

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 20
turretTurnSpeed: 0.7

disablePassiveTargeting: true

maxAttackRange: 600
shootDelay: 150







[turret_1]
#base
x: 0
y: 3
attachedTo: 2
slave: true
turnSpeed: 0
#idleSpin: 0.1
shouldResetTurret: false
canShoot: false

image: annihilator mount.png



[turret_2]
#gun
x: 0
y: 0


#idleSpin: 0.1

shoot_sound: cannon_firing
shoot_sound_vol: 2
shoot_flame:large
shoot_light:#FFEECCCC

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
recoilOffset: -10
recoilOutTime: 5
recoilReturnTime: 100

resourceUsage: ammo=1


[projectile_1]
directDamage: 450
life: 200
speed: 15

laserEffect: true

color: #8fff0000
lightColor: #8fff0000
lightSize: 1.5
drawSize: 0.5

#ballistic: true
#ballistic_delaymove_height: 10
#ballistic_height: 50


instant:false
largeHitEffect: true
areaDamage: 400
areaRadius: 250

deflectionPower: 3
pushForce: 25000
mutator1_ifUnitWithTags: orbital
mutator1_directDamageMultiplier: 1
mutator1_areaDamageMultiplier: 3




[movement]
movementType: BUILDING
moveSpeed: 0
moveAccelerationSpeed: 0
moveDecelerationSpeed: 0

maxTurnSpeed: 0
turnAcceleration: 0

moveSlidingMode :false
moveIgnoringBody:false


[ai]

#disableUse: true

buildPriority: 0.1

noneInBaseExtraPriority: 0.12

