
[core]
name: TerranexperiementalCarrier
displayText: Adamant class Carrier
displayDescription: An aircraft carrier developed for aquatic colonies. \n-Storm anti-air turret. \n-Twin cannons. \n-Builds some aircraft quickly. \n-Laser defence and repair beam. \n-Produces credits. \n-Goes nuclear on death (if nukes are enabled)
class: CustomUnitMetadata
price: 37000
maxHp: 12000
mass: 200000

overrideAndReplace: experiementalCarrier

copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Water=-9, AG=-4, AA=-4, AntiArmour=-2, Artillery=-3, LD=-3, AS=-2
tags: Unit, Navy3, AG2, AA2, AS2, AntiArmour, CanLead1, NoCap, Carrier, antinuke, Factory, LD2



techLevel: 2
experimental: true
buildSpeed: 65s
availableInDemo: false

radius: 53
#softCollisionOnAll: 3

transportSlotsNeeded: 5




isBio: false
energyMax: 3
energyRegen: 0.0011


#note: AI use as builder is false under: [ai]useAsBuilder
isBuilder: true

autoRepair: true

canRepairBuildings: true
canRepairUnits : true


nanoRange: 240

nanoRepairSpeed: 0.8

nanoFactorySpeed:2.5

generation_credits: 30
generation_delay: 40

selfRegenRate:0.5


builtFrom_1_name: SeaFactory
builtFrom_1_pos:  10


nukeOnDeath: true
nukeOnDeathRange: 130
nukeOnDeathDamage: 4000
nukeOnDeathDisableWhenNoNuke: true


canBuild_1_name:  TA_AirBuilder, Tc_interceptor, Tc_helicopter, airShip, dropShip, Tc_gunship, TerranC_amphibiousJet, Terranbomber, TerranMissileAirship, TerranheavyInterceptor


exit_x:0
exit_y:30

exit_dirOffset:0
exit_moveAwayAmount:140
exit_heightOffset: 5

[hiddenAction_Started]
takeResources: ENavy=-9, EAG=-4, EAA=-4, EAntiArmour=-2, EArtillery=-3, ELD=-3, EAS=-2
[hiddenAction_Started_UpdateAlly]
takeResources: Water=-9, AG=-4, AA=-4, AntiArmour=-2, Artillery=-3, LD=-3, AS=-2
[hiddenAction_Killed]
takeResources: ENavy=9, EAG=4, EAA=4, EAntiArmour=2, EArtillery=3, ELD=3, EAS=2
[hiddenAction_Killed_UpdateAlly]
takeResources: Water=9, AG=4, AA=4, AntiArmour=2, Artillery=3, LD=3, AS=2
#TotalUnit=-1

[action_buildAntiNuke]
price:  6000
text: i:gui.actions.buildAntiNuke
description:i:gui.actions.buildAntiNuke.description
displayType: NONE
buildSpeed: 60s
pos: 0.2
isActive:if self.ammoIncludingQueued(lessThan=12)
addResources: ammo=1
isLocked: if not game.nukesEnabled()
isLockedMessage: i:gui.actions.nukesDisabled

[action_showNukeCount]
#infoOnly: true
addResources: ammo=1
price:  ammo=1
text: i:gui.actions.antiNukeCount
description: i:gui.actions.antiNukeCount.description
displayType: none
buildSpeed: 0s
pos: 0.1
displayRemainingStockpile: true
highPriorityQueue: true
isActive:false








[hiddenAction_builder1]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=10000) and numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=450) and self.hp(lessThan=7500) and not self.hasFlag(id=1)
alsoQueueAction: builder2
addResources: setFlag=1, credits=-3000

[hiddenAction_builder2]
buildSpeed: 6.7s
#addResources: credits=-170
alsoQueueAction: builder3
spawnUnits: TerranC_amphibiousJet

[hiddenAction_builder3]
buildSpeed: 0.1s
addResources: unsetFlag=1




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=10000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=4000)
temporarilyAddTags: Retreat



[graphics]
total_frames: 1
drawLayer: experimentals
imageScale: 1.1

image:        NewBody.png
image_wreak:  Experiemental_carrier_dead.png
image_turret: turret_top_cannon.png

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2


splastEffect: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 20
turretTurnSpeed: 1.5

maxAttackRange: 365

shootDelay: 50


turretMultiTargeting: true



[turret_flakPivotPoint]
x: 0
y: 0
canShoot: false

shouldResetTurret: false
idleSpin: 0.5
image: NewFlak.png

canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

recoilOffset: -3
recoilOutTime: 6
recoilReturnTime: 12

[turret_leftMissilePod]
x: 6
y: 6
size: 0
attachedTo: flakPivotPoint
slave: true
invisible: true
warmup: 0
canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
shoot_sound:large_gun_fire2
shoot_sound_vol:0.3
shoot_flame:small
shoot_light:#FFEECCCC
projectile: flak

#image: SHARED:debug_marker.png

[turret_rightMissilePod]
x: -6
y: 6
copyFrom: leftMissilePod
linkDelayWithTurret:leftMissilePod
warmup: 25

[turret_torpedos]
#torpedo
invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: true
projectile: torpedo
size: 1
turnSpeed: 15
delay: 120
limitingRange: 290

[turret_plasma1]
#plasma
#turret
x: 19
y: -8

idleDir:90
idleDirReversing: 90

limitingAngle: 120

delay:0.8s
warmup: 0.8s

image: SHARED:mega_tank_turret.png
shoot_sound:large_gun_fire2
shoot_sound_vol:0.3
shoot_flame:large
shoot_light:#ffc600

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
projectile: gunShot

size: 16
recoilOffset: -1
limitingRange: 260

[turret_plasma2]
#plasma
#turret
x: -19
y: -8

idleDir:-90
idleDirReversing: -90

copyFrom:plasma1
#linkDelayWithTurret:plasma1
#warmup: 50

[turret_laserDefence]
#laserdefence
x: 14
y: -21
canShoot: false
invisible: true

laserDefenceEnergyUse: 0.065
limitingRange: 200
size:0

[turret_antiNuke]
#anti-nuke turret
x: 16
y: -40
canShoot:false


idleDir:0
invisible: true

projectile: antiNukeMissile
interceptProjectiles_withTags: nuke
interceptProjectiles_andTargetingGroundUnderDistance: 650
interceptProjectiles_andUnderDistance: 1600
interceptProjectiles_andOverHeight:50

shoot_sound:nuke_launch
shoot_sound_vol:0.15
shoot_light:#FFEECCCC

size: 1

turnSpeed: 40

resourceUsage: ammo=1

shoot_flame:shockwave, smoke
#shoot_flame:custom:nukeLaunch
#onShoot_playAnimation: fireNuke



[turret_repairTurret]
#repair
x: 0
y: -36
canShoot: false
#invisible: true
image: Crane.png

idleDir: -60

size:20

isMainNanoTurret: true
warmup:30



[projectile_shell]
#shell
life: 150
speed: 10
drawType: 2
frame: 1
drawSize: 0.9
hitSound: true
targetGround:true
targetGroundSpread: 30
largeHitEffect: true
deflectionPower: 2
areaDamage: 350
areaRadius: 50
lightColor: #ffe92b
lightSize: 0.6
pushForce: 8000



[projectile_flak]
#flak
life: 340
speed: 20
drawSize: 0.8
trailEffect: true
largeHitEffect: true

areaDamage: 80
areaRadius: 60
autoTargetingOnDeadTarget: true
lightColor: #ffff00
lightSize: 0.4
deflectionPower: 3
pushForce: 4000

image: bolt.png


[projectile_torpedo]
#torpedo
directDamage: 90
life: 550
speed: 0.15
targetSpeed: 2
drawSize: 1
color: #1E1E96
trailEffect: true
largeHitEffect: true

deflectionPower: -1



[projectile_gunShot]
#gun
life: 150
speed: 9
largeHitEffect: true
frame: 6
targetGround: true
areaDamage: 350
areaRadius: 45
drawSize: 1.1
lightColor: #ffc600
lightSize: 0.6
image:projectile.png
deflectionPower: 2
pushForce: 12000



[projectile_antiNukeMissile]
#anti-nuke
directDamage: 600

life: 99999
speed: 0.2
targetSpeed: 7
targetSpeedAcceleration:0.05

trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
frame: 10
#shadowFrame:1

drawType:0

targetGround: true
areaDamage: 100
areaRadius: 60

areaExpandTime:75

deflectionPower:-1


lightColor: #FFEEEE00
lightSize: 1


alwaysVisibleInFog: true


[movement]
movementType: WATER
moveSpeed: 0.5
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.05

reverseSpeedPercentage:1

maxTurnSpeed: 0.7
turnAcceleration: 0.05





[ai]
useAsBuilder: false


