
[core]
name: TerranDreadnought
displayText: The Dreadnought
displayDescription: The Venusian Republic's most powerful ground domination vehicle. Getting them to deploy one of these is a bureaucratic nightmare. \n-Slow, but sturdy, and can travel anywhere. \n- Extremely long ranged. \n-Can rapid fire missiles boosted by railgun barrels at ground targets. \n-Anti-air missile launcher and ground-to-orbit missiles. \n-Specialises in long range bombardment, but is well defended even up close. \n-Titans are ineffective on weak units. 
class: CustomUnitMetadata

price: 395000
maxHp: 37000
mass: 999999

generation_credits: -280
generation_delay: 40

techLevel: 2
experimental: true

buildSpeed: 0.00007

radius: 130
displayRadius: 160

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-35, Water=-35, Cliff=-35, AG=-35, AA=-20, Artillery=-35, AntiArmour=-27, AntiLD=-27, AntiStealth=-27, AS=-9, AO=-9
tags: Unit, GroundT, WaterT, CliffT, AGT, AA3, CanLeadT, RangeT, AntiArmourT, ALDT, anti-orbital, anti-stealth, Titan, DreadN, Dread, AO3, AST, AStealthT


disableAllUnitCollisions: true




energyMax: 12
energyRegen: 0.02
energyNeedsToRechargeToFull: true

fogOfWarSightRange: 35

transportSlotsNeeded: 30


isBio: false


#armour: 25

nukeOnDeath: true
nukeOnDeathRange: 400
nukeOnDeathDamage: 6000
nukeOnDeathDisableWhenNoNuke: true

[hiddenAction_Started]
takeResources: EGround=-35, EWater=-35, ECliff=-35, EAG=-35, EAA=-20, EArtillery=-35, EAntiArmour=-27, EAntiLD=-27, EAntiStealth=-27, EAS=-9, EAO=-9
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-35, Water=-35, Cliff=-35, AG=-35, AA=-20, Artillery=-35, AntiArmour=-27, AntiLD=-27, AntiStealth=-27, AS=-9, AO=-9
[hiddenAction_Killed]
takeResources: EGround=35, EWater=35, ECliff=35, EAG=35, EAA=20, EArtillery=35, EAntiArmour=27, EAntiLD=27, EAntiStealth=27, EAS=9, EAO=9
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=35, Water=35, Cliff=35, AG=35, AA=20, Artillery=35, AntiArmour=27, AntiLD=27, AntiStealth=27, AS=9, AO=9
#TotalUnit=-1

[hiddenAction_spawn]
autoTriggerOnEvent: created
playSoundGlobally: ROOT:Audio/Dreadnought.ogg






[hiddenAction_CallSOS]
autoTrigger: if self.isControlledByAI() and self.resource(type='hp') < self.resource(type='SaveHP') and self.numberofUnitsInEnemyTeam(withTag='Unit', greaterThan=0, withinRange=1000) or self.isControlledByAI() and self.resource(type='hp') < self.resource(type='SaveHP') and self.numberofUnitsInEnemyTeam(withTag='Building', greaterThan=0, withinRange=1000)
setResourcesWithLogic: SaveHP = self.hp()
temporarilyAddTags: HELP, BREAK_FORMATION

[hiddenAction_CallSOSORBIT]
autoTrigger: if self.isControlledByAI() and self.resource(type='hp') < self.resource(type='SaveHP') and self.numberofUnitsInEnemyTeam(withTag='orbital', greaterThan=0, withinRange=1000)
setResourcesWithLogic: SaveHP = self.hp()
temporarilyAddTags: HELP_ORBIT, BREAK_FORMATION

[hiddenAction_EndSOS]
autoTrigger: if self.isControlledByAI() and not self.numberofUnitsInEnemyTeam(greaterThan=0, withinRange=1000)or self.isControlledByAI() and self.hp(full=true)
temporarilyRemoveTags: HELP, HELP_ORBIT
setResourcesWithLogic: SaveHP = self.hp()





[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=25000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=20000)
temporarilyAddTags: Retreat




[hiddenAction_Marked]
autoTrigger: if not numberOfUnitsInEnemyTeam(greaterThan=2, withinRange=700) and not numberOfUnitsInEnemyTeam(withTag='Titan', greaterThan=0, withinRange=700) and not self.hp(lessThan=15000) and not numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=1000) and not numberOfUnitsInEnemyTeam(withTag='Building', greaterThan=0, withinRange=700)
temporarilyAddTags: DreadP
#temporarilyRemoveTags: DreadN


[hiddenAction_Hidden]
autoTrigger: if numberOfUnitsInEnemyTeam(withTag='Building', greaterThan=0, withinRange=700) or numberOfUnitsInEnemyTeam(withTag='Titan', greaterThan=0, withinRange=700) or self.hp(lessThan=15000) or numberOfUnitsInEnemyTeam(greaterThan=4, withinRange=700) or numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=1000)
temporarilyAddTags: DreadN
temporarilyRemoveTags: DreadP





[hiddenAction_startDefence]
autoTrigger: if self.NumberOfUnitsInTeam(withTag='HELP', greaterThan=0, withinRange=600) and self.tags(includes='DEFEND') and self.numberofUnitsInEnemyTeam(greaterThan=0, withinRange=1000)




[graphics]
total_frames: 1
teamColorsOnTurret: true
image:       waist.png
image_wreak: ruin.png
image_turret: body.png
icon_zoomed_out: MapX.png

image_shadow: SHADOW:body.png
lock_shadow_rotation_with_main_turret: true
shadowOffsetX:0.5
shadowOffsetY:0.5

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 25
turretTurnSpeed: 1.1
maxAttackRange: 700
shootDelay: 100
aimOffsetSpread:0
turretRotateWithBody: true
turretMultiTargeting: true



[turret_1]

#railgun

x: 54
y: 90

projectile: 1
attachedTo: 3
slave: true

turnSpeed: 1

idleDir: 0
limitingAngle: 30

shoot_sound:cannon_firing
shoot_sound_vol:0.3
shoot_flame:small
shoot_light:#FFEEEEEE

delay: 65
warmup: 50
warmupCallDownRate: 1

warmupNoReset: true
warmupShootDelayTransfer: 18


canShoot: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


image: railgun.png
recoilOffset: -20
recoilOutTime: 3
recoilReturnTime: 7

canOnlyAttackUnitsWithoutTags: Small, orbital





[turret_2]

#railgun

x: -54
y: 90

projectile: 1
attachedTo: 3
slave: true

turnSpeed: 1

idleDir: 0
limitingAngle: 30

shoot_sound:cannon_firing
shoot_sound_vol:0.3
shoot_flame:small
shoot_light:#FFEEEEEE

delay: 65
warmup: 50
warmupCallDownRate: 1

warmupNoReset: true
warmupShootDelayTransfer: 18


canShoot: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


image: railgun.png
recoilOffset: -20
recoilOutTime: 3
recoilReturnTime: 7
canOnlyAttackUnitsWithoutTags: Small, orbital




[turret_3]

#body

x: 0
y: 0
size: 80
canShoot: true
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turnSpeed: 0.8
projectile: 3

delay: 30
warmup: 0

canOnlyAttackUnitsWithoutTags: Small, orbital




[turret_4]
#missiles
x: 0
y: -55
invisible: true

projectile: 2

attachedTo: 3

slave: false

turnSpeed: 10
turnSpeedAcceleration: 2

shoot_sound:missile_fire
shoot_sound_vol:0.7
canShoot: true

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

energyUsage: 1

shoot_light:#ff0000
warmup: 5
delay: 5


image: NONE
canOnlyAttackUnitsWithoutTags: Small





[turret_5]
x: 68
y: 57
canShoot: true

size: 10

attachedTo: 3

slave: false

image: turret.png
idleSpin: 1

shoot_sound:plasma_fire
shoot_sound_vol:0.1
shoot_flame:small
shoot_light:#FFccCCEE

delay: 5
warmup: 5

recoilOffset: -2
recoilOutTime: 3
recoilReturnTime: 8
canOnlyAttackUnitsWithoutTags: orbital
limitingRange: 400
projectile: 5
turnSpeed: 8


[turret_6]
x: -68
y: 57
copyFrom: 5



[turret_7]
x: 60
y: -60
copyFrom: 5



[turret_8]
x: -60
y: -60
copyFrom: 5




[turret_9]
#rocket launcher
x: 0
y: 0
size:10
turnSpeed: 8


shoot_sound:missile_fire
shoot_sound_vol:0.3
canShoot: true

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

projectile: 4

shoot_light:#ff0000

linkDelayWithTurret: 10
warmup: 20

image: RocketLauncher.png
canOnlyAttackUnitsWithoutTags: orbital, Small



[turret_10]
#rocket launcher
x: -19
y: 0
size:10
attachedTo: 9
slave: true

turnSpeed: 3

shoot_sound:missile_fire
shoot_sound_vol:0.3
canShoot: true

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

projectile: 4

shoot_light:#ff0000

delay: 120
warmup: 0

invisible: true


canOnlyAttackUnitsWithoutTags: orbital, Small





[turret_11]
#rocket launcher
x: 19
y: 0
size:10
attachedTo: 9
slave: true

turnSpeed: 3

shoot_sound:missile_fire
shoot_sound_vol:0.3
canShoot: true

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

projectile: 4

shoot_light:#ff0000

linkDelayWithTurret: 10
warmup: 40

invisible: true


canOnlyAttackUnitsWithoutTags: orbital, Small









[projectile_1]

#railgun
speed: 15
drawSize: 1.55
drawType:2
frame: 4
color: #BB99DD
directDamage: 150
instant:false
laserEffect: false
life: 120
trailEffect: true

largeHitEffect: true
areaDamage: 300
areaRadius: 125
deflectionPower: 1

#targetGround: true
#autoTargetingOnDeadTarget: true
#initialUnguidedSpeedHeight: 1.5
#gravity:0.2
#lightCastOnGround: true


[projectile_2]
#missile
directDamage: 300
drawSize: 1
life: 650
speed: 2
targetSpeed: 12
trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:50
ballistic_height: 300
frame: 4

areaDamage: 100
areaRadius: 55
deflectionPower: 1
autoTargetingOnDeadTarget: true
armourIgnoreAmount: 500
mutator1_ifUnitWithTags: orbital
mutator1_directDamageMultiplier: 2



[projectile_3]
#Mini missiles
directDamage: 75

drawSize: 0.7
frame: 4

life: 300
speed: 5
deflectionPower: 1
trailEffect: true
largeHitEffect: true
autoTargetingOnDeadTarget: true



[projectile_4]
directDamage: 90
life: 240
speed: 0.7
targetSpeed: 8
trailEffect: true
largeHitEffect: true
areaRadius: 60
areaDamage: 80
deflectionPower: 1

image: rocket.png
#ballistic: true
#ballistic_delaymove_height:0
#ballistic_height: 4
#areaDamage: 40
#areaRadius: 35

autoTargetingOnDeadTarget: true
trailEffectRate:0.2

trailEffect: CUSTOM:trail




[projectile_5]
#partical shot
directDamage: 12
life: 50
speed: 12

frame: 11

lightColor: #FFccCCEE
lightSize: 0.4
deflectionPower: 1



[effect_trail]
image: thrust.png
life: 10
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.7
drawUnderUnits:true
#ySpeedRelative:-1





[leg_1]
x: -120
y: 150
attach_x: -30
attach_y: 30
moveSpeed: 2

rotateSpeed: 2

heightSpeed: 0.3
resetAngle:25

image_leg:  leg.png
image_foot: foot.png

#draw_foot_on_top: false
#dust_effect: false

holdDisMin: 1
holdDisMax: 3

[leg_2]
x: 120
y: 150
attach_x: 30
attach_y: 30
copyFrom: 1

[leg_3]
x: -150
y: 50
attach_x: -30
attach_y: 10
copyFrom: 1

[leg_4]
x: 150
y: 50
attach_x: 30
attach_y: 10
copyFrom: 1


[leg_5]
x: -150
y: -50
attach_x: -30
attach_y: -10
copyFrom: 1

[leg_6]
x: 150
y: -50
attach_x: 30
attach_y: -10
copyFrom: 1



[leg_7]
x: -120
y: -150
attach_x: -30
attach_y: -30
copyFrom: 1

[leg_8]
x: 120
y: -150
attach_x: 30
attach_y: -30
copyFrom: 1






[movement]
movementType: AIR
moveSpeed: 0.28
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.2

maxTurnSpeed: 0.3
turnAcceleration: 0.01

targetHeight:2
targetHeightDrift: 0

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir: 45
reverseSpeedPercentage:0.5

slowDeathFall: true


[ai]
upgradedFrom: TerranDreadnoughtSetup


