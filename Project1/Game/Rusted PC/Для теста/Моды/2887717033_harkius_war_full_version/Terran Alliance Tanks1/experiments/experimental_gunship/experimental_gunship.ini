
[core]
name: TerranexperimentalGunship

displayText: Kaitse Defence Builder 
displayDescription: -Can land and take off\n-Can build combat engineers and upgraded defences. \n-Drains credits while moving.\n-Generates credits while grounded.
overrideAndReplace: experimentalGunship

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Air=-9, AG=-3, AA=-3, Armour=-3, LD=-3
tags: Unit, Air3, AG2, AA2, Armour2, LD2, Factory, NoCap

class: CustomUnitMetadata
price: 70000
maxHp: 20000
mass: 90000

techLevel: 1
experimental: true

buildSpeed: 0.0002
#availableInDemo: true

radius: 45
#displayRadius: 11
isBio: false
softCollisionOnAll: 24

armour: 10

generation_credits: -65
generation_delay: 40

selfRegenRate:1




#action_1_convertTo: TerranexperimentalGunshipLanded
#action_1_displayType: action
#action_1_price:  0
#action_1_text: Land
#action_1_buildSpeed: 2s
#action_1_whenBuilding_cannotMove: true
#action_1_whenBuilding_playAnimation:deploy



energyMax: 1
energyRegen: 0.002


#nanoRange: 135
#nanoBuildSpeed: 2

#nanoFactorySpeed:3.5

nanoRange: 235

nanoRepairSpeed: 0.4
nanoBuildSpeed: 8
autoRepair: true

canRepairBuildings: true
canRepairUnits : true


[hiddenAction_Started]
takeResources: EAir=-9, EAG=-3, EAA=-3, EArmour=-3, ELD=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Air=-9, AG=-3, AA=-3, Armour=-3, LD=-3
[hiddenAction_Killed]
takeResources: EAir=9, EAG=3, EAA=3, EArmour=3, ELD=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Air=9, AG=3, AA=3, Armour=3, LD=3
#TotalUnit=-1


[canBuild_units]
name: TA_Builder, TerranCombatEngineer
pos: 1
forceNano: true



[canBuild_Turrets]
name: Terran_extractorT1, TerranflameLand, TerrangunLand3, Tc_turret_t2_lightning, Terran_c_turret_t2_artillery, Terranarty2, TerranantiAirTurretFlak, TerranAA3, Annihilator cannon turret, TA_repairBay, TA_LaserDefence2
pos: 2


[canBuild_AntiOrbit]
name: CBE Tower
pos: 2
isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=15000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=6000)
temporarilyAddTags: Retreat



[action_land]
convertTo: TerranexperimentalGunshipLanded
autoTrigger: if not self.flying
isVisible: false
highPriorityQueue: true


[graphics]
total_frames: 1
teamColorsOnTurret: true

image:        BodyNew.png
image_wreak:  body_dead.png
image_turret: Crane.png
#image_turret: SHARED:experimental_tank_turret.png


#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 15
turretTurnSpeed: 4
maxAttackRange: 260
shootDelay: 25

turretMultiTargeting: true

[turret_1]
#nano

x: 0
y: 15

#idleDir:-90

warmup:30

turnSpeed: 4
size: 8

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isMainNanoTurret: true

#idleDir:-180



[turret_2]
x: -13
y: 19

idleDir:-10

canAttackFlyingUnits: true
canAttackLandUnits:   true

shoot_sound:large_gun_fire2
shoot_sound_vol:0.3
shoot_flame:large
shoot_light:#ffc600
delay: 20
warmup: 20

turnSpeed: 2
projectile: gunShot
image: SHARED:mega_tank_turret.png

[turret_3]
copyFrom: 2
x: 13
y: 19

idleDir:10

warmup:7
linkDelayWithTurret:2








[projectile_1]
directDamage: 40
life: 70
speed: 7

frame: 11
pushForce: 9000


[projectile_2]
#missile
directDamage: 90

areaDamage: 70
areaRadius: 45

life: 240
speed: 0.3
targetSpeed: 3
trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:5
ballistic_height: 30
frame: 4
pushForce: 12000


[projectile_gunShot]
#gun
life: 150
speed: 9
largeHitEffect: true
frame: 6
#targetGround: true
directDamage: 40
areaDamage: 40
areaRadius: 60
drawSize: 1.1
lightColor: #ffc600
lightSize: 0.6
image:projectile.png
deflectionPower: 2
pushForce: 5000



[arm_1]
x:0
y:-22
drawDirOffset:240
image_end:Crane2.png
image_end_shadow:SHADOW:Crane2.png
moveSpeed:0.2


[arm_2]
x:0
y:19
drawDirOffset:300
copyFrom:1


[arm_3]
x:0
y:-22
copyFrom:1
drawDirOffset:120


[arm_4]
x:0
y:19
copyFrom:1
drawDirOffset:60






[arm_7]
x:0
y:0
moveSpeed:0.5

image_end:door.png
drawOverBody:true


[animation_deploy]

blendIn: 3s

arm1_0: {x:-29, y:0}
arm2_0: {x:-34, y:0}

arm3_0: {x:29, y:0}
arm4_0: {x:34, y:0}




[movement]
movementType: AIR
moveSpeed: 1.2

targetHeight:20
targetHeightDrift:1.0

moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.03

landOnGround: true


maxTurnSpeed: 0.9
turnAcceleration: 0.05

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  180


slowDeathFall: true





[ai]
useAsBuilder: true

