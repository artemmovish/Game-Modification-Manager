
[core]
name: TerranASub
class: CustomUnitMetadata
displayText: Killroy Submarine
displayDescription: Neptunian Aquatics missile submarine. \n -Fires torpedos when submerged. \n -Fires missiles when surfaced. 

price: 2000
maxHp: 700
mass: 10000

copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Water=-1, AG=-1, AA=-1, AntiArmour=-1, Artillery=-1, AS=-1, AntiNavy=-1
tags: Unit, Navy, AG, AA, AS, AntiArmour, CanLead1, AntiNavy, Range


techLevel: 1
buildSpeed: 18s
availableInDemo: false
transportSlotsNeeded: 1
radius: 15
#displayRadius: 11
isBio: false
#softCollisionOnAll: 3
fogOfWarSightRange: 16

#builtFrom_1_name: seaFactory
#builtFrom_1_pos:  6


action_1_convertTo: TerranASub_Surface
action_1_displayType: action
action_1_price:  0
action_1_text: Surface
action_1_buildSpeed: 0s
action_1_whenBuilding_cannotMove: false

[hiddenAction_Started]
takeResources: ENavy=-1, EAG=-1, EAA=-1, EAntiArmour=-1, EArtillery=-1, EAS=-1, EAntiNavy=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Water=-1, AG=-1, AA=-1, AntiArmour=-1, Artillery=-1, AS=-1, AntiNavy=-1
[hiddenAction_Killed]
takeResources: ENavy=1, EAG=1, EAA=1, EAntiArmour=1, EArtillery=1, EAS=1, EAntiNavy=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Water=1, AG=1, AA=1, AntiArmour=1, Artillery=1, AS=1, AntiNavy=1
#TotalUnit=-1

[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=650)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=550)
temporarilyAddTags: Retreat


[graphics]
total_frames: 2

image:        Body.png
image_wreak:  Ruin.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

#lock_body_rotation_with_main_turret: true

animation_moving_start: 0
animation_moving_end: 1
animation_moving_speed: 2




[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits:false

turretSize: 20
turretTurnSpeed: 1.5
isFixedFiring: false

maxAttackRange: 160
shootDelay: 1s





[turret_main]
x: 0
y: 0
idleDir: 0
canAttack: false
limitingRange: 1


[turret_1]
#torpedo
invisible: true
x: 0
y: 10
attachedTo: main
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false

projectile: torpedo
size: 1.1
#turnSpeed: 15

turnSpeed: 0
canAttackMaxAngle: 181






[projectile_torpedo]
#torpedo
directDamage: 40
life: 30
speed: 1.2
targetSpeed: 3
targetSpeedAcceleration: 0.03

drawSize: 1
color: #1E1E96
trailEffect: true
largeHitEffect: true

deflectionPower: -1

wobbleAmplitude: 0.2
wobbleFrequency: 1.2s

turnSpeed:2

#startingTurnSpeed:1
#targetTurnSpeed:3

lightSize:0.2

#spawnProjectilesOnEndOfLife: torpedo_split(offsetDir=90), torpedo_split(offsetDir=-90), torpedo_split(offsetDir=00)
spawnProjectilesOnEndOfLife: torpedoLocked

[projectile_torpedoLocked]
@copyFromSection: projectile_torpedo
life: 300
turnSpeed:6
spawnProjectilesOnEndOfLife: NONE








[movement]
movementType: WATER
moveSpeed: 0.6
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.04

maxTurnSpeed: 0.6
turnAcceleration: 0.03

#moveSlidingMode :false
#moveIgnoringBody:false
#moveSlidingDir:  45


targetHeight: -7
targetHeightDrift: 0.6







