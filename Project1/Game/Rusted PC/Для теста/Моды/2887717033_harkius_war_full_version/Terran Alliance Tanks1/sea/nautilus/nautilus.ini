
[core]
name: TerrannautilusSubmarine
class: CustomUnitMetadata
displayText: Typhoon-1 Carrier-Ship
displayDescription: -Heavily armed and armored \n -Can carry and build other ships \n -Can surface and walk on land \n -Can attack land and air when surfaced. \n-Can attack submarines when underwater. \n-The 'Typhoon' type hull is easily modified. \n-This T-1 varient is a floating ship-yard.

#displayLocaleKey: nautilusSubmarine
overrideAndReplace: nautilusSubmarine
copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Water=-7, Ground=-3, Cliff=-3, AG=-3, AA=-3, AntiArmour=-1, AS=-3, AntiNavy=-3
tags: Unit, Ground2, Water3, Cliff2, AG2, AA2, AS2, AntiArmour, CanLead2, Factory, AntiNavy2

price: 16000
maxHp: 4000
mass: 30000
selfRegenRate:0.1

generation_credits: -8
generation_delay: 40

techLevel: 2
experimental: true
buildSpeed: 45s
availableInDemo: false

radius: 36
isBio: false


fogOfWarSightRange:24


builtFrom_1_name: seaFactory
builtFrom_1_pos:  6

nanoFactorySpeed:2
canBuild_1_name: gunBoat, missileShip, builderShip

energyMax: 6
energyRegen: 0.01
energyNeedsToRechargeToFull: true

maxTransportingUnits: 6
transportUnitsRequireMovementType: WATER, HOVER, OVER_CLIFF_WATER
#transportUnitsCanUnloadUnits: false
transportUnitsCanUnloadUnits: if self.isOverLiquid()
transportUnitsRequireTag: nonexistent

transportUnitsKeepBuiltUnits: true


exit_x:0
exit_y:30

exit_dirOffset:0
exit_moveAwayAmount:110
exit_heightOffset: 0


[hiddenAction_Started]
takeResources: ENavy=-7, EGround=-3, ECliff=-3, EAG=-3, EAA=-3, EAntiArmour=-1, EAS=-3, EAntiNavy=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Water=-7, Ground=-3, Cliff=-3, AG=-3, AA=-3, AntiArmour=-1, AS=-3, AntiNavy=-3
[hiddenAction_Killed]
takeResources: ENavy=-7, EGround=-3, ECliff=-3, EAG=-3, EAA=3, EAntiArmour=1, EAS=3, EAntiNavy=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Water=-7, Ground=-3, Cliff=-3, AG=-3, AA=3, AntiArmour=1, AS=3, AntiNavy=3
#TotalUnit=-1

[action_trigger_onLand]
autoTrigger: if not self.overWater()

convertTo: nautilusSubmarineLand
buildSpeed: 0
text: TRIGGER
isVisible: false



[action_surface]
convertTo: nautilusSubmarineSurface
#isActive: if not self.isOverwater
displayType: action
price:  0
text: Surface
description: -Surface unit
buildSpeed: 0.2s
whenBuilding_cannotMove: true
pos:-1
highPriorityQueue: true
autoTrigger: if self.isControlledByAI() and not self.isAttacking() and not self.tags(includes='Retreat')



[action_dive]
isVisible: false

convertTo: nautilusSubmarine
isActive: if self.isOverwater
displayType: action
price:  0
text: Dive
description: -Dive unit underwater
buildSpeed: 1.5s
whenBuilding_cannotMove: true
pos:-1
highPriorityQueue: true
#autoTrigger: if self.isControlledByAI() and self.tags(includes='Retreat')



[action_lunchScoutBot]
isVisible: false

fireTurretXAtGround: 8
price: credits=200, energy=6
#price: credits=400
text: Launch scout bot
description: -Launch a scout bot to the target location \n -empties energy.
displayType: action
buildSpeed: 3.5s




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=3000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=2000)
temporarilyAddTags: Retreat


[graphics]
drawLayer: experimentals
total_frames: 1


image:        Nbody.png
image_wreak:  Nbody_dead.png
image_turret: foot.png


image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits:false


turretSize: 20
turretTurnSpeed: 1.8


maxAttackRange: 260
shootDelay: 300

[turret_1]
#gun turret (not in use)
x: 0
y: 27
idleDir:0
invisible: true
canShoot: false


[turret_2]
#missile turret
x: 10
y: 20
idleDir:0

invisible: true

shoot_flame:shockwave
shoot_light:#FFEECCCC

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false


projectile: 2
size: 1
turnSpeed: 40

energyUsage: 1


[turret_3]
#back turret
copyFrom: 2

x: -10
y: 20
idleDir:0
warmup:20
projectile: 2
linkDelayWithTurret:2


[turret_4]
#back turret
copyFrom: 2

x: -10
y: 12
idleDir:0
warmup:40
projectile: 2
linkDelayWithTurret:2


[turret_5]
#back turret
copyFrom: 2

x: 10
y: 12
idleDir:0
warmup:60
projectile: 2
linkDelayWithTurret:2


[turret_6]
#back turret
copyFrom: 2

x: 10
y: 2
idleDir:0
warmup:80
projectile: 2
linkDelayWithTurret:2


[turret_7]
#back turret
copyFrom: 2

x: -10
y: 2
idleDir:0
warmup:100
projectile: 2
linkDelayWithTurret:2


[turret_8]
#bot turret
x: 10
y: 22
canShoot:false
idleDir:0

invisible: true

shoot_sound:missile_fire
shoot_sound_vol:1
shoot_light:#FFEECCCC

projectile: 1
size: 1

turnSpeed: 40
shoot_flame:shockwave


[projectile_1]
#Scout bot

directDamage: 123
drawSize: 0.9
spawnUnit:robotCrab

life: 99999
speed: 0.3
targetSpeed: 6

trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:40
ballistic_height: 50
frame: 9

targetGround: true

deflectionPower:-1

lightColor: #FFEEEE00
lightSize: 1



[projectile_2]
#torpedo
directDamage: 70
drawSize: 0.8


life: 250
speed: 0.15
targetSpeed: 2.1
largeHitEffect: true
drawSize: 1
color: #1E1E96
lightColor:#ffffff
trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:40
ballistic_height: -2

autoTargetingOnDeadTarget: true



[projectile_3]
#missile
directDamage: 40
drawSize: 0.8
life: 240
speed: 0.3
targetSpeed: 6
trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:40
ballistic_height: 50
frame: 4

areaDamage: 160
areaRadius: 55

autoTargetingOnDeadTarget: true

[movement]
movementType: WATER
moveSpeed: 0.55
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.05

reverseSpeedPercentage:0.6
targetHeight:-8
targetHeightDrift: 0.1
maxTurnSpeed: 0.8
turnAcceleration: 0.05


[ai]


useAsTransport: false




