[core]
name: Ori_Base
displayText: Oriolus
displayDescription: Oriolus Warrior 
class: CustomUnitMetadata
price: 22000
maxHp: 800
mass: 4000

techLevel: 1
buildSpeed: 70s
#availableInDemo: true
copyFrom: ROOT:Unit_AI_Base.ini

radius: 9
displayRadius: 12

armour: 25

generation_credits: -25
generation_delay: 40

isBio: true
softCollisionOnAll: 2
selfRegenRate:0.15

#transportSlotsNeeded: 1



#energyMax: 10
#energyRegen: 0.03
#energyNeedsToRechargeToFull: true


autoTriggerCooldownTime: 0.1s

#showActionsWithMixedSelectionIfOtherUnitsHaveTag: Warlock






[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=780)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=740)
temporarilyAddTags: Retreat









[action_trigger_switchStaff]

convertTo: Ori_Staff_Land
buildSpeed: 4s
text: Switch to Staff
isVisible: true
isLocked: if not self.hasUnitInTeam(withTag='Armoury', greaterThan=0, withinRange=150)
whenBuilding_cannotMove: true
description: -Staff used to cast disrupting pulses at long range, cannot effect aircraft.\n-Quickly destroys shields.\n-Can trap enemies in place and disrupt formations.
#ai_isDisabled: if not self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0)
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: EGround=0
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: Ground=0






[action_trigger_switchTome]

convertTo: Ori_Tome_Land
buildSpeed: 4s
text: Switch to Tome
isVisible: true
isLocked: if not self.hasUnitInTeam(withTag='Armoury', greaterThan=0, withinRange=150)
whenBuilding_cannotMove: true
description: -The Tome is used to create an eldrich defence field around enemy units, which blocks their attacks. \n-Will explode when drained. \n-Can target land units while underwater. 
#ai_isDisabled: if self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_LD', greaterThan=0) or self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_LD', greaterThan=0) or self.hasUnitInTeam(withTag='Q_LD', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_LD', greaterThan=0)
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat2, upStat_UpdateAlly2

[hiddenAction_upStat2]
@copyFromSection: hiddenAction_Started
takeResources: EGround=0
[hiddenAction_upStat_UpdateAlly2]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: Ground=0





[action_trigger_switchBanner]

convertTo: Ori_Banner_Land
buildSpeed: 4s
text: Switch to Banner
isVisible: true
isLocked: if not self.hasUnitInTeam(withTag='Armoury', greaterThan=0, withinRange=150)
whenBuilding_cannotMove: true
description: -Banner used to cast a healing field around the mage \n- Also creates a damaging anti-stealth field that harms nearby enemies as well. \n-Heals faster when attacking.\n-Can fire at land units while swimming.
#ai_isDisabled: if self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) or self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0) or self.hasUnitInTeam(withTag='Q_LD', greaterThan=0)
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat3, upStat_UpdateAlly3

[hiddenAction_upStat3]
@copyFromSection: hiddenAction_Started
takeResources: EGround=0
[hiddenAction_upStat_UpdateAlly3]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: Ground=0








[graphics]
total_frames: 1

image:        MageTome.png
image_wreak:  NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:0.5
shadowOffsetY:0.5

animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 0

dustEffect: false

lock_body_rotation_with_main_turret: true
showEnergyBar: false




[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canAttackNotTouchingWaterUnits:true

turretSize: 1
turretTurnSpeed: 5

isFixedFiring: false

maxAttackRange: 350
shootDelay: 5

aimOffsetSpread: 0
isMelee: false








[effect_absorb]
life: 25

priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 3
scaleTo: 0

fadeInTime: 25
fadeOut: false

attachedToUnit: true

image: absorb.png

drawUnderUnits: false

#alpha:0.8



[effect_pulse]
life: 25
priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 0
scaleTo: 2

#fadeInTime: 25
fadeOut: true

attachedToUnit: true

image: pulse.png

drawUnderUnits: false

#alpha:0.8








[arm_1]
x:0
y:0
image_end:Tome.png
image_end_teamColors: true
drawOverBody: true




[movement]
movementType: OVER_CLIFF_WATER
moveSpeed: 1.5
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.1
targetHeight: 1
maxTurnSpeed: 6
turnAcceleration: 1.5

moveSlidingMode :false
moveIgnoringBody:true

[ai]

ai_upgradePriority: 0.4