
[core]
name: Ori_Tank
displayText: Assault Tank
displayDescription: -An armoured hover tank\n-Heavily armoured and armed with a powerful forward cannon.\n-can target stealth units.\n-Increases energy recharge rate of some nearby units.

class: CustomUnitMetadata
price: 40000
maxHp: 6500
mass: 100000

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-9, Water=-9, AG=-9, AA=-3, AS=-3, Armour=-1, AntiArmour=-3, AntiStealth=-1
tags: Unit, Ground3, Ground2, Ground, Water3, AG3, AA2, AS2, AntiArmour2, Armour, anti-stealth, AStealth, CanLead3, Support


experimental: false

techLevel: 2
buildSpeed: 65s
#availableInDemo: true

numBitsOnDeath: 15

transportSlotsNeeded: 10
armour: 12

generation_credits: -35
generation_delay: 40

radius: 30
displayRadius: 30

isBio: false
softCollisionOnAll: 0

effectOnDeath: CUSTOM:boom1, CUSTOM:boom2


[hiddenAction_Started]
takeResources: EGround=-14, EWater=-9, EAG=-12, EAA=-3, EAS=-3, EArmour=-3, EAntiArmour=-3, EAntiStealth=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-9, Water=-9, AG=-9, AA=-3, AS=-3, Armour=-1, AntiArmour=-3, AntiStealth=-1
[hiddenAction_Killed]
takeResources: EGround=14, EWater=9, EAG=12, EAA=3, EAS=3, EArmour=3, EAntiArmour=3, EAntiStealth=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=9, Water=9, AG=9, AA=3, AS=3, Armour=1, AntiArmour=3, AntiStealth=1
#TotalUnit=-1


[hiddenAction_TriggerHeal]
autoTrigger: true
fireTurretXAtGround: Healer
#fireTurretXAtGround_withOffset: 0,0


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=5000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=3500)
temporarilyAddTags: Retreat




[graphics]
total_frames: 1
teamColorsOnTurret: true
image:        Turret.png
image_wreak:  NONE
image_turret: AssaultTank.png

image_shadow: SHADOW:AssaultTank.png
shadowOffsetX:3
shadowOffsetY:3
#lock_body_rotation_with_main_turret: true



[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 260
shootDelay: 110

turretMultiTargeting: true
isFixedFiring: false







[turret_1]

#right gunning arm

x: 0
y: 0
projectile: 2
attachedTo: 2

slave: true

turnSpeed: 0
#turnSpeedAcceleration: 0.2

recoilOffset: -8
recoilOutTime: 5
recoilReturnTime: 35

canShoot: true

delay: 80
warmup: 15

shoot_sound:plasma_fire
shoot_sound_vol:0.2
warmupStartEffect: CUSTOM:absorb
shoot_flame:CUSTOM:pulse


canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
image: AssaultCannon.png

size: 30





[turret_2]
#cover body
x:0
y:0
canShoot: false
size: 0
turnSpeed: 1.5
turnSpeedAcceleration: 0.2

image: AssaultTank.png


image_applyTeamColors: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true



[turret_3]
#Pollaxe
x: 3
y: 0

#invisible: true
projectile: 1

turnSpeed: 4.0
turnSpeedAcceleration: 1.0

canShoot: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: true

shoot_sound:sound.ogg
shoot_sound_vol:0.1

shoot_light:#63e6e8

shoot_flame:CUSTOM:pulse

#warmupStartEffect: CUSTOM:absorb

canShoot: true
recoilOffset: -2
recoilOutTime: 4
recoilReturnTime: 6

delay: 20
warmup:0

attachedTo: 5
slave: true
image: barrel.png
limitingRange: 220


[turret_4]
x: -3
y: 0
copyFrom: 3
linkDelayWithTurret: 3
warmup: 10
warmupStartEffect: NONE
image: barrel.png




[turret_5]
x: 0
y: 0
image: Turret.png
canShoot: false
shouldResetTurret: true

turnSpeed: 5
delay: 120
limitingRange: 220






[projectile_1]
directDamage: 45
life: 50
speed: 9

trailEffect: false

image: shot.png
drawSize: 1

lightColor: #FF3695ff
lightSize: 0.5

largeHitEffect: true
instant:false





[projectile_2]
directDamage: 270
areaDamage: 60
areaRadius: 65
life: 80
speed: 4
targetSpeed: 14
targetSpeedAcceleration: 0.7

drawType:2
frame:4
drawSize: 1.4
trailEffect: CUSTOM:projectileTrail
trailEffectRate:2

#trailEffectRate: true

#lightColor:#ffffff

explodeEffect: CUSTOM:projectilePassThough, CUSTOM:pulse, CUSTOM:hitLightFlash

#explodeEffectOnShield: CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectileLight

deflectionPower: 4


[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.7
scaleTo: 0.7
alpha: 0.5
drawUnderUnits:true


[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:2
scaleFrom: 0.9
scaleTo: 0.4
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #63e6e8
fadeInTime:2
scaleFrom: 1.1
scaleTo: 0.9
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 2
scaleTo: 1
alpha: 0.6
drawUnderUnits:false

[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 35
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 2
scaleTo: 0
alpha: 1
drawUnderUnits:false
ySpeedRelative:2
atmospheric: true



[effect_boom1]
priority:high

image: SHARED:light_50.png
life: 45
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 4
scaleTo: 1
alpha: 0.8
drawUnderUnits:false


[effect_boom2]
priority:high

image: SHARED:light_50.png
life: 15
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1
scaleTo: 4
alpha: 0.6
drawUnderUnits:false





[effect_absorb]
life: 25

priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 3
scaleTo: 0

fadeInTime: 25
fadeOut: false

attachedToUnit: true

image: absorb.png

drawUnderUnits: false

#alpha:0.8



[effect_pulse]
life: 25
priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 0
scaleTo: 2

#fadeInTime: 25
fadeOut: true

attachedToUnit: true

image: pulse.png

drawUnderUnits: false

#alpha:0.8





[turret_Healer]
#nuke turret
canShoot: false

x: 0
y: 0
idleDir:0

invisible: true

shoot_sound:NONE
#shoot_sound_vol:0.5
#shoot_light:#FFEECCCC

delay: 0
warmup: 0

projectile: heal
size: 1

turnSpeed: 40



[projectile_heal]
directDamage: 0
areaDamage: 0
life: 1
deflectionPower: -1
explodeOnEndOfLife: true
areaRadius: 270
areaHitAirAndLandAtSameTime: true
instant: true
invisible: true
explodeEffect: NONE
hitSound: false

friendlyFire: only-ignoreEnemy
mutator1_ifUnitWithTags: RechargeOri
mutator1_addResourcesAreaHit: energy=0.3

mutator2_ifUnitWithTags: RechargeOri2
mutator2_addResourcesAreaHit: energy=0.15


#friendlyFire: false / friendlyFire: true / friendlyFire: only-ignoreEnemy

#[arm_1]
#x:0
#y:0
#image_end:AssaultTank.png
#image_end_teamColors: true
#drawOverBody: true



[movement]
movementType: HOVER
moveSpeed: 1
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.2

reverseSpeedPercentage:0.6

targetHeight: 5
targetHeightDrift: 3

maxTurnSpeed: 2
turnAcceleration: 0.25

moveSlidingMode :true
moveIgnoringBody:true
