
[core]
name: Ori_Monastery
displayText: Orbital Palace
displayDescription: Space station with anti-orbit defences. \n -well defended from orbital threats and limited bombardment abilities. \n -Can repair allied units.\n-Exceptionally long sight through fog of war.\n-Protects ground units with a laser defence.
class: CustomUnitMetadata
price: 145000
maxHp: 17500
mass: 20000
transportSlotsNeeded: 999

generation_credits: -50
generation_delay: 40

techLevel: 2
experimental: false

buildSpeed: 0.0002
#availableInDemo: true

copyFrom: ROOT:Orbital_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Orbit=-27, AO=-20, AA=-3, AG=-3, AntiArmour=-3, AS=-9, LD=-9
tags: orbital, anti-orbital, AOT, AntiOT, OrbitT, CanFollow, Station, CanLeadT, Obomb, AG2, AA2, AntiArmour2, LD3


fogOfWarSightRange: 100


radius: 60
#displayRadius: 11
isBio: false
softCollisionOnAll: 3

canOnlyBeAttackedByUnitsWithTags: orbital, anti-orbital

disableAllUnitCollisions: true

maxTransportingUnits: 0


#builtFrom_1_name: airFactory
#builtFrom_1_pos:  8
#builtFrom_2_name: airFactoryT2_c
#builtFrom_2_pos:  8
#builtFrom_3_name: airFactoryT3
#builtFrom_3_pos:  8


selfRegenRate: 0.5
maxShield: 17500
shieldRegen: 4
armour: 15





isBuilder: true

canRepairBuildings: true
canRepairUnits : true

exit_heightOffset : 600

canReclaimResources: false


autoRepair: true


nanoRange: 400


nanoRepairSpeed: 2
nanoBuildSpeed: 2


effectOnDeath: CUSTOM:boom1, CUSTOM:boom2


energyMax: 1
energyRegen: 0.05
energyNeedsToRechargeToFull: true



[hiddenAction_Started]
takeResources: EOrbit=-27, EAO=-20, EAA=-3, EAG=-3, EAntiArmour=-3, EAS=-9, ELD=-9
[hiddenAction_Started_UpdateAlly]
takeResources: Orbit=-27, AO=-20, AA=-3, AG=-3, AntiArmour=-3, AS=-9, LD=-9
[hiddenAction_Killed]
takeResources: EOrbit=27, EAO=20, EAA=3, EAG=3, EAntiArmour=3, EAS=9, ELD=9
[hiddenAction_Killed_UpdateAlly]
takeResources: Orbit=27, AO=20, AA=3, AG=3, AntiArmour=3, AS=9, LD=9
#TotalUnit=-1

[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=21000) and not numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=800)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=20000) or numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=500)
temporarilyAddTags: Retreat





[graphics]
total_frames: 1

image:        Fortress.png
image_wreak:  NONE
image_turret: NONE
icon_zoomed_out: mapOrbit.png


image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1



[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
#attackMovement: bomber
maxAttackRange: 900

turretMultiTargeting: true
aimOffsetSpread: 0.6




[turret_LD]
#bannerlaserdefence
x: 0
y: 0
canShoot: false
invisible: true


laserDefenceEnergyUse: 0.5

limitingRange: 300

size:1






[turret_nanoTurret]
x: 0
y: 0
warmup: 30
turnSpeed: 20
invisible: true
canShoot: true

isMainNanoTurret: true
canOnlyAttackUnitsWithTags: orbital





[turret_1]
#bomber
#invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: orbital



shoot_sound: plasma_fire
shoot_sound_vol:0.4
shoot_flame:large
shoot_light:#00b1ff

delay: 12
warmup: 15

shoot_flame:CUSTOM:pulse

warmupStartEffect: CUSTOM:absorb

projectile: 2
size: 30
turnSpeed: 0.4





[turret_2]
#missiles
x: 0
y: 0

projectile: 3

invisible: true


canShoot: true
turnSpeed: 5
turnSpeedAcceleration: 5

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canOnlyAttackUnitsWithoutTags: orbital

shoot_sound: missile_fire
shoot_sound_vol:0.15
shoot_flame:small
shoot_light:#FFEECCCC
delay: 130
warmup: 15
limitingRange: 260



[turret_3]
#turret
x: -30
y: 0
idleDir:-90
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: orbital

invisible: true


delay: 1
warmup: 15

shoot_sound:sound.ogg
shoot_sound_vol:0.1

shoot_light:#63e6e8

shoot_flame:CUSTOM:pulse

warmupStartEffect: CUSTOM:absorb

projectile: 1
size: 1.1
turnSpeed: 20


[turret_4]
x: 30
y: 0
copyFrom: 3
idleDir: 90



[turret_5]
x: 0
y: 30
copyFrom: 3
idleDir: 0

[turret_6]
x: 0
y: -30
copyFrom: 3
idleDir: 180





[projectile_1]
directDamage: 97
life: 100
speed: 12

trailEffect: false

image: largeShot.png

drawSize: 1.3

lightColor: #FF3695ff
lightSize: 0.5

largeHitEffect: true
instant:false

explodeEffect: CUSTOM:pulse
deflectionPower: -1



[projectile_2]
directDamage: 1300
areaDamage: 100
areaRadius: 100

life: 80
speed: 4
targetSpeed: 14
targetSpeedAcceleration: 0.7

drawType:2
frame:4
drawSize: 1.4
trailEffect: CUSTOM:projectileTrail
trailEffectRate:2

#trailEffectRate: true

#lightColor:#ffffff

explodeEffect: CUSTOM:projectilePassThough, CUSTOM:pulse, CUSTOM:hitLightFlash

#explodeEffectOnShield: CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectileLight
deflectionPower: -1
armourIgnoreAmount: 100



[projectile_3]
#missile
life: 600

image: shot.png
#targetGround: true
#targetGroundSpread: 100
directDamage: 300
speed: 35

trailEffect: false
areaDamage: 100
areaRadius: 150

deflectionPower: 15


[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.7
scaleTo: 0.7
alpha: 0.5
drawUnderUnits:true



[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:2
scaleFrom: 0.9
scaleTo: 0.4
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #63e6e8
fadeInTime:2
scaleFrom: 1.1
scaleTo: 0.9
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 2
scaleTo: 1
alpha: 0.6
drawUnderUnits:false

[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 35
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 2
scaleTo: 0
alpha: 1
drawUnderUnits:false
ySpeedRelative:2
atmospheric: true











[effect_boom1]
priority:high

image: SHARED:light_50.png
life: 45
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 4
scaleTo: 1
alpha: 0.8
drawUnderUnits:false


[effect_boom2]
priority:high

image: SHARED:light_50.png
life: 15
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1
scaleTo: 4
alpha: 0.6
drawUnderUnits:false



[effect_absorb]
life: 25

priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 3
scaleTo: 0

fadeInTime: 25
fadeOut: false

attachedToUnit: true

image: absorb.png

drawUnderUnits: false

#alpha:0.8



[effect_pulse]
life: 25
priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 0
scaleTo: 2

#fadeInTime: 25
fadeOut: true

attachedToUnit: true

image: pulse.png

drawUnderUnits: false

#alpha:0.8





[movement]
movementType: AIR
moveSpeed: 0.4
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

landOnGround: false
targetHeight: 600

maxTurnSpeed: 0.1
turnAcceleration: 0.005

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  45


slowDeathFall: true


[ai]
useAsBuilder: true






[ai]

buildPriority: 0.8


