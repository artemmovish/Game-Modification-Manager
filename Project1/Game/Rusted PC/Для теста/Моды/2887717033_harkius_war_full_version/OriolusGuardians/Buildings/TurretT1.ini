[core]
name: Ori_Turret
displayText: Oriolus Turret
displayDescription: -An advanced defence turret. \n-Requires multiple extractors or fabricators to sustain (uses 12 EtherPower).\n-Upgradable.
class: CustomUnitMetadata
price: 3500
maxHp: 3000
mass: 9000

generation_credits: -5
generation_delay: 40
borrowResourcesWhileAlive: etherPower=12

copyFrom: TurretT2.ini

tags: Building, Turret3, AG2, AA2, AntiArmour, Armour, anti-stealth


armour: 5



techLevel: 1
buildSpeed: 220s
selfBuildRate: 48s

selfRegenRate:0.3



effectOnDeath: CUSTOM:boom1, CUSTOM:boom2



[hiddenAction_die]
addResources: credits=3500, hp=-9999



[hiddenAction_Started]
takeResources: EAG=-3, EAA=-3, EAntiArmour=-3, EAntiStealth=-1, EAS=-1, EArtillery=-1, ETurret=-9, EAntiLD=-3, EArmour=-3
[hiddenAction_Started_UpdateAlly]
takeResources: AG=0
[hiddenAction_Killed]
takeResources: EAG=3, EAA=3, EAntiArmour=9, EAntiLD=3, EAntiStealth=1, EAS=1, EArtillery=1, ETurret=9, EAntiLD=9, EArmour=3
[hiddenAction_Killed_UpdateAlly]
takeResources: AG=0
#TotalUnit=-1


[action_upgrade]
text: upgrade
description: -Increases Fire Rate \n-Increases Range \n-Adds a powerful crystal-cannon \n-Upgraded turret will not return full cost if Ether power is drained. 
price: 10000
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
displayType: Upgrade
buildSpeed: 90s
convertTo: Ori_TurretT2
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: EAG=-3, EAA=-3, EAntiArmour=-3, EArtillery=-2, ETurret=-7, EAntiLD=-6, EArmour=-2
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AG=-3, AA=-3, AntiArmour=-9, AntiLD=-3, AntiStealth=-1, AS=-1



[graphics]
total_frames: 1
image:        turretBase.png
image_back: NONE
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 300
shootDelay: 40
turretMultiTargeting: false



[turret_1]
#right gunning arm
x: 7
y: 10
projectile: 1
attachedTo: 4
slave: true

shoot_sound:sound.ogg
shoot_sound_vol:0.1

shoot_light:#63e6e8

shoot_flame:CUSTOM:pulse

warmupStartEffect: CUSTOM:absorb

canShoot: true

delay: 10
warmup:10


image: rightGun.png
size: 20

canShoot: true

recoilOffset: -3
recoilOutTime: 5
recoilReturnTime: 10





[turret_2]

#right gunning arm

x: -7
y: 10
projectile: 1
attachedTo: 4
slave: true

copyFrom: 1

linkDelayWithTurret: 1
warmup: 5






[turret_3]
#right gunning arm
x: 0
y: 8
invisible: true
canShoot: false






[turret_4]
x: 0
y: 12

turnSpeed: 3
turnSpeedAcceleration: 0.5
canShoot: false
image: turret.png










[global_resource_etherPower]
displayName: EtherPower
displayNameShort: EP
displayColor: #63e6e8




[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1





[ai]

#buildPriority: 0.1

noneInBaseExtraPriority: 0.1

noneGlobalExtraPriority: 0.3



