
[core]
name: Ori_Teleporter
displayText: Teleporter
displayDescription: -Even the most advanced civilisations cannot reliably perform battlefield teleportation. The Oriolus are the exception. \n-Summons heavy units and aircraft.
class: CustomUnitMetadata
price: 6000
maxHp: 2500
mass: 9000

copyFrom: ROOT:Building_AI_Base.ini
tags: NoCap, Factory, Building


#footprint used for collisions with units (left, up, right, down)
footprint: -2,-1,1,1
#used for placement, and placement of other buildings
constructionFootprint: -2, -1, 1, 1

buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0


techLevel: 1
buildSpeed: 35s
#availableInDemo: true

radius: 35
#displayRadius: 35
isBio: false
isBuilding: true




disableAllUnitCollisions: true





armour: 3


exit_x: 0
exit_y: -1

softCollisionOnAll: 3

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5





effectOnDeath: CUSTOM:boom1, CUSTOM:boom2


[canBuild_rally]
name: setRally
pos: -1
#isLocked: false
#isLockedMessage: NONE
#isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)


[canBuild_1]
name: Ori_Smith
pos: 1
isLocked: if self.isControlledByAI() and self.hasUnitInTeam(withTag='builder', greaterThan=2, withinRange=800)

[canBuild_Glider]
name: Ori_Glider
pos: 1

[canBuild_Drone]
name: Ori_Drone
pos: 2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and self.hasUnitInTeam(withTag='Small', greaterThan=4) and not self.hasResources(credits=50000)


[canBuild_3]
name: Ori_PodAA
pos: 3
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and self.hasUnitInTeam(withTag='Air', greaterThan=5) and not self.hasResources(credits=50000)


[canBuild_4]
name: Ori_Mobile, Ori_Tank
pos: 4
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiArmour', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiStealth', greaterThan=0) and self.hasUnitInTeam(withTag='Q_Shield', greaterThan=0) and self.hasUnitInTeam(withTag='Q_LD', greaterThan=0)


[canBuild_Bolt]
name: Ori_Thunderbolt
pos: 5
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiStealth', greaterThan=0) and self.hasUnitInTeam(withTag='Q_Subs', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AntiArmour', greaterThan=0)

[canBuild_ShieldPod]
name: Ori_MegaPod
pos: 5
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Shield', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AO', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_LD', greaterThan=0)

[canBuild_Warwolf]
name: Ori_Arbalast
pos: 5


[canBuild_6]
name: Ori_Dropship_Air, Ori_Colossus
pos: 6




[hiddenAction_FinishBuild]
buildSpeed: 0.1s
addResources: unsetFlag=1


[hiddenAction_builder1]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=0, withinRange=800) and not self.hasUnitInTeam(withTag='builder', greaterThan=20) and self.hasResources(credits=7000) and not self.hasFlag(id=1) or self.isControlledByAI() and self.numberOfUnitsInTeam(withTag='NeedFix', withinRange=500) > self.numberOfUnitsInTeam(withTag='builder', withinRange=600) and self.hasResources(credits=20000) and not self.hasUnitInTeam(withTag='builder', greaterThan=50) and not self.hasFlag(id=1)
alsoQueueAction: builder2
addResources: setFlag=1, credits=-1000

[hiddenAction_builder2]
buildSpeed: 15s
#addResources: credits=-1000
alsoQueueAction: FinishBuild
spawnUnits: Ori_Smith




[hiddenAction_Attack1]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='HeavyArmour', greaterThan=0) and not self.hasUnitInTeam(withTag='BuildingArmour', greaterThan=0) and self.hasResources(credits=50000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
alsoQueueAction: Attack2
addResources: setFlag=1, credits=-40000
temporarilyAddTags: BuildingArmour

[hiddenAction_Attack2]
buildSpeed: 65s
#addResources: credits=-40000
alsoQueueAction: FinishBuild
spawnUnits: Ori_Tank
temporarilyRemoveTags: BuildingArmour




[hiddenAction_Attack4]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='MobArm', greaterThan=0) and not self.hasUnitInTeam(withTag='BuildingMobile', greaterThan=0) and self.hasResources(credits=40000) and not self.hasFlag(id=1)
alsoQueueAction: Attack5
addResources: setFlag=1, credits=-30000
temporarilyAddTags: BuildingMobile

[hiddenAction_Attack5]
buildSpeed: 45s
#addResources: credits=-30000
alsoQueueAction: FinishBuild
spawnUnits: Ori_Mobile
temporarilyRemoveTags: BuildingMobile




[hiddenAction_Attack7]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AO', greaterThan=0) and self.hasUnitInTeam(withTag='Q_LD', greaterThan=0) and self.hasUnitInTeam(withTag='Q_Shield', greaterThan=0) and self.hasResources(credits=60000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0)
alsoQueueAction: Attack8
addResources: setFlag=1, credits=-50000


[hiddenAction_Attack8]
buildSpeed: 70s
#addResources: credits=-50000
alsoQueueAction: FinishBuild
spawnUnits: Ori_MegaPod





[hiddenAction_EndgameTank4]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=800000) and not self.hasUnitInTeam(withTag='Titan', greaterThan=2) and not self.hasFlag(id=1)
alsoQueueAction: EndgameTank5
addResources: setFlag=1, credits=-450000

[hiddenAction_EndgameTank5]
buildSpeed: 250s
alsoQueueAction: Endgame6
spawnUnits: Ori_Colossus

[hiddenAction_Endgame6]
buildSpeed: 0.1s
addResources: unsetFlag=1





[graphics]
total_frames: 1

image:        teleporterTop.png
image_back: NONE
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 0
shootDelay: 100







[effect_boom1]
priority:high

image: SHARED:light_50.png
life: 45
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 4
scaleTo: 1
alpha: 0.8
drawUnderUnits:false


[effect_boom2]
priority:high

image: SHARED:light_50.png
life: 15
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1
scaleTo: 4
alpha: 0.6
drawUnderUnits:false


[arm_1]
x: 0
y: 5
image_end: teleporter.png
image_end_teamColors: true
drawOverBody: false
drawUnderAllUnits: true




[arm_2]
x: 0
y: 9
drawOverBody: true
drawUnderAllUnits: false
spinRate: -16
image_end: ROOT:Dardarndroes/Navy/Vortex/Spin.png


[arm_3]
x: 0
y: 9
image_end: ROOT:Dardarndroes/Navy/Vortex/Glow.png
drawOverBody: true
drawUnderAllUnits: false
#spinRate: -2



[arm_4]
x: 0
y: 9
image_end: SHARED:light_50.png
drawOverBody: true
drawUnderAllUnits: false
#spinRate: -2



[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

buildPriority: 0.06

noneInBaseExtraPriority: 0.2

noneGlobalExtraPriority: 0.55

maxEachBase: 1





