
[core]
name: Ori_Armoury2
displayText: Mechanised Armoury
displayDescription: -A weapons store for Oriolus infantry. \n-Can build anti-nukes. \n-Can re-arm the Warwolf Seige Knights.
class: CustomUnitMetadata
price: 8500
maxHp: 3500
mass: 9000

copyFrom: ROOT:Building_AI_Base.ini
tags: Armoury, Building, Repair, ArmouryUp, antinuke


#footprint used for collisions with units (left, up, right, down)
footprint: -1,-1,0,0
#used for placement, and placement of other buildings
constructionFootprint: -1, -1, 0, 0

buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0


techLevel: 1
buildSpeed: 0.001
#availableInDemo: true

radius: 35
#displayRadius: 35
isBio: false
isBuilding: true


armour: 5



disableAllUnitCollisions: true








exit_x: 0
exit_y: -1

softCollisionOnAll: 3

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5



effectOnDeath: CUSTOM:boom1, CUSTOM:boom2



canRepairBuildings: true
canRepairUnits : true


canReclaimResources: true


autoRepair: true


nanoRange: 270
selfRegenRate:0.2

nanoRepairSpeed: 1.25
nanoBuildSpeed: 1





[action_buildAntiNuke]
price:  4000
text: i:gui.actions.buildAntiNuke
description: Builds anti-nuke interceptor missiles. \n-Max of 6 in storage. 
displayType: NONE
buildSpeed: 20s
pos: 0.2
isActive:if self.ammoIncludingQueued(lessThan=6)
addResources: ammo=1

ai_isDisabled: if self.ammo(greaterThan=0) and not self.NumberOfUnitsInEnemyTeam(withTag='NukeLauncher', greaterThan=0) and not self.hasResources(credits=20000)
isLocked: if not game.nukesEnabled()


[action_showAntiNukeCount]
#infoOnly: true
addResources: ammo=1
price:  ammo=1
text: i:gui.actions.antiNukeCount
description:i:gui.actions.antiNukeCount.description
displayType: none
buildSpeed: 0s
pos: 0.1
displayRemainingStockpile: true
highPriorityQueue: true
isActive:false
isVisible: if game.nukesEnabled()


[hiddenAction_AntiN]
autoTrigger: if self.isControlledByAI() and self.ammo(lessThan=1) and self.hasResources(credits=15000) and not self.hasFlag(id=1) and game.nukesEnabled()
alsoQueueAction: AntiN2
addResources: setFlag=1, credits=-4000

[hiddenAction_AntiN2]
buildSpeed: 20s
alsoQueueAction: AntiN3
addResources: ammo=1

[hiddenAction_AntiN3]
buildSpeed: 2s
addResources: unsetFlag=1




[graphics]
total_frames: 1

image:        ArmouryUpgrade.png
image_back: armouryFloor.png
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 0
shootDelay: 150


[turret_nanoTurret]
#right arm
x: 0
y: 0
warmup:30

turnSpeed: 1
size: 8


canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isMainNanoTurret: true


[turret_silo]
#anti-nuke turret
x: 30
y: 25
idleDir:0

invisible: true


interceptProjectiles_withTags: nuke
interceptProjectiles_andTargetingGroundUnderDistance: 1000
interceptProjectiles_andUnderDistance: 1400
interceptProjectiles_andOverHeight:50


shoot_sound:nuke_launch
shoot_sound_vol:0.15
shoot_light:#FFEECCCC

projectile: antiNukeProjectile
size: 1

turnSpeed: 40

resourceUsage: ammo=1

shoot_flame:shockwave, smoke
#shoot_flame:custom:nukeLaunch



[projectile_antiNukeProjectile]
#anti-nuke
directDamage: 600

life: 99999
speed: 0.2
targetSpeed: 7
targetSpeedAcceleration:0.05

trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
frame: 10
#shadowFrame:1

drawType:0

targetGround: true
areaDamage: 100
areaRadius: 60

areaExpandTime:75

deflectionPower:-1


lightColor: #FFEEEE00
lightSize: 1

alwaysVisibleInFog: true





[effect_boom1]
priority:high

image: SHARED:light_50.png
life: 45
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 4
scaleTo: 1
alpha: 0.8
drawUnderUnits:false


[effect_boom2]
priority:high

image: SHARED:light_50.png
life: 15
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1
scaleTo: 4
alpha: 0.6
drawUnderUnits:false



[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

#buildPriority: 0.06

#noneInBaseExtraPriority: 0.2

#noneGlobalExtraPriority: 0.5

#maxEachBase: 1

useAsBuilder: true

#ai_upgradePriority: 0.4

upgradedFrom: Ori_Armoury
