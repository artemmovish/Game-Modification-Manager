[core]
name: Ori_Lance_Land
displayText: Knight (Lance equip)
displayDescription: The Oriolus Knights were the most feared assault infantry in existance, at least at the peak of their powera. \n -mainstay infantry, can switch weapons near armoury. \n -Can swim underwater. \n-The Lance is something of a sniper weapon. Very weak, but it has immense range. \n-Strong melee power.\n-Lance can fire between the water and land freely.\n-Drains laser defences rapidly.
class: CustomUnitMetadata
price: 10000
maxHp: 650
mass: 4000

techLevel: 1

#availableInDemo: true
copyFrom: WarriorBase.ini

armour: 0
fogOfWarSightRange: 35

unitsSpawnedOnDeath: Ori_Lance_Heal


borrowResourcesWhileAlive: Ground=-3, Cliff=-3, Water=-3, AntiNavy=-2, AG=-2, AA=-2, AS=-6, Artillery=-3, Armour=-1, AntiLD=-4
tags: Unit, Ground2, Cliff2, Water, Antinavy, AG, AA, AS2, Range2, Armour, ALD2, ALD, CanLead1, Knight



[hiddenAction_Started]
takeResources: EGround=-3, ECliff=-3, EWater=-1, EAntiNavy=-2, EAG=-3, EAA=-3, EAS=-6, EArtillery=-3, EArmour=-1, EAntiLD=-4
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-3, Cliff=-3, Water=-3, AntiNavy=-2, AG=-3, AA=-3, AS=-6, Artillery=-3, Armour=-3, AntiLD=-4
[hiddenAction_Killed]
takeResources: EGround=3, ECliff=3, EWater=1, EAntiNavy=2, EAG=3, EAA=3, EAS=6, EArtillery=3, EArmour=1, EAntiLD=4
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=3, Cliff=3, Water=3, AntiNavy=2, AG=3, AA=3, AS=6, Artillery=3, Armour=3, AntiLD=4
#TotalUnit=-1

[action_trigger_onWater]
autoTrigger: if self.overWater()

convertTo: Ori_Lance_Water
buildSpeed: 0
text: TRIGGER
isVisible: false






[action_trigger_switchLance]
isActive: false
#isVisible: false




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=640)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=600)
temporarilyAddTags: Retreat



[hiddenAction_upStat]
takeResources: EAntiNavy=-1, EAS=4, EArmour=-2, EAntiLD=4
[hiddenAction_upStat_UpdateAlly]
takeResources: AntiNavy=-1, AS=4, AntiLD=4




[hiddenAction_upStat2]
takeResources: EAG=1, EAA=1, EAS=-4, EAntiArmour=-1, EArmour=-5, EArtillery=2, EAntiLD=-4
[hiddenAction_upStat_UpdateAlly2]
takeResources: AG=1, AA=1, AS=-4, AntiArmour=-1, Armour=-5, Artillery=2, AntiLD=-4



[hiddenAction_upStat3]
takeResources: EWater=2, EAntiNavy=-3, EAG=-6, EAA=3, EAS=4, EAntiArmour=-5, EArmour=2, AntiLD=4
[hiddenAction_upStat_UpdateAlly3]
takeResources: AntiNavy=1, AG=-6, AA=3, AS=4, AntiArmour=-5, AntiLD=4





[graphics]
total_frames: 1

image:        KnightLance.png
image_wreak:  NONE
image_turret: NONE

showEnergyBar: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits:true

turretSize: 1
turretTurnSpeed: 5

isFixedFiring: false

maxAttackRange: 525
shootDelay: 5

aimOffsetSpread: 0
isMelee: false


[turret_1]
#Pollaxe
x: 4
y: 5

#invisible: true
projectile: 1

turnSpeed: 4.0
turnSpeedAcceleration: 1.0

canShoot: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: true

shoot_sound:ROOT:Audio/OriShot.ogg
shoot_sound_vol:0.1

shoot_light:#63e6e8

shoot_flame:CUSTOM:pulse

warmupStartEffect: CUSTOM:absorb

canShoot: true


delay: 1.5s
warmup:15



[turret_2]
x:4
y:5
canShoot: true
invisible: true
turnSpeed: 25
projectile: 2

warmup:30
delay:30

shoot_sound: NONE
shoot_sound_vol:0
shoot_flame:NONE

canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turnSpeed: 40.0
turnSpeedAcceleration: 40.0

limitingRange: 115



[projectile_2]
directDamage: 190
speed: 1
life: 5
instant: true
largeHitEffect: true
deflectionPower: -1
armourIgnoreAmount: 15
instantReuseLast: true

#hitSound: false
explodeEffect: CUSTOM:slash






[projectile_1]
directDamage: 75
life: 100
speed: 15

trailEffect: false

image: shotFast.png

lightColor: #FF3695ff
lightSize: 0.5

largeHitEffect: true
instant:false

deflectionPower: 10








[arm_1]
image_end:Lance.png


