
[core]
name: Ori_KnightBase
displayText: Knight
displayDescription: The Oriolus Knights were the most feared assault infantry in existance, at least at the peak of their power. 
class: CustomUnitMetadata
price: 10000
maxHp: 1000
mass: 4000

techLevel: 1
buildSpeed: 60s
#availableInDemo: true

copyFrom: ROOT:Unit_AI_Base.ini

radius: 9
displayRadius: 12


armour: 15
fogOfWarSightRange: 15

generation_credits: -14
generation_delay: 40


isBio: true
softCollisionOnAll: 2
selfRegenRate:0.15


autoTriggerCooldownTime: 0.1s


#showActionsWithMixedSelectionIfOtherUnitsHaveTag: Knight






[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=950)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=900)
temporarilyAddTags: Retreat







[action_trigger_switchPollaxe]

convertTo: Ori_Pollaxe_Land
buildSpeed: 3s
text: Switch to Pollaxe
isVisible: true
isLocked: if not self.hasUnitInTeam(withTag='Armoury', greaterThan=0, withinRange=150)
whenBuilding_cannotMove: true
description: -Pollaxe is a well rounded weapon with a good combination of range, firepower and melee potential.\n-Fires in a 3-shot burst.
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: EGround=0
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: Ground=0


[action_trigger_switchFlail]

convertTo: Ori_Flail_Land
buildSpeed: 3s
text: Switch to Flail
isVisible: true
isLocked: if not self.hasUnitInTeam(withTag='Armoury', greaterThan=0, withinRange=150)
whenBuilding_cannotMove: true
description: -The flail can be launched and recalled over decreased ranges and will release a pulse of energy that ignores laser defences. \n-Armed with a backup weapon. \n-Strong vs groups. Weak vs heavy armour.
ai_isDisabled: if self.hasUnitInTeam(withTag='Q_AntiArmour', greaterThan=0) and self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and self.hasUnitInTeam(withTag='Q_Subs', greaterThan=0)
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat2, upStat_UpdateAlly2

[hiddenAction_upStat2]
@copyFromSection: hiddenAction_Started
takeResources: EGround=0
[hiddenAction_upStat_UpdateAlly2]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: Ground=0


[action_trigger_switchClaymore]

convertTo: Ori_Claymore_Land
buildSpeed: 3s
text: Switch to Claymore
isVisible: true
isLocked: if not self.hasUnitInTeam(withTag='Armoury', greaterThan=0, withinRange=150)
whenBuilding_cannotMove: true
description: -The Claymore is a heavy cannon with slightly decreaased range, high power and slow fire rate. \n-Extremely high melee damage. \n-Strong vs heavy armour, cannot attack aircraft.
ai_isDisabled: if not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) or not self.hasUnitInTeam(withTag='Q_AntiArmour', greaterThan=0)
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat3, upStat_UpdateAlly3

[hiddenAction_upStat3]
@copyFromSection: hiddenAction_Started
takeResources: EGround=0
[hiddenAction_upStat_UpdateAlly3]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: Ground=0


[action_trigger_switchLance]

convertTo: Ori_Lance_Land
buildSpeed: 3s
text: Switch to Lance
isVisible: true
isLocked: if not self.hasUnitInTeam(withTag='Armoury', greaterThan=0, withinRange=150)
whenBuilding_cannotMove: true
description: -The Lance is something of a sniper weapon. It is not very strong, but it has immense range. \n-Average melee power.\n-Lance can fire between the water and land freely.\n-Drains laser defences rapidly.
ai_isDisabled: if not self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Subs', greaterThan=0)
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat4, upStat_UpdateAlly4

[hiddenAction_upStat4]
@copyFromSection: hiddenAction_Started
takeResources: EGround=0
[hiddenAction_upStat_UpdateAlly4]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: Ground=0









[graphics]
total_frames: 1

image:        KnightPollaxe.png
image_wreak:  NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:0.5
shadowOffsetY:0.5

animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 0

dustEffect: false

lock_body_rotation_with_main_turret: true
showEnergyBar: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canAttackNotTouchingWaterUnits:true

turretSize: 1
turretTurnSpeed: 5

isFixedFiring: false

maxAttackRange: 350
shootDelay: 5

aimOffsetSpread: 0
isMelee: false






[effect_slash]
priority:high

#alwayStartDirAtZero: true

image: slash.png
total_frames: 9
animateFrameStart: 0
animateFrameEnd: 7
animateFramePingPong: false
animateFrameSpeed: 0.5


life: 10
fadeOut: false
attachedToUnit: false

scaleFrom: 2
scaleTo: 2
alpha: 1
drawUnderUnits:false










[effect_absorb]
life: 25

priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 3
scaleTo: 0

fadeInTime: 25
fadeOut: false

attachedToUnit: true

image: absorb.png

drawUnderUnits: false

#alpha:0.8



[effect_pulse]
life: 25
priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 0
scaleTo: 2

#fadeInTime: 25
fadeOut: true

attachedToUnit: true

image: pulse.png

drawUnderUnits: false

#alpha:0.8




[arm_1]
x:0
y:0
image_end:Pollaxe.png
image_end_teamColors: true
drawOverBody: true


[movement]
movementType: OVER_CLIFF_WATER
moveSpeed: 1.7
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.1
targetHeight: 1
maxTurnSpeed: 6
turnAcceleration: 1.5

moveSlidingMode :false
moveIgnoringBody:true



[ai]

ai_upgradePriority: 0.4
