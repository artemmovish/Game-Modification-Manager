
[core]
name: Ori_PodAG
displayText: Gunship Pod
displayDescription: A combat pod. Simple and effective. \n -Can switch between anti-air and anti-ground modes at will.
class: CustomUnitMetadata

price: 2400
maxHp: 650
mass: 700


copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Air=-1, AG=-1
tags: Unit, Air, AG


techLevel: 1
experimental: false

buildSpeed: 0.0022




radius: 15
displayRadius: 15




transportSlotsNeeded: 1


isBio: false
selfRegenRate:0.2



[hiddenAction_Started]
takeResources: EAir=-1, EAG=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Air=-1, AG=-1
[hiddenAction_Killed]
takeResources: EAir=1, EAG=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Air=1, AG=1
#TotalUnit=-1



[action_trigger_switchSlow]

convertTo: Ori_PodAA
buildSpeed: 20s
text: mode change
isVisible: true
isLocked: if self.hasUnitInTeam(withTag='Armoury', greaterThan=0, withinRange=150)
whenBuilding_cannotMove: false
ai_isDisabled: if self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) or not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0)

alsoTriggerAction: upStat, upStat_UpdateAlly



[action_trigger_switchFast]

convertTo: Ori_PodAA
buildSpeed: 2s
text: Fast mode change
isVisible: true
isLocked: if not self.hasUnitInTeam(withTag='Armoury', greaterThan=0, withinRange=150)
whenBuilding_cannotMove: true
ai_isDisabled: if self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) or not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0)

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: EAG=1, EAA=-1
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AG=1, AA=-1





[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=630)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=600)
temporarilyAddTags: Retreat






[graphics]
total_frames: 1
teamColorsOnTurret: true
image:        PodGunship.png
image_wreak: NONE
image_turret: NONE



image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

lock_body_rotation_with_main_turret: true


[attack]

canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretRotateWithBody: true

turretSize: 20
turretTurnSpeed: 3

maxAttackRange: 260
shootDelay: 30


[turret_1]
invisible: true
x: 0
y: 0
idleDir:0

projectile: 1
size: 35
turnSpeed: 3
turnSpeedAcceleration: 1

canShoot: true

delay: 40
warmup: 15

shoot_sound:plasma_fire
shoot_sound_vol:0.1
shoot_light:#63e6e8

shoot_flame:CUSTOM:pulse

warmupStartEffect: CUSTOM:absorb




[projectile_1]
directDamage: 80
life: 100
speed: 20

trailEffect: false

image: shotFast.png

lightColor: #FF3695ff
lightSize: 0.5

largeHitEffect: true
instant:false

deflectionPower: 1





[effect_absorb]
life: 25

priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 3
scaleTo: 0

fadeInTime: 25
fadeOut: false

attachedToUnit: true

image: absorb.png

drawUnderUnits: false

#alpha:0.8



[effect_pulse]
life: 25
priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 0
scaleTo: 2

#fadeInTime: 25
fadeOut: true

attachedToUnit: true

image: pulse.png

drawUnderUnits: false

#alpha:0.8





[movement]
movementType: AIR
moveSpeed: 1.7
moveAccelerationSpeed: 0.2
moveDecelerationSpeed: 0.3

maxTurnSpeed: 2
turnAcceleration: 0.4

reverseSpeedPercentage: 0

targetHeight: 50
targetHeightDrift: 10

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181


slowDeathFall: true



[ai]


ai_upgradePriority: 0.3



