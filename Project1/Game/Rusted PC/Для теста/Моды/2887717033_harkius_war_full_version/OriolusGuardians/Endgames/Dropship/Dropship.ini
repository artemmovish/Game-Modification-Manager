[core]
name: Ori_Dropship_Air
displayText: Crusader Dropship
displayDescription: Built to maintain and produce the equipment of roaming Oriolus groups, and house the soldiers. \n-Laser defence is more potent when landed. \n-Heavily Armoured with shields and heavy anti-stealth weapons. \n Can repair units when carrying them. \n-Builds units faster on the ground, and slower in orbit. \n-Cannot target some weaker units while airborne.\n-Able to build and use anti-nukes when not in orbit. 
class: CustomUnitMetadata
price: 270000
maxHp: 8000
mass: 99999999

techLevel: 1
experimental: true

buildSpeed: 150s
#availableInDemo: true

isPickableStartingUnit: true
startFallingWhenStartingUnit: true


disableAllUnitCollisions: true


copyFrom: ROOT:Dropship_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Air=-27, AG=-27, AA=-27, AntiArmour=-27, AS=-9, AntiStealth=-9, Orbit=-9, AO=-3, AntiLD=-9, LD=-27
tags: Unit, AirT, AGT, AAT, AntiArmourT, NoCap, Factory, CanFollow, Titan, Gabr, anti-stealth, AS3, AStealth3, CanFollow, Orbit3, AO2, ALD3, LDT, RechargeOri, armoury



radius: 70
#displayRadius: 90
isBio: false
softCollisionOnAll: 3
fogOfWarSightRange:35

maxShield: 6000
shieldRegen: 0.3
selfRegenRate:0.1


energyMax: 10
energyRegen: 0.0015
energyNeedsToRechargeToFull: true






exit_dirOffset:0
exit_moveAwayAmount:250

maxTransportingUnits: 30
transportUnitsHealBy: 0.5
#transportUnitsBlockAirAndWaterUnits: false
#transportUnitsRequireMovementType: AIR, LAND, OVER_CLIFF, OVER_CLIFF_WATER, HOVER
transportUnitsUnloadDelayBetweenEachUnit: 0.1
transportUnitsBlockOtherTransports: false


effectOnDeath: CUSTOM:boom1, CUSTOM:boom2


#canRepairBuildings: true
#canRepairUnits : true

#autoRepair: true
#isBuilder: true

#nanoRange: 200

nanoFactorySpeed:1
#nanoRepairSpeed: 0.6
#nanoBuildSpeed: 2

generation_credits: 20
generation_delay: 40

nukeOnDeath: true
nukeOnDeathRange: 400
nukeOnDeathDamage: 2000
nukeOnDeathDisableWhenNoNuke: true




canBuild_1_name: Ori_Smith
canBuild_1_pos:  1

canBuild_2_name: Ori_Scout, Ori_Pollaxe_Land, Ori_Staff_Land, Ori_Arbalast
canBuild_2_pos:  1

canBuild_3_name: Ori_Mobile, Ori_Tank, Ori_Glider,Ori_PodAA, Ori_Thunderbolt, Ori_MegaPod
canBuild_3_pos:  1


[hiddenAction_Started]
takeResources: EAir=-27, EAG=-27, EAA=-27, EAntiArmour=-27, EAS=-9, EAntiStealth=-9, EOrbit=-9, EAO=-3, EAntiLD=-9, ELD=-27
[hiddenAction_Started_UpdateAlly]
takeResources: Air=-27, AG=-27, AA=-27, AntiArmour=-27, AS=-9, AntiStealth=-9, Orbit=-9, AO=-3, AntiLD=-9, LD=-27
[hiddenAction_Killed]
takeResources: EAir=27, EAG=27, EAA=27, EAntiArmour=27, EAS=9, EAntiStealth=9, EOrbit=9, EAO=3, EAntiLD=9, ELD=27
[hiddenAction_Killed_UpdateAlly]
takeResources: Air=27, AG=27, AA=27, AntiArmour=27, AS=9, AntiStealth=9, Orbit=9, AO=3, AntiLD=9, LD=27
#TotalUnit=-1



[hiddenAction_Warning]
autoTriggerOnEvent: completeAndActive

showMessageToAllEnemyPlayers: Enemy Crusader-Dropship detected



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=7500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=5500)
temporarilyAddTags: Retreat



[action_land]
convertTo: Ori_Dropship_Land
autoTrigger: if not self.flying
isVisible: false
highPriorityQueue: true


[action_orbital]
text: Engage Boosters
buildSpeed: 1s
convertTo: Ori_Dropship_Orbit
isVisible: true
highPriorityQueue: true
pos: 0.1
ai_isDisabled: true




[action_buildAntiNuke]
price:  4500
text: i:gui.actions.buildAntiNuke
description: Builds anti-nuke interceptor blasts. \n-Max of 4 in storage. 
displayType: NONE
buildSpeed: 55s
pos: 0.2
isActive:if self.ammoIncludingQueued(lessThan=4)
addResources: ammo=1
isLocked: if not game.nukesEnabled()
ai_isDisabled: if self.ammo(greaterThan=4)



[action_showAntiNukeCount]
#infoOnly: true
addResources: ammo=1
price:  ammo=1
text: i:gui.actions.antiNukeCount
description:i:gui.actions.antiNukeCount.description
displayType: none
buildSpeed: 0s
pos: 0.1
displayRemainingStockpile: true
highPriorityQueue: true
isActive:false





[graphics]
drawLayer: experimentals

total_frames: 1

image:        Dropship.png
image_wreak:  NONE
image_turret: NONE
icon_zoomed_out: MapX.png

image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretSize: 18
turretTurnSpeed: 4
maxAttackRange: 300
shootDelay: 5
turretMultiTargeting: true





[turret_silo]
#anti-nuke turret
x: 0
y: 50
idleDir:0

invisible: true
canShoot: false

interceptProjectiles_withTags: nuke
interceptProjectiles_andTargetingGroundUnderDistance: 500
interceptProjectiles_andUnderDistance: 520
interceptProjectiles_andOverHeight:1


shoot_sound:large_gun_fire2
shoot_sound_vol:0.15
shoot_light:#00b1ff

projectile: antiNukeProjectile
size: 1

turnSpeed: 40

resourceUsage: ammo=1

shoot_flame:shockwave
#shoot_flame:custom:nukeLaunch





[projectile_antiNukeProjectile]
directDamage: 200
life: 15
speed: 35


drawType:2
frame:4
drawSize: 1.4
trailEffect: CUSTOM:projectileTrail
trailEffectRate:0.1


color: #00b1ff
lightColor: #00b1ff
lightSize: 1
drawSize: 2

largeHitEffect: true
instant: false




[turret_1]
#missiles
x: 0
y: 17

invisible: false
image: turret.png

canShoot: false
turnSpeed: 3
turnSpeedAcceleration: 1.0


delay: 10
warmup: 10
canOnlyAttackUnitsWithoutTags: Small



[turret_2]
x: -5
y: 15
attachedTo: 1
slave: true

delay: 25
warmup: 15

projectile: 1
invisible: true
canShoot: true
turnSpeed: 3
turnSpeedAcceleration: 1.0


shoot_sound: missile_fire
shoot_sound_vol:0.15
shoot_light:#63e6e8

shoot_flame:CUSTOM:pulse

warmupStartEffect: CUSTOM:absorb
canOnlyAttackUnitsWithoutTags: Small


[turret_3]
copyFrom: 2
x: 5
y: 15







[turret_4]
#missiles
x: 0
y: 0

invisible: false
image: turret.png

canShoot: false
turnSpeed: 3
turnSpeedAcceleration: 1.0

idleDir: 180

delay: 10
warmup: 10
canOnlyAttackUnitsWithoutTags: Small



[turret_5]
x: -5
y: 15
attachedTo: 4
slave: true

delay: 25
warmup: 15

projectile: 1
invisible: true
canShoot: true
turnSpeed: 3
turnSpeedAcceleration: 1.0


shoot_sound: missile_fire
shoot_sound_vol:0.15
shoot_light:#63e6e8

shoot_flame:CUSTOM:pulse

warmupStartEffect: CUSTOM:absorb
canOnlyAttackUnitsWithoutTags: Small



[turret_6]
copyFrom: 2
x: 5
y: 15







[turret_7]
#bannerlaserdefence
x: 0
y: 0
canShoot: false
invisible: true


laserDefenceEnergyUse: 0.1

limitingRange: 250

size:1




[projectile_1]
directDamage: 250
areaDamage: 50
areaRadius: 40
life: 80
speed: 4
targetSpeed: 14
targetSpeedAcceleration: 0.7

drawType:2
frame:4
drawSize: 1.4
trailEffect: CUSTOM:projectileTrail
trailEffectRate:2

#trailEffectRate: true

#lightColor:#ffffff

explodeEffect: CUSTOM:projectilePassThough, CUSTOM:pulse, CUSTOM:hitLightFlash

#explodeEffectOnShield: CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectileLight




[effect_lightSlowFade]
image: SHARED:light_50.png
life: 40
fadeOut: true
attachedToUnit: true
color: #63e6e8
scaleFrom: 0.7
scaleTo: 0.7
alpha: 0.5
drawUnderUnits:true


[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:2
scaleFrom: 0.9
scaleTo: 0.4
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #63e6e8
fadeInTime:2
scaleFrom: 1.1
scaleTo: 0.9
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 2
scaleTo: 1
alpha: 0.6
drawUnderUnits:false

[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 35
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 2
scaleTo: 0
alpha: 1
drawUnderUnits:false
ySpeedRelative:2
atmospheric: true


[effect_absorb]
life: 25

priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 3
scaleTo: 0

fadeInTime: 25
fadeOut: false

attachedToUnit: true

image: absorb.png

drawUnderUnits: false

#alpha:0.8



[effect_pulse]
life: 25
priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 0
scaleTo: 2

#fadeInTime: 25
fadeOut: true

attachedToUnit: true

image: pulse.png

drawUnderUnits: false

#alpha:0.8






[effect_boom1]
priority:high

image: SHARED:light_50.png
life: 45
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 4
scaleTo: 1
alpha: 0.8
drawUnderUnits:false


[effect_boom2]
priority:high

image: SHARED:light_50.png
life: 15
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1
scaleTo: 4
alpha: 0.6
drawUnderUnits:false




[arm_1]
x:-20
y:15
image_end:LeftWing.png
image_end_teamColors: true
drawOverBody: false



[arm_2]
x:20
y:15
image_end:RightWing.png
image_end_teamColors: true
drawOverBody: false







[movement]
movementType: AIR
moveSpeed: 1.65
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.04

landOnGround: true
targetHeight: 60

maxTurnSpeed: 0.9
turnAcceleration: 0.05

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  45


slowDeathFall: true
joinsGroupFormations: false



[ai]
useAsBuilder: true

ai_upgradePriority: 0.1


