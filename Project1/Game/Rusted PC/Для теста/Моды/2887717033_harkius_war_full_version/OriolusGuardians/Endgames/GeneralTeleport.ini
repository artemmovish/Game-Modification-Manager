
[core]
name: Ori_General_TLand
displayText: General
displayDescription: The generals of the Oriolus Guard are forged by gods to command their forces. \n -Unhindered by any terrain. \n -Can target stealth units. \n-Cannot target orbital units.
class: CustomUnitMetadata
price: 1400000
maxHp: 3500
mass: 4000

techLevel: 1
buildSpeed: 300s
#availableInDemo: true

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-50, Water=-50, AG=-50, AA=-50, AntiArmour=-50, Armour=-50, Artillery=-50, AntiLD=-50, LD=-27, AntiStealth=-27, AS=-50
tags: Unit, GroundT, WaterT, CliffT, AirT, AGT, AAT, AST, AStealthT, AntiArmourT, ArmourT, RangeT, ALDT, Titan, LDT, anti-stealth, NoCap

radius: 9
displayRadius: 12

generation_credits: -500
generation_delay: 40

armour: 55

isBio: true
softCollisionOnAll: 2
selfRegenRate:2

#transportSlotsNeeded: 1

unitsSpawnedOnDeath: Ori_General_Heal

energyMax: 25
energyRegen: 0.1
energyNeedsToRechargeToFull: true




[hiddenAction_Started]
takeResources: EGround=-50, EWater=-50, EAG=-50, EAA=-50, EAntiArmour=-50, EArmour=-50, EArtillery=-50, EAntiLD=-50, ELD=-27, EAntiStealth=-27, EAS=-50
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-50, Water=-50, AG=-50, AA=-50, AntiArmour=-50, Armour=-50, Artillery=-50, AntiLD=-50, LD=-27, AntiStealth=-27, AS=-50
[hiddenAction_Killed]
takeResources: EGround=50, EWater=50, EAG=50, EAA=50, EAntiArmour=50, EArmour=50, EArtillery=50, EAntiLD=50, ELD=27, EAntiStealth=27, EAS=50
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=50, Water=50, AG=50, AA=50, AntiArmour=50, Armour=50, Artillery=50, AntiLD=50, LD=27, AntiStealth=27, AS=50
#TotalUnit=-1


[action_trigger_onWater]
autoTrigger: if not self.isOverOpenLand()
autoTriggerCheckRate: everyFrame

convertTo: Ori_General_TAir
buildSpeed: 0
text: TRIGGER
isVisible: false


[action_trigger_onLand]
autoTrigger: if self.isOverOpenLand()
autoTriggerCheckRate: everyFrame

convertTo: Ori_General_TLand
buildSpeed: 0
text: TRIGGER
isVisible: false





[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=3450)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=3250)
temporarilyAddTags: Retreat



[action_trigger_switchFlail]

convertTo: Ori_General_Land
buildSpeed: 0.5s
text: Deflector mode
isVisible: true

whenBuilding_cannotMove: true
descriptionAddUnitStats: ${section.convertTo}


[hiddenAction_groundCheck]
autoTrigger: if not self.isInMap()
addResources: hp=-180
fireTurretXAtGround: tele2
fireTurretXAtGround_withOffset: 0,0





[graphics]
total_frames: 1

image:        General.png
image_wreak:  NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:0.5
shadowOffsetY:0.5

animation_moving_start: 0
animation_moving_end: 0
animation_moving_speed: 0

dustEffect: false
icon_zoomed_out: MapX.png
lock_body_rotation_with_main_turret: true
showEnergyBar: true

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true


turretSize: 1
turretTurnSpeed: 5

isFixedFiring: false

maxAttackRange: 600
shootDelay: 5

aimOffsetSpread: 0
isMelee: false


[turret_1]
#Pollaxe
x: 0
y: 0

#invisible: true
projectile: 1

turnSpeed: 4.0
turnSpeedAcceleration: 1.0

canShoot: true


shoot_sound:rocket1.wav
shoot_sound_vol:0.3

shoot_light:#63e6e8

shoot_flame: NONE
#CUSTOM:pulse

warmupStartEffect: CUSTOM:absorb

canShoot: true

delay: 10
warmup:15
limitingRange: 450
canOnlyAttackUnitsWithoutTags: Small


[turret_2]
x:0
y:0
canShoot: true
invisible: true
turnSpeed: 25
projectile: 2

warmup:5
delay:5

shoot_sound: NONE
shoot_sound_vol:0
shoot_flame:NONE



turnSpeed: 40.0
turnSpeedAcceleration: 40.0

limitingRange: 200




[turret_3]
#Pollaxe
x: 0
y: 0

#invisible: true
projectile: 3

turnSpeed: 45
turnSpeedAcceleration: 10

canShoot: true


shoot_sound:rocket1.wav
shoot_sound_vol:0.3

shoot_light:#63e6e8

shoot_flame: NONE
#CUSTOM:pulse

warmupStartEffect: CUSTOM:absorb

canShoot: true

delay: 1
warmup:0

energyUsage: 1
canOnlyAttackUnitsWithoutTags: Small






[projectile_2]
directDamage: 2000
speed: 1
life: 5
instant: true
largeHitEffect: true
deflectionPower: -1
armourIgnoreAmount: 9999
instantReuseLast: true

#hitSound: false
explodeEffect: CUSTOM:slash




[effect_slash]
priority:high

#alwayStartDirAtZero: true

image: slash.png
total_frames: 9
animateFrameStart: 0
animateFrameEnd: 7
animateFramePingPong: false
animateFrameSpeed: 0.5


life: 10
fadeOut: false
attachedToUnit: false

scaleFrom: 4
scaleTo: 4
alpha: 1
drawUnderUnits:false



[projectile_1]
directDamage: 1500
life: 80
speed: 10

trailEffect: false

image: Tear.png

drawSize: 1.5
areaDamage: 500
areaRadius: 80

lightColor: #FF3695ff
lightSize: 3

largeHitEffect: true
instant:false

explodeEffect: CUSTOM:slash
deflectionPower: 18





[projectile_3]
directDamage: 1
life: 80
speed: 20

trailEffect: false

image: Tear.png

drawSize: 1
areaDamage: 400
areaRadius: 250
areaDamageNoFalloff: true
areaRadiusFromEdge: true


lightColor: #FF3695ff
lightSize: 3

largeHitEffect: true
instant:false

explodeEffect: CUSTOM:slash


targetGround: true

targetGroundSpread: 350

teleportSource: true

deflectionPower: -1



[effect_absorb]
life: 25

priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 3
scaleTo: 0

fadeInTime: 25
fadeOut: false

attachedToUnit: true

image: absorb.png

drawUnderUnits: false

#alpha:0.8



[effect_pulse]
life: 25
priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 0
scaleTo: 2

#fadeInTime: 25
fadeOut: true

attachedToUnit: true

image: pulse.png

drawUnderUnits: false

#alpha:0.8


[turret_tele2]
#Banner
x: 0
y: 0

#invisible: true
projectile: EMERGENCY

turnSpeed: 99
turnSpeedAcceleration: 99

canShoot: false

shoot_light:#63e6e8


shoot_sound:plasma_fire
shoot_sound_vol:0.2



[projectile_EMERGENCY]
directDamage: 1
speed: 20
life: 5
instant: true

targetGround: true

targetGroundSpread: 500

areaRadius: 100
areaDamage: 100
#laserEffect: true

color: #00b1ff
lightColor: #00b1ff
lightSize: 0.5
drawSize: 0.5


teleportSource: true

deflectionPower: -1
pushVelocity: 15



[arm_1]
x:0
y:0
image_end:StarTag.png
image_end_teamColors: true
drawOverBody: true


[movement]
movementType: AIR
moveSpeed: 4.25
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.1


targetHeight: 1
targetHeightDrift: 0


maxTurnSpeed: 6
turnAcceleration: 1.5

moveSlidingMode :false
moveIgnoringBody:true
