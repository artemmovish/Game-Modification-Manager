
[core]
name: Ori_Warhammer
displayText: Warwolf (Warhammer equip)
displayDescription: The reknowned Warwolf siege knights have broken mighty fortresses where all else have failed. \n -Heavy armour and weapons infantry, can re-arm at upgraded armouries. \n -Cannot swim. \n-The warhammer arms are a set of special propelled weights that can fire a shard of refining crystal in to a target for an enormous amount of damage. \n-Bonus damage to building and titans.
class: CustomUnitMetadata
price: 70000
maxHp: 4000
mass: 250000

techLevel: 1
buildSpeed: 55s
#availableInDemo: true

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-9, Cliff=-9, AG=-20, AA=-3, Artillery=-1, AntiArmour=-27, Armour=-27, AntiLD=-3
tags: Unit, Ground3, Cliff3, AGT, AA2, Range, AntiArmourT, ArmourT, ALD2, RechargeOri2
radius: 16
displayRadius: 20

generation_credits: -80
generation_delay: 40

armour: 45

isBio: true
softCollisionOnAll: 2
selfRegenRate:0.8

transportSlotsNeeded: 5

unitsSpawnedOnDeath: Ori_Warhammer_Heal

energyMax: 1
energyRegen: 0.00085
energyNeedsToRechargeToFull: true




autoTriggerCooldownTime: 0.1s


[hiddenAction_Started]
takeResources: EGround=-9, ECliff=-9, EAG=-20, EAA=-3, EArtillery=-1, EAntiArmour=-27, EArmour=-27, EAntiLD=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-9, Cliff=-9, AG=-20, AA=-3, Artillery=-1, AntiArmour=-27, Armour=-27, AntiLD=-3
[hiddenAction_Killed]
takeResources: EGround=9, ECliff=9, EAG=20, EAA=3, EArtillery=1, EAntiArmour=27, EArmour=27, EAntiLD=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=9, Cliff=9, AG=20, AA=3, Artillery=1, AntiArmour=27, Armour=27, AntiLD=3
#TotalUnit=-1


[action_trigger_switchArbalast]

convertTo: Ori_Arbalast
buildSpeed: 12s
text: Switch to Arbalast
isVisible: true
isLocked: if not self.hasUnitInTeam(withTag='ArmouryUp', greaterThan=0, withinRange=200)
whenBuilding_cannotMove: true
ai_isDisabled: if not self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) or self.hasUnitInTeam(withTag='Q_AntiArmour', greaterThan=0)
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: EGround=9, ECliff=9, EAG=11, EArtillery=-12, EAntiArmour=17, EArmour=18, EAntiLD=2
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AG=11, Artillery=-12, AntiArmour=17, Armour=18, AntiLD=2



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=3500)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=3000)
temporarilyAddTags: Retreat








[animation_swing]
start: 0
end: 4
speed: 4


[animation_jab]
blendIn: 0s
arm1_.3s: {x:0, y:15}




[graphics]
total_frames: 5

image:        WarwolfHammer.png
image_wreak:  NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:0.5
shadowOffsetY:0.5


dustEffect: false

#lock_body_rotation_with_main_turret: true
showEnergyBar: true

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canAttackNotTouchingWaterUnits:true

turretSize: 1
turretTurnSpeed: 5

isFixedFiring: true

maxAttackRange: 130
shootDelay: 5

aimOffsetSpread: 0
isMelee: false




[turret_1]
x:0
y:0
canShoot: true
invisible: true

projectile: 2

warmup:20
delay:15

shoot_sound: NONE
shoot_sound_vol:0
shoot_flame:NONE


turnSpeed: 40.0
turnSpeedAcceleration: 40.0
onShoot_playAnimation: swing





[turret_2]
x:0

y:0
canShoot: true
invisible: true

projectile: 1

warmup:25
delay:25

shoot_sound: NONE
shoot_sound_vol:0
shoot_flame:NONE

#image: WarhammerArm.png
onShoot_playAnimation: jab

turnSpeed: 3.0
turnSpeedAcceleration: 1.0

energyUsage: 1

recoilOffset: 4
recoilOutTime: 2
recoilReturnTime: 30


[turret_3]
x: 0
y: 0
canShoot: false
turnSpeed: 3.0
turnSpeedAcceleration: 1.0

image_applyTeamColors: true
image: head.png



[projectile_1]
directDamage: 2800
speed: 1
life: 5
instant: true
largeHitEffect: true
deflectionPower: -1
armourIgnoreAmount: 15
instantReuseLast: true

hitSound: false
explodeEffect: CUSTOM:pulse
armourIgnoreAmount: 50
shieldDefectionMultiplier: 0.75
buildingDamageMultiplier: 1.6
mutator1_ifUnitWithTags: Titan
mutator1_directDamageMultiplier: 1.35


[projectile_2]
directDamage: 350
speed: 1
life: 5
instant: true
largeHitEffect: true
deflectionPower: -1
armourIgnoreAmount: 15
instantReuseLast: true

hitSound: false
explodeEffect: CUSTOM:pulse
areaDamage: 150
areaRadius: 35
armourIgnoreAmount: 25

buildingDamageMultiplier: 1.35
mutator1_ifUnitWithTags: Titan
mutator1_directDamageMultiplier: 1.35



[effect_absorb]
life: 25

priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 3
scaleTo: 0

fadeInTime: 25
fadeOut: false

attachedToUnit: true

image: absorb.png

drawUnderUnits: false

#alpha:0.8



[effect_pulse]
life: 25
priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 0
scaleTo: 2

#fadeInTime: 25
fadeOut: true

attachedToUnit: true

image: pulse.png

drawUnderUnits: false

#alpha:0.8








[attachment_GunR]
x: 8
y: -12
keepAliveWhenParentDies: false
canBeAttackedAndDamaged: false
setDrawLayerOnTop: true
rotateWithParent: true
isUnselectable: true
lockRotation: false
idleDir: 25
resetRotationWhenNotAttacking: true
deattachIfWantingToMove: false
onCreateSpawnUnitOf: WarwolfRGun
prioritizeParentsMainTarget: true




[attachment_GunL]
x: -8
y: -12
keepAliveWhenParentDies: false
canBeAttackedAndDamaged: false
setDrawLayerOnTop: true
rotateWithParent: true
isUnselectable: true
lockRotation: false
idleDir: -25
resetRotationWhenNotAttacking: true
deattachIfWantingToMove: false
onCreateSpawnUnitOf: WarwolfLGun
prioritizeParentsMainTarget: true





[arm_1]
x: 16
y: 0
image_end: WarhammerArm.png
drawOverBody: false




[leg_1]
x: -7
y: 0
attach_x: -3
attach_y: 0

moveSpeed: 5

rotateSpeed: 4

heightSpeed: 0.2
resetAngle:25

image_leg:  leg.png
image_foot: foot.png

#draw_foot_on_top: false
#dust_effect: false

#holdDisMin: 0.02
#holdDisMax: 0.04

[leg_2]
x: 7
y: 0
attach_x: 3
attach_y: 0
copyFrom: 1






[movement]
movementType: OVER_CLIFF
moveSpeed: 2
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.03
targetHeight: 1
maxTurnSpeed: 6
turnAcceleration: 1.5

moveSlidingMode :false
moveIgnoringBody:false
