
[core]
name: Ori_Smith
displayText: Ethersmith
displayDescription: Constructs Oriolus buildings. \n -slower than other oriolus and cannot swim. \n-Weak attack.\n-Hidden from some titan weapons.\n-Can teleport.
class: CustomUnitMetadata

price: 1000
maxHp: 350
mass: 5000

isPickableStartingUnit: false

techLevel: 1
experimental: false

buildSpeed: 15s

borrowResourcesWhileAlive: TotalUnit=-1, Ground=-1

copyFrom: ROOT:Builder_AI.ini
tags: Unit, Ground, Cliff, builder, NoCap, AA, AG, Small


radius: 20
displayRadius: 20


effectOnDeath: CUSTOM:boom1, CUSTOM:boom2

transportSlotsNeeded: 1


isBio: false
isBuilder: true



canRepairBuildings: true
canRepairUnits : true


canReclaimResources: true


autoRepair: false


nanoRange: 170
selfRegenRate:0.1

nanoRepairSpeed: 0.45
nanoBuildSpeed: 1



energyMax: 1
energyRegen: 0.001


[hiddenAction_Started]
takeResources: EGround=-1, EAG=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-1
[hiddenAction_Killed]
takeResources: EGround=1, EAG=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=1
#TotalUnit=-1


[hiddenAction_buildAO]
requireConditional: if self.NumberOfUnitsInTeam(withTag='AOTurret', lessThan=1, withinRange=280) and self.NumberOfUnitsInTeam(withTag='Factory', greaterThan=0, withinRange=250)
addWaypoint_unitType: Ori_AntiOrbit
addResources: credits=-6000


[canBuild_1]
name: reclaim
pos: -1
#isLocked: false
#isLockedMessage: NONE
#isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)

[canBuild_2]
name: Ori_Extract1, Ori_Fabric1
pos: 1



[canBuild_3]
name: Ori_Turret
pos: 2
isLocked: if self.resource(type="etherPower", lessThan=12) or self.isControlledByAI() and self.hasUnitInTeam(withTag='turret', greaterThan=0, withinRange=200)
isLockedMessage: Requires 12 ether, build more fabricators or extractors!


[canBuild_4]
name: Ori_barracks, Ori_Teleporter, Ori_Port
pos: 3
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)


[canBuild_5]
name: Ori_Armoury
pos: 4
isGuiBlinking: if not self.hasUnitInTeam(withTag='Armoury', greaterThan=0, withinRange=1000) and game.nukesEnabled()
isLocked: if self.isControlledByAI() and self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=800) and not numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)

[canBuild_6]
name: Ori_Rapture
pos: 5
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)


[canBuild_7]
name: Ori_AntiOrbit
pos: 3.5
isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)







[global_resource_etherPower]
displayName: EtherPower
displayNameShort: EP
displayColor: #63e6e8





[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=300)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=250)
temporarilyAddTags: Retreat





[hiddenAction_TriggerDamage]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=150) and self.isEnergyFull() or self.isControlledByAI() and self.isOverLiquid()
alsoQueueAction: Escape
addResources: energy=-1




[hiddenAction_Escape]
#autoTrigger: true
buildSpeed: 0.25s
fireTurretXAtGround: tele2
fireTurretXAtGround_withOffset: 0,0
isLocked: true



[action_Denied]
#autoTrigger: true
isVisible: true
addEnergy: -1
buildSpeed: 0.25s
fireTurretXAtGround: tele
#fireTurretXAtGround_withOffset: 0,0
text: Teleport
description: -Thanks to their science-defying powers, some Oriolus can teleport on the battlefield. \n-Limited range teleport. Not hindered by terrain. \n- Can teleport anywhere. 
isActive: if self.isEnergyFull()
pos: 0.05


[hiddenAction_groundCheck]
autoTrigger: if not self.isInMap()
#self.isOverPassableTile(Type='OVER_CLIFF_WATER') and not self.isOverLiquid()
addResources: hp=-350


[graphics]
total_frames: 1
teamColorsOnTurret: true
image:        EtherSmith.png
image_wreak: NONE
image_turret: NONE



image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
maxAttackRange: 500




[turret_nanoTurret]
#right arm
x: 0
y: 0
warmup:30

turnSpeed: 4
size: 8


canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isMainNanoTurret: true




[turret_1]
#Banner
x: 0
y: 0

#invisible: true
projectile: 1

turnSpeed: 4.0
turnSpeedAcceleration: 1.0

canShoot: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false

shoot_sound:ROOT:Audio/Blaster1.ogg
shoot_sound_vol:0.1

shoot_light:#63e6e8

shoot_flame:CUSTOM:pulse

warmupStartEffect: CUSTOM:absorb

canShoot: true


delay: 0.85s
warmup:15
limitingRange: 200



[turret_2]
#Banner
x: 0
y: 0
#invisible: true
projectile: 1
turnSpeed: 4.0
turnSpeedAcceleration: 1.0
canShoot: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false
shoot_sound:ROOT:Audio/Blaster1.ogg
shoot_sound_vol:0.1
shoot_light:#63e6e8
shoot_flame:CUSTOM:pulse
warmupStartEffect: CUSTOM:absorb
canShoot: true
delay: 3s
warmup:15

canOnlyAttackUnitsWithTags: bruh








[turret_tele]
#Banner
x: 0
y: 0

#invisible: true
projectile: Tel

turnSpeed: 99
turnSpeedAcceleration: 99

canShoot: false

shoot_light:#63e6e8
shoot_flame:CUSTOM:absorb

shoot_sound:plasma_fire
shoot_sound_vol:0.2




[turret_tele2]
#Banner
x: 0
y: 0

#invisible: true
projectile: Tel2

turnSpeed: 99
turnSpeedAcceleration: 99

canShoot: false

shoot_light:#63e6e8
shoot_flame:CUSTOM:absorb

shoot_sound:plasma_fire
shoot_sound_vol:0.2






[projectile_1]
directDamage: 45
life: 50
speed: 9

trailEffect: false

image: Lightshot.png

lightColor: #FF3695ff
lightSize: 0.5

largeHitEffect: true
instant:false





[projectile_Tel]
directDamage: 1
speed: 20
life: 5
instant: true

targetGround: true

targetGroundSpread: 0

areaRadius: 50
areaDamage: 0
#laserEffect: true

color: #00b1ff
lightColor: #00b1ff
lightSize: 0.5
drawSize: 0.5


teleportSource: true

deflectionPower: -1
pushVelocity: 5
explodeEffect: CUSTOM:pulse




[projectile_Tel2]
directDamage: 1
speed: 20
life: 5
instant: true

targetGround: true

targetGroundSpread: 500

areaRadius: 50
areaDamage: 0
#laserEffect: true

color: #00b1ff
lightColor: #00b1ff
lightSize: 0.5
drawSize: 0.5


teleportSource: true

deflectionPower: -1
pushVelocity: 8
explodeEffect: CUSTOM:pulse



[effect_absorb]
life: 25

priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 3
scaleTo: 0

fadeInTime: 25
fadeOut: false

attachedToUnit: true

image: absorb.png

drawUnderUnits: false

#alpha:0.8



[effect_pulse]
life: 25
priority: high

dirOffset: 0
#dirOffsetRandom:90
dirSpeed: 35
#dirSpeedRandom: 15

scaleFrom: 0
scaleTo: 2

#fadeInTime: 25
fadeOut: true

attachedToUnit: true

image: pulse.png

drawUnderUnits: false

#alpha:0.8







[effect_boom1]
priority:high

image: SHARED:light_50.png
life: 45
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 4
scaleTo: 1
alpha: 0.8
drawUnderUnits:false


[effect_boom2]
priority:high

image: SHARED:light_50.png
life: 15
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1
scaleTo: 4
alpha: 0.6
drawUnderUnits:false





[movement]
movementType: OVER_CLIFF
moveSpeed: 0.9
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.07

maxTurnSpeed: 2
turnAcceleration: 0.1
targetHeight:0.5
moveSlidingMode :false
moveIgnoringBody:false
moveSlidingDir: 0
reverseSpeedPercentage:0.8

slowDeathFall: false




[ai]
useAsBuilder: true



