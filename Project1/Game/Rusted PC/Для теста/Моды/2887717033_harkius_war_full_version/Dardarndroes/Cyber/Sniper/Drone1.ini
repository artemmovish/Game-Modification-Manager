[core]
name: D_Sniper
displayText: Sniper Drone
displayDescription: A cybernetically enhanced drone armed with a long ranged cannon. \n -Cannot move while firing. \n-Targets air, land and stealth. \n-Slowly regenerates health.\n-Can cross rough terrain.
class: CustomUnitMetadata

price: 2200
maxHp: 700
mass: 3000



techLevel: 1
experimental: false

buildSpeed: 40s

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-2, Cliff=-2, AG=-1, AA=-1, AS=-1, AntiStealth=-1, Artillery=-1, AntiArmour=-1
tags: Unit, Ground, Cliff, AG, AA, Range, AntiArmour, CanLead1, anti-stealth, AS, AStealth



radius: 20
displayRadius: 20
fogOfWarSightRange: 22



transportSlotsNeeded: 1


isBio: true
selfRegenRate:0.25


[hiddenAction_Started]
takeResources: EGround=-2, ECliff=-2, EAG=-1, EAA=-1, EAS=-1, EAntiStealth=-1, EArtillery=-1, EAntiArmour=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-2, Cliff=-2, AG=-1, AA=-1, AS=-1, AntiStealth=-1, Artillery=-1, AntiArmour=-1
[hiddenAction_Killed]
takeResources: EGround=2, ECliff=2, EAG=1, EAA=1, EAS=1, EAntiStealth=1, EArtillery=1, EAntiArmour=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=2, Cliff=2, AG=1, AA=1, AS=1, AntiStealth=1, Artillery=1, AntiArmour=1
#TotalUnit=-1




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=650)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=600)
temporarilyAddTags: Retreat








[graphics]
total_frames: 1
teamColorsOnTurret: true
image:        body.png
image_wreak: corpse.png
image_turret: gun.png




image_shadow: SHADOW:body.png
lock_shadow_rotation_with_main_turret: false
shadowOffsetX:2
shadowOffsetY:2

#lock_body_rotation_with_main_turret: true


[attack]



canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

isFixedFiring: true

turretSize: 20
turretTurnSpeed: 1.75

maxAttackRange: 400
shootDelay: 30


[turret_1]

#right gunning arm

x: 0
y: 10
projectile: 1

turnSpeedAcceleration: 0.2

recoilOffset: -8
recoilOutTime: 5
recoilReturnTime: 35

canShoot: true

delay: 3.5s
warmup: 0s



[projectile_1]
#cannon shot
directDamage: 280
life: 300
speed: 15


drawType:2
frame:4
drawSize: 1
trailEffect: CUSTOM:projectileTrail
trailEffectRate:1

deflectionPower: 3



[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #63e6e8
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.4
drawUnderUnits:true
#ySpeedRelative:-1








[leg_1]
x: -8
y: 12
attach_x: -3
attach_y: 9
moveSpeed: 5

rotateSpeed: 4

heightSpeed: 0.9
resetAngle:25

image_leg:  leg.png
image_foot: NONE

#draw_foot_on_top: false
#dust_effect: false

#holdDisMin: 0.02
#holdDisMax: 0.04

[leg_2]
x: 13
y: 12
attach_x: 3
attach_y: 9
copyFrom: 1

[leg_3]
x: -17
y: 0
attach_x: -5
attach_y: 0
copyFrom: 1

[leg_4]
x: 17
y: 0
attach_x: 5
attach_y: 0
copyFrom: 1

[leg_5]
x: -13
y: -12
attach_x: -3
attach_y: -9
copyFrom: 1

[leg_6]
x: 13
y: -12
attach_x: 3
attach_y: -9
copyFrom: 1



[arm_1]
x: 0
y: 0
image_end: body.png
drawOverBody: true
image_end_teamColors: true




[movement]
movementType: OVER_CLIFF
moveSpeed: 0.9
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.1


maxTurnSpeed: 1.75
turnAcceleration: 0.5

moveSlidingMode :true
moveIgnoringBody:false
moveSlidingDir:  181

reverseSpeedPercentage:0




[ai]
useAsBuilder: false



