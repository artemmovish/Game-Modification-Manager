
[core]
name: D_ShellScavanger
displayText: Amoured Scavanger
displayDescription: The more advanced form of the Scavanger with weapons. \n-Spreads and moulds Dardarndroe cells in to many forms, such as buildings. \n-Extremely Mobile, able to move over water or cliffs. 


class: CustomUnitMetadata
#price: 2
price: 6000
#copyFrom: ROOT:Dardarndroes/Resource.ini
isBuilding: false
maxHp: 1250
mass: 70000

copyFrom: ROOT:Builder_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-3, Cliff=-3, Water=-1, AG=-3, AA=-3, AntiArmour=-1
tags: Unit, Ground2, Cliff2, Air3, Water, AG2, AA2, AntiArmour, CanFollow, builder, NoCap
#Must be counted as Air 3 to make sure the AI prepares suitable AA to deal with the blobs. 


techLevel: 1
experimental: false

buildSpeed: 50s
#buildSpeed: 1

#availableInDemo: true

radius: 30
displayRadius: 39


fogOfWarSightRange:18

transportSlotsNeeded: 8

isBio: false
isBuilder: true

softCollisionOnAll: 3

#nanoFactorySpeed:2.5

#generation_credits: -35
#generation_delay: 40

selfRegenRate:0.4

#builtFrom_1_name: commandCenter
#builtFrom_1_pos:  2

#builtFrom_1_name: experimentalLandFactory
#builtFrom_1_pos:  6

#energyMax: 1
#energyRegen: 0.008


canRepairBuildings: true
canRepairUnits : true

canReclaimResources: true

autoRepair: true

nanoRange: 160

nanoRepairSpeed: 0.35
nanoBuildSpeed: 1
nanoFactorySpeed:1



[hiddenAction_Started]
takeResources: EGround=-3, EAir=-9, ECliff=-3, EWater=-1, EAG=-3, EAA=-3, EAntiArmour=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-3, Cliff=-3, Water=-1, AG=-3, AA=-3, AntiArmour=-1
[hiddenAction_Killed]
takeResources: EGround=3, EAir=-9, ECliff=3, EWater=1, EAG=3, EAA=3, EAntiArmour=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=3, Cliff=3, Water=1, AG=3, AA=3, AntiArmour=1
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=1100)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=900)
temporarilyAddTags: Retreat

[hiddenAction_buildAO]
autoTrigger: if self.isControlledByAI() and self.NumberOfUnitsInTeam(withTag='Q_AO', greaterThan=0) and self.hasResources(credits=30000) and not self.tags(includes='Formation') and not self.tags(includes='Retreat') and not self.tags(includes='Attacking') and not self.tags(includes='DEFEND') and not self.hasActiveWaypoint(type='build')
requireConditional: if self.NumberOfUnitsInTeam(withTag='AOTurret', lessThan=1, withinRange=250) and self.NumberOfUnitsInTeam(withTag='Factory', greaterThan=0, withinRange=250)
addWaypoint_unitType: D_HyperSpitter
addResources: credits=-4800


[global_resource_Orbit]
hidden: true
[global_resource_Maw]
hidden: true
[global_resource_Nuke]
hidden: true

[canBuild_1]
name: reclaim
pos: -1
#isLocked: false
#isLockedMessage: NONE
#isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)

[canBuild_2]
name: D_hive, D_Mound1, D_Root, D_StemHub
pos: 1



[canBuild_4]
name: D_Mutation, D_Factory, D_seaFactory
pos: 3
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)

[canBuild_orbit]
name: DarPort
pos: 3
isLocked: if not self.hasResources(Orbit=1)


[canBuild_5]
name: D_Filter
pos: 4
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)



[canBuild_6]
name: D_Megaspore
pos: 5
isLocked: if not self.hasResources(Nuke=1) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000) and numberOfUnitsInEnemyTeam(withTag='Obomb', greaterThan=0, withinRange=1000)




[canBuild_7]
name: D_HyperSpitter
pos: 4
isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)










[graphics]
drawLayer: experimentals

total_frames: 1

image:        body.png
image_wreak:  corpse.png
image_turret: shell.png
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#teamColorsOnTurret: true

image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3

#repairEffect: CUSTOM:nano1
repairEffectAtTarget: CUSTOM:nano1, CUSTOM:nano2, CUSTOM:nano3
repairEffectRate: 5

#reclaimEffect: CUSTOM:nano1
reclaimEffectAtTarget: CUSTOM:nano3
reclaimEffectRate: 5




[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 30
turretTurnSpeed: 2
maxAttackRange: 200
shootDelay: 85

turretMultiTargeting: false

[turret_nanoTurret]

x: 0
y: 2

idleDir:0
#idleDirReversing: -110

image: Nanohose.png
warmup:30

turnSpeed: 4
size: 8

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isMainNanoTurret: true





[turret_smallLaser]
#right cannon
x: 0
y: 0
attachedTo: Shell
slave: true
turnSpeed: 0
shouldResetTurret: true


projectile: laserShot
delay: 35

warmup: 0

shoot_sound: plasma_fire
shoot_sound_vol:0.5
shoot_flame:NONE
#small
shoot_light:#FFEECCCC


image: duelblaster.png

recoilOffset: -4
recoilOutTime: 5
recoilReturnTime: 15
size: 10



[turret_cannon]
#right cannon
x: 0
y: 0
attachedTo: Shell
slave: true
turnSpeed: 0
shouldResetTurret: true


projectile: missile
delay: 150

warmup: 30

shoot_sound:cannon_firing
shoot_sound_vol:0.1
shoot_flame:small
shoot_light:#FFccCCEE


image: cannon.png

recoilOffset: -5
recoilOutTime: 5
recoilReturnTime: 15
size: 12




[turret_Shell]
#Shel
x: 0
y: 0
canShoot: false

shouldResetTurret: true

turnSpeed: 2

delay: 120



[projectile_laserShot]
directDamage: 50
life: 80
speed: 16
targetSpeed: 16
targetSpeedAcceleration: 0.7


image: shot.png

drawSize: 1
#trailEffect: CUSTOM:projectileTrail
#trailEffectRate:2



lightColor:#ffffff

#explodeEffect: smallExplosion, CUSTOM:hitLightFlash, CUSTOM:projectilePassThough


#explodeEffectOnShield: CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectileLight



[projectile_missile]
directDamage: 130
life: 80
speed: 1

targetSpeed: 16
targetSpeedAcceleration: 0.7

spawnUnit: D_NotSpaceBlob

drawType:2
frame:4
drawSize: 1
#trailEffect: CUSTOM:projectileTrail
trailEffectRate:2



lightColor:#ffffff

explodeEffect: smallExplosion, CUSTOM:hitLightFlash, CUSTOM:projectilePassThough



#explodeEffectOnShield: CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectileLight




[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #e89263
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #e89263
fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #e89263

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false



[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 20
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false
ySpeedRelative:2
atmospheric: true





[effect_nano1]
attachedToUnit: true
life: 25
physics: true
xSpeedRelativeRandom: 3
xSpeedRelativeRandom: 3
hSpeed: 1
image: nano1.png
drawUnderUnits:false


[effect_nano2]
attachedToUnit: true
life: 25
physics: true
xSpeedRelativeRandom: 3
xSpeedRelativeRandom: 3
hSpeed: 1
image: nano2.png
drawUnderUnits:false


[effect_nano3]
attachedToUnit: true

life: 25
physics: true
xSpeedRelativeRandom: 3
xSpeedRelativeRandom: 3
hSpeed: 1
image: nano3.png
drawUnderUnits:false





[leg_1]
x: -15
y: 15
attach_x: -5
attach_y: 5
moveSpeed: 5

rotateSpeed: 5

heightSpeed: 2
resetAngle:25

image_leg:  leg.png
image_foot: NONE

#draw_foot_on_top: false
#dust_effect: false

#holdDisMin: 0.02
#holdDisMax: 0.04

[leg_2]
x: 15
y: 15
attach_x: 5
attach_y: 5
copyFrom: 1

[leg_3]
x: -15
y: -15
attach_x: -5
attach_y: -5
copyFrom: 1

[leg_4]
x: 15
y: -15
attach_x: 5
attach_y: -5
copyFrom: 1

[leg_5]
x: -18
y: 0
attach_x: -6
attach_y: 0
copyFrom: 1

[leg_6]
x: 18
y: 0
attach_x: 6
attach_y: 0
copyFrom: 1




[effect_lightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #63e6e8

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false




[movement]
movementType: OVER_CLIFF_WATER
moveSpeed: 2.2
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.2

targetHeight: 0
targetHeightDrift: 0

reverseSpeedPercentage:0.9

maxTurnSpeed: 2
turnAcceleration: 0.3

moveSlidingMode :false
moveIgnoringBody:false
moveSlidingDir:  65


slowDeathFall: true





[ai]
useAsBuilder: true





