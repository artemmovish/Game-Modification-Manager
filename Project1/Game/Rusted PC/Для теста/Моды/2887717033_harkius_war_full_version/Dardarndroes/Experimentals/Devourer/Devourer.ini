[core]
name: D_Devourer
displayText: Devourer
displayDescription: Good job holding the swarm off. You've got about a week before they eat the planet. \n -The devourer of all things. swims through the ground like water. \n-Stealth Unit. \n-Very powerful.\n-Cannot attack some weaker units.
class: CustomUnitMetadata

price: 230000
maxHp: 6000
mass: 99999


generation_resources: credits=-130, Data=-12
generation_delay: 40

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, AG=-9, Artillery=-9, AntiStealth=-3, AS=-3, Stealth=-27
tags: Unit, anti-stealth, AStealth2, stealth, isStealthT, Range3, AS2, AG3, Titan, CanLead3

techLevel: 3
experimental: true

buildSpeed: 210s
canOnlyBeAttackedByUnitsWithTags: anti-stealth

radius: 75
displayRadius: 100

softCollisionOnAll: 15


transportSlotsNeeded: 9999
disableAllUnitCollisions: true

isBio: false
selfRegenRate:0.25
autoTriggerCooldownTime: 0.3s

armour: 2



[hiddenAction_Started]
takeResources: EAG=-9, EArtillery=-9, EAntiStealth=-3, EAS=-3, EStealth=-27
[hiddenAction_Started_UpdateAlly]
takeResources: AG=-9, Artillery=-9, AntiStealth=-3, AS=-3, Stealth=-27
[hiddenAction_Killed]
takeResources: EAG=9, EArtillery=9, EAntiStealth=3, EAS=3, EStealth=27
[hiddenAction_Killed_UpdateAlly]
takeResources: AG=9, Artillery=9, AntiStealth=3, AS=3, Stealth=27
#TotalUnit=-1




[hiddenAction_Warning]
autoTriggerOnEvent: completeAndActive

showMessageToAllEnemyPlayers: Infection Critical - Devourer detected

[hiddenAction_sound]
autoTrigger: true
playSoundAtUnit: ROOT:Audio/devourer.ogg
spawnEffects: CUSTOM:rubble2*2, CUSTOM:rubble*2



[global_resource_Data]
displayName: Data
displayRoundedDown: true
displayColor: #8100FF

[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=5700)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=4000)
temporarilyAddTags: Retreat



[attachment_Body1]
x: 0
y: -20
canAttack: false
keepAliveWhenParentDies: false
canBeAttackedAndDamaged: false
setDrawLayerOnTop: true
rotateWithParent: false
isUnselectable: true
lockRotation: false
idleDir: 0
resetRotationWhenNotAttacking: true
deattachIfWantingToMove: false
onCreateSpawnUnitOf: D_DevourerBody1




[animation_stop]
onActions: idle
body_0s: {frame: 0}
blendIn: 0s


[animation_spin]
onActions: move, attack
body_0.0s: {frame: 1}
body_0.1s: {frame: 2}
body_0.2s: {frame: 2}
#body_0.4s: {frame: 1}

blendIn: 0s
#pingPong: true





[graphics]
total_frames: 3
teamColorsOnTurret: true
image:        Head.png
image_wreak: NONE
image_turret: NONE
#movementEffect: CUSTOM:rubble2
#movementEffectRate: 1
icon_zoomed_out: MapX.png
image_shadow: NONE

#lock_body_rotation_with_main_turret: true
#scaleImagesTo: 700

#imageSmoothing: true
isVisibleToEnemies: false




[attack]

isMelee: true

canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

isFixedFiring: true

turretSize: 50
turretTurnSpeed: 3

maxAttackRange: 20
shootDelay: 30
aimOffsetSpread: 0.1
canOnlyAttackUnitsWithoutTags: Small



[turret_1]
x: 0
y: 0

delay: 0.2s
warmup: 0

invisible: true




[projectile_1]
directDamage: 120
buildingDamageMultiplier: 1.15
life: 50
instant: true
explodeEffect: CUSTOM:rubble*5


[effect_rubble]
attachedToUnit: false
life: 100
physics: true
xSpeedRelativeRandom: 4
ySpeedRelativeRandom: 4
hSpeed: 6
image: scrap.png
priority: verylow
atmospheric: true
fadeOut: true



[effect_rubble2]
attachedToUnit: false
life: 100
physics: true
xOffsetRelativeRandom: 80
yOffsetRelativeRandom: 80
xSpeedRelativeRandom: 4
ySpeedRelativeRandom: 4
hSpeed: 6
image: scrap.png
priority: verylow
atmospheric: true
fadeOut: true





[movement]
movementType: AIR
moveSpeed: 1
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.3


maxTurnSpeed: 0.85
turnAcceleration: 0.05

moveSlidingMode :false
moveIgnoringBody:false
moveSlidingDir:  181

reverseSpeedPercentage:0


targetHeight: -5
targetHeightDrift: 0

[ai]
useAsBuilder: false



