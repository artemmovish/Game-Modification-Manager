[core]
name: D_ExNest
displayText: Mobile Nest
displayDescription: Rapidly produces attack birds to throw at enemies. \n -Not cost effective at close range. \n-Can swim, cross rough terrain, and has some self-regeneration. 
class: CustomUnitMetadata

price: 24000
maxHp: 3600
mass: 22000


copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, Ground=-3, Cliff=-3, Water=-9, Air=-9, AG=-3, AA=-3, Artillery=-6, AntiLD=-7
tags: Unit, Ground2, Cliff2, Water2, Air3, AG2, AA2, Range2, ALD2, CanLead3


techLevel: 1
experimental: false

buildSpeed: 120s


generation_credits: -30

radius: 35
displayRadius: 45
fogOfWarSightRange: 40




transportSlotsNeeded: 6


isBio: true
selfRegenRate:0.3
isBuilder: false



[hiddenAction_Started]
takeResources: EGround=-3, ECliff=-3, EWater=-9, EAir=-9, EAG=-3, EAA=-3, EArtillery=-6, EAntiLD=-7
[hiddenAction_Started_UpdateAlly]
takeResources: Ground=-3, Cliff=-3, Water=-9, Air=-9, AG=-3, AA=-3, Artillery=-6, AntiLD=-7
[hiddenAction_Killed]
takeResources: EGround=3, ECliff=3, EWater=9, EAir=9, EAG=3, EAA=3, EArtillery=6, EAntiLD=7
[hiddenAction_Killed_UpdateAlly]
takeResources: Ground=3, Cliff=3, Water=9, Air=9, AG=3, AA=3, Artillery=6, AntiLD=7
#TotalUnit=-1




[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=3300)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=3200)
temporarilyAddTags: Retreat






[graphics]
total_frames: 1
teamColorsOnTurret: true
image:        Body.png
image_wreak: Corpse.png
image_turret: NONE

animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 120
animation_idle_scale_start:1
animation_idle_scale_end:1.04
animation_idle_pingPong: true


image_shadow: SHADOW:body.png
lock_shadow_rotation_with_main_turret: false
shadowOffsetX:2
shadowOffsetY:2

#lock_body_rotation_with_main_turret: true


[attack]

isMelee: false

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

#isFixedFiring: true

turretSize: 20
turretTurnSpeed: 3

maxAttackRange: 750
shootDelay: 30
turretMultiTargeting: true




[turret_1]

#right gunning arm

x: 0
y: -23
projectile: Birb
invisible: false
image: BirdNest.png
turnSpeed: 1
turnSpeedAcceleration: 0.2


canShoot: true

delay: 15
warmup: 15





[turret_2]

#My god, BEES!
x: 0
y: -5
invisible: true
projectile: 1
turnSpeed: 10

shoot_sound:ROOT:Audio/bee.ogg
shoot_sound_vol:0.2
canShoot: true

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


shoot_light:#ff0000
warmup: 2
delay: 3
limitingRange: 300




[projectile_Birb]
directDamage: 5
life: 20
speed: 10
spawnUnit: D_Birb(offsetHeight=30)
explodeOnEndOfLife: true
drawSize: 1.15

image: shot.png

targetGround: true
targetGroundSpread: 15

areaDamage: 50
areaRadius: 35
initialUnguidedSpeedHeight: 2.5
gravity:0.8
#lightCastOnGround: true



[projectile_1]
#NOT THE BEES!
directDamage: 18
drawSize: 0.8
life: 500
speed: 0.2
targetSpeed: 5

largeHitEffect: true

trailEffect: false
ballistic: true
ballistic_delaymove_height:40
ballistic_height: 20
image: bee.png


autoTargetingOnDeadTarget: true



[leg_1]
x: -25
y: 25
attach_x: -8
attach_y: 12
moveSpeed: 5

rotateSpeed: 4

heightSpeed: 0.9
resetAngle:25

image_leg:  LegLeft.png
image_foot: NONE

#draw_foot_on_top: false
#dust_effect: false

#holdDisMin: 0.02
#holdDisMax: 0.04

[leg_2]
x: 25
y: 25
attach_x: 8
attach_y: 12
copyFrom: 1
image_leg:  LegRight.png


[leg_3]
x: -25
y: -25
attach_x: -12
attach_y: -12
copyFrom: 1

[leg_4]
x: 25
y: -25
attach_x: 8
attach_y: -12
copyFrom: 1
image_leg:  LegRight.png





[movement]
movementType: OVER_CLIFF_WATER
moveSpeed: 0.65
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.1


maxTurnSpeed: 1
turnAcceleration: 0.1

moveSlidingMode :true
moveIgnoringBody:false
moveSlidingDir:  181

reverseSpeedPercentage:0




[ai]
useAsBuilder: false



