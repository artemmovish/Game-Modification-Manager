[core]
name: D_Dragon2
class: CustomUnitMetadata

maxHp: 1700
mass: 10000

generation_credits: -100
generation_delay: 40

copyFrom: Dragon.ini
selfRegenRate:-18
energyMax: 10
energyRegen: -0.35
energyNeedsToRechargeToFull: true
autoTriggerCooldownTime: 0.1s

[action_stop]
convertTo: D_Dragon
autoTrigger: if self.isEnergyEmpty()
isVisible: false
buildSpeed: 0s


[hiddenAction_shockwave]
autoTrigger: true
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0
alsoQueueAction: Shock2


[hiddenAction_Shock2]
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0
alsoQueueAction: Shock3
buildSpeed: 0.025s


[hiddenAction_Shock3]
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0
alsoQueueAction: Shock4
buildSpeed: 0.025s

[hiddenAction_Shock4]
fireTurretXAtGround: 1
fireTurretXAtGround_withOffset: 0, 0
buildSpeed: 0.025s


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=1600)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=1400)
temporarilyAddTags: Retreat




[action_sonic]
isVisible: false

[hiddenAction_runNow]
autoTrigger: false


[attack]
canAttack: false
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
#isFixedFiring: true
maxAttackRange: 1000

shootDelay: 0
aimOffsetSpread: 0

turretRotateWithBody: true


[turret_1]
x:0
y:0
canShoot: false
invisible: true

turnSpeed: 99
turnSpeedAcceleration: 50

projectile: shock
warmup:0
delay:0
shoot_sound: NONE
shoot_sound_vol:0
shoot_flame:NONE
shoot_flame:CUSTOM:shockw





[projectile_shock]
directDamage: 0
speed: 1
life: 1

largeHitEffect: true
targetGround: true
areaDamage: 60
areaRadius: 200
deflectionPower: -1

explodeOnEndOfLife: true
drawType:2
frame: 7

trailEffect: true
instantReuseLast: true

#areaHitUnderwaterAlways: true

hitSound: false

explodeEffect: NONE

areaHitAirAndLandAtSameTime: true

[effect_shockw]
image: shock.png
life: 35
fadeOut: true
attachedToUnit: false
fadeInTime:3
scaleFrom: 1
scaleTo: 10
alpha: 1
drawUnderUnits:false



[movement]
movementType: AIR
moveSpeed: 22
moveAccelerationSpeed: 25
moveDecelerationSpeed: 0.5

maxTurnSpeed: 1.5
turnAcceleration: 0.2

reverseSpeedPercentage: 0

targetHeight: 200
targetHeightDrift: 50

moveSlidingMode :false
moveIgnoringBody: true
moveSlidingDir:  181


slowDeathFall: true
