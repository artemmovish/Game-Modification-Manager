
[core]
name: D_Mound4
displayText: Dardarndroe Mound
displayDescription: -Facility for building vehicles. \n-Produces anti-nukes.
class: CustomUnitMetadata
price: 25600
maxHp: 3000
mass: 9000




copyFrom: ROOT:Dardarndroes/Resource.ini
generation_resources: credits=42, Data=2
generation_delay: 40
tags: Building, Turret2, Factory, NoCap, Economy, AO, Repair, antinuke, AA, anti-orbital, AG


disableAllUnitCollisions: true




#footprint used for collisions with units (left, up, right, down)
footprint: -1,-1,1,1
#used for placement, and placement of other buildings
constructionFootprint:-2,-2,2,1

buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0

unitsSpawnedOnDeath: D_Blob, D_Drone3*10
techLevel: 1
buildSpeed: 0.0005
#availableInDemo: true
selfBuildRate: 0.0005

selfRegenRate:1.2

radius: 50
#displayRadius: 80
isBio: true
isBuilding: true

#armour: 1


exit_x: 0
exit_y: -1

softCollisionOnAll: 3

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5




nanoFactorySpeed:0.8


[hiddenAction_Started]
takeResources: ETurret=-9, EAG=-5, EAA=-5, EAntiArmour=-4, EAO=-1, EAntiStealth=-1
[hiddenAction_Started_UpdateAlly]
takeResources: AG=0
[hiddenAction_Killed]
takeResources: ETurret=9, EAG=5, EAA=5, EAntiArmour=4, EAO=1, EAntiStealth=1
[hiddenAction_Killed_UpdateAlly]
takeResources: AG=0
#TotalUnit=-1






[canBuild_rally]
name: setRally
pos: -1
#isLocked: false
#isLockedMessage: NONE
#isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)


[canBuild_1]
name: D_Scavanger
pos: 1


[canBuild_Shell]
name: D_ShellScavanger
pos: 1
isLocked: if not self.hasResources(Shell=1)
price: credits=6000, Data=100


[canBuild_Nano]
name: D_Nano
pos: 2
isLocked: if not self.hasResources(Nano=1)


[canBuild_2]
name: D_Drone4
pos: 1

[canBuild_Netter]
name: D_Netter
pos: 1
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0)

[canBuild_Bloat]
name: D_Bloat
pos: 2
isLocked: if not self.hasResources(Bloat=1) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0)

[canBuild_Carrier]
name: D_Carrier
pos: 3
isLocked: if not self.hasResources(Carrier=1)



[canBuild_Lob]
name: D_Lobster
pos: 3
isLocked: if not self.hasResources(Lobster=1) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
price: credits=13000, Data=300



[canBuild_Tank]
name: D_Tank
pos: 4
isLocked: if not self.hasResources(Tank=1)

[canBuild_Nest]
name: D_ExNest
pos: 4
isLocked: if not self.hasResources(Nest=1)

[canBuild_Drag]
name: D_Dragon
pos: 4
isLocked: if not self.hasResources(Drag=1)


[canBuild_Devour]
name: D_Devourer
pos: 4
isLocked: if not self.hasResources(Devour=1)
price: credits=210000, Data=5000

[canBuild_4]
name: D_Mill
price: credits=360000, Data=9000
pos: 5
isLocked: if not self.hasResources(Milli=1)






[hiddenAction_FinishBuild]
buildSpeed: 0.1s
addResources: unsetFlag=1


[hiddenAction_Drone1]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=6000) and self.NumberOfUnitsInTeam(withTag='HELP', greaterThan=0, withinRange=1000) and not self.hasFlag(id=1) or self.isControlledByAI() and self.hasResources(credits=6000) and self.NumberOfUnitsInTeam(withTag='ALL_ATTACK', greaterThan=0) and not self.hasFlag(id=1)
alsoQueueAction: Drone2
addResources: setFlag=1, credits=-120

[hiddenAction_Drone2]
buildSpeed: 2.2s
#addResources: credits=-500
alsoQueueAction: FinishBuild
produceUnits: D_Drone4




[hiddenAction_builder1]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=1, withinRange=500) and not self.hasUnitInTeam(withTag='builder', greaterThan=30) and self.hasResources(credits=2000) and not self.hasFlag(id=1) or self.isControlledByAI() and self.numberOfUnitsInTeam(withTag='NeedFix', withinRange=500) > self.numberOfUnitsInTeam(withTag='builder', withinRange=600) and self.hasResources(credits=5000) and not self.hasResources(credits=25000) and not self.hasUnitInTeam(withTag='builder', greaterThan=50) and not self.hasFlag(id=1)
alsoQueueAction: builder2
addResources: setFlag=1, credits=-120

[hiddenAction_builder2]
buildSpeed: 6s
#addResources: credits=-120
alsoQueueAction: FinishBuild
produceUnits: D_Scavanger


[hiddenAction_builder3]
autoTrigger: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='builder', greaterThan=1, withinRange=500) and self.hasResources(credits=25000, Data=1000, Shell=1) and not self.hasFlag(id=1) and not self.hasUnitInTeam(withTag='builder', greaterThan=40) or self.isControlledByAI() and self.numberOfUnitsInTeam(withTag='NeedFix', withinRange=500) > self.numberOfUnitsInTeam(withTag='builder', withinRange=600) and self.hasResources(credits=25000, Data=1000, Shell=1) and not self.hasUnitInTeam(withTag='builder', greaterThan=50) and not self.hasFlag(id=1)
alsoQueueAction: builder4
addResources: setFlag=1, credits=-6000, Data=-100

[hiddenAction_builder4]
buildSpeed: 50s
#addResources: credits=-120
alsoQueueAction: FinishBuild
produceUnits: D_ShellScavanger




[hiddenAction_End1]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=600000) and not self.tags(includes='HELP') and not self.hasFlag(id=1) and self.hasResources(Milli=1) and self.hasResources(Data=18000)
alsoQueueAction: End2
addResources: setFlag=1, credits=-360000, Data=-9000

[hiddenAction_End2]
buildSpeed: 300s
#addResources: credits=-500
alsoQueueAction: FinishBuild
produceUnits: D_Mill




[hiddenAction_Air1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasResources(credits=30000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasResources(Bloat=1)
alsoQueueAction: Air2
addResources: setFlag=1, credits=-1000

[hiddenAction_Air2]
buildSpeed: 19s
alsoQueueAction: FinishBuild
produceUnits: D_Bloat



[hiddenAction_Air3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasResources(credits=22000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0)
alsoQueueAction: Air4
addResources: setFlag=1, credits=-700

[hiddenAction_Air4]
buildSpeed: 8s
alsoQueueAction: FinishBuild
produceUnits: D_Netter


[hiddenAction_Lobster1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Shield', greaterThan=0) and self.hasResources(credits=50000, Data=3000, Lobster=1) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) or self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and self.hasResources(credits=50000, Data=3000, Lobster=1) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
alsoQueueAction: Lobster2
addResources: setFlag=1, credits=-13000, Data=-300

[hiddenAction_Lobster2]
buildSpeed: 80s
#addResources: credits=-120
alsoQueueAction: FinishBuild
produceUnits: D_Lobster


[hiddenAction_Tank1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiArmour', greaterThan=0) and self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and self.hasResources(credits=60000, Tank=1) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
alsoQueueAction: Tank2
addResources: setFlag=1, credits=-16000

[hiddenAction_Tank2]
buildSpeed: 100s
#addResources: credits=-120
alsoQueueAction: FinishBuild
produceUnits: D_Tank



[hiddenAction_Dragon1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiShield', greaterThan=0) and self.hasResources(credits=70000, Drag=1) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0)
alsoQueueAction: Dragon2
addResources: setFlag=1, credits=-35000

[hiddenAction_Dragon2]
buildSpeed: 135s
#addResources: credits=-120
alsoQueueAction: FinishBuild
produceUnits: D_Dragon






[action_buildAntiNuke]
price:  5000
text: i:gui.actions.buildAntiNuke
description: Builds anti-nuke interceptor missiles. \n-Max of 6 in storage. 
displayType: NONE
buildSpeed: 0.001
pos: 0.2
isActive:if self.ammoIncludingQueued(lessThan=6)
addResources: ammo=1

ai_isDisabled: if self.ammo(greaterThan=2)
isLocked: if not game.nukesEnabled()



[action_showAntiNukeCount]
#infoOnly: true
addResources: ammo=1
price:  ammo=1
text: i:gui.actions.antiNukeCount
description:i:gui.actions.antiNukeCount.description
displayType: none
buildSpeed: 0s
pos: 0.1
displayRemainingStockpile: true
highPriorityQueue: true
isActive:false
isVisible: if game.nukesEnabled()




[graphics]
total_frames: 1

image:        m4.png
image_back: mbase.png
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 3
turretTurnSpeed: 20


maxAttackRange: 260
shootDelay: 50





[turret_2]

#My god, BEES!
x: 15
y: 5
invisible: true
projectile: 1
turnSpeed: 10

shoot_sound:ROOT:Audio/bee.ogg
shoot_sound_vol:0.2
canShoot: true

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


shoot_light:#ff0000
warmup: 9
delay: 9

[turret_silo]
#anti-nuke turret
x: 30
y: 25
idleDir:0
canShoot: false
invisible: true


interceptProjectiles_withTags: nuke
interceptProjectiles_andTargetingGroundUnderDistance: 500
interceptProjectiles_andUnderDistance: 1700
interceptProjectiles_andOverHeight:50


shoot_sound:nuke_launch
shoot_sound_vol:0.15
shoot_light:#FFEECCCC

projectile: antiNukeProjectile
size: 1

turnSpeed: 40

resourceUsage: ammo=1

shoot_flame:shockwave, smoke
#shoot_flame:custom:nukeLaunch



[projectile_antiNukeProjectile]
#anti-nuke
directDamage: 600

life: 99999
speed: 0.2
targetSpeed: 7
targetSpeedAcceleration:0.05

trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:80
ballistic_height: 110
frame: 10
#shadowFrame:1

drawType:0

targetGround: true
areaDamage: 100
areaRadius: 60

areaExpandTime:75

deflectionPower:-1


lightColor: #FFEEEE00
lightSize: 1

alwaysVisibleInFog: true


[projectile_1]
#NOT THE BEES!
directDamage: 65
drawSize: 0.8
life: 500
speed: 0.2
targetSpeed: 5

largeHitEffect: true

trailEffect: false
ballistic: true
ballistic_delaymove_height:40
ballistic_height: 50
image: bee.png


autoTargetingOnDeadTarget: true
mutator1_ifUnitWithTags: orbital
mutator1_directDamageMultiplier: 3



[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]


upgradedFrom: D_Mound1



