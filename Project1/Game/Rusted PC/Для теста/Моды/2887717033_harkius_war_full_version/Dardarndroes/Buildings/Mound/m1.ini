
[core]
name: D_Mound1
displayText: Dardarndroe Mound
displayDescription: -Facility for building vehicles \n- Can be upgraded for better defences.  
class: CustomUnitMetadata
price: 3000
maxHp: 1100
mass: 9000

generation_credits: 8
generation_delay: 40



copyFrom: ROOT:Building_AI_Base.ini
#borrowResourcesWhileAlive: AG=-3, AntiArmour=-3
tags: Building, Turret, Factory, NoCap, Economy



disableAllUnitCollisions: true




#footprint used for collisions with units (left, up, right, down)
footprint: -1,-1,1,1
#used for placement, and placement of other buildings
constructionFootprint:-2,-2,2,1

buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0

unitsSpawnedOnDeath: D_Blob, D_Drone1*2
techLevel: 1
buildSpeed: 0.0005
#availableInDemo: true
selfBuildRate: 0.0005

selfRegenRate:0.2

radius: 50
#displayRadius: 80
isBio: true
isBuilding: true

#armour: 1
tags: NoCap

exit_x: 0
exit_y: -1

softCollisionOnAll: 3

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5




nanoFactorySpeed:0.8



canBuild_1_name: setRally
canBuild_1_pos:  0.1

canBuild_2_name: D_Scavanger
canBuild_2_pos: 1

canBuild_3_name: D_Drone1
canBuild_3_pos: 2



[hiddenAction_Started]
takeResources: ETurret=-3, EAG=-3, EAA=-1, EAntiArmour=-1
[hiddenAction_Started_UpdateAlly]
takeResources: AG=0
[hiddenAction_Killed]
takeResources: ETurret=3, EAG=3, EAA=1, EAntiArmour=1
[hiddenAction_Killed_UpdateAlly]
takeResources: AG=0
#TotalUnit=-1


[action_upgrade_1]
convertTo: D_Mound2
price:  5600
text: Grow Nerve Mounds
description: -Increases credits. \n-Improves defence and unit selection.\n-Generates Data
displayType: Upgrade
buildSpeed: 30s
pos: 0
iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
descriptionAddUnitStats: ${section.convertTo}

alsoTriggerAction: upStat, upStat_UpdateAlly

[hiddenAction_upStat]
@copyFromSection: hiddenAction_Started
takeResources: EAA=-2, EAntiArmour=-1
[hiddenAction_upStat_UpdateAlly]
@copyFromSection: hiddenAction_Started
takeResources_includeUnitsWithinRange_team: allyNotOwn
takeResources: AntiArmour=0







[hiddenAction_FinishBuild]
buildSpeed: 0.1s
addResources: unsetFlag=1


[hiddenAction_Drone1]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=2000) and self.NumberOfUnitsInTeam(withTag='HELP', greaterThan=0, withinRange=350) and not self.hasFlag(id=1) or self.isControlledByAI() and self.hasResources(credits=2000) and self.NumberOfUnitsInTeam(withTag='ALL_ATTACK', greaterThan=0) and numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=900) and not self.hasFlag(id=1)
alsoQueueAction: Drone2
addResources: setFlag=1, credits=-40

[hiddenAction_Drone2]
buildSpeed: 0.8s
#addResources: credits=-500
alsoQueueAction: FinishBuild
spawnUnits: D_Drone1




[graphics]
total_frames: 1

image:        mound.png
image_back: mbase.png
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 3
turretTurnSpeed: 20


maxAttackRange: 200
shootDelay: 50





[turret_2]

#My god, BEES!
x: 15
y: 5
invisible: true
projectile: 1
turnSpeed: 10

shoot_sound:ROOT:Audio/bee.ogg
shoot_sound_vol:0.2
canShoot: true

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false


shoot_light:#ff0000
warmup: 15
delay: 15



[projectile_1]
#NOT THE BEES!
directDamage: 50
drawSize: 0.8
life: 230
speed: 0.2
targetSpeed: 5

largeHitEffect: true

trailEffect: false
ballistic: true
ballistic_delaymove_height:40
ballistic_height: 50
image: bee.png


autoTargetingOnDeadTarget: true




[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]


#upgradedFrom: D_Mound1

buildPriority: 0.05
noneInBaseExtraPriority: 0.1


