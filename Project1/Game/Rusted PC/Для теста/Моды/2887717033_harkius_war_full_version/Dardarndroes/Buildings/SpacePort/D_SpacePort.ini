
[core]
name: DarPort
displayText: Trench
displayDescription: -A trench that spaceships are constructed in. \n -Builds orbital units.
class: CustomUnitMetadata
price: 8000
maxHp: 2900
mass: 9000



disableAllUnitCollisions: true
copyFrom: ROOT:Dardarndroes/Resource.ini
tags: NoCap, Building, Factory, SpacePort



#footprint used for collisions with units (left, up, right, down)
footprint: -4,-1,3,2
#used for placement, and placement of other buildings
constructionFootprint: -4, -1, 3, 2

buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0


techLevel: 1
buildSpeed: 0.0005
selfBuildRate: 0.0002
#availableInDemo: true

radius: 70
#displayRadius: 120
isBio: false
isBuilding: true

selfRegenRate:0.5

exit_x: 0
exit_y: -10
exit_moveAwayAmount:170

tags: NoCap
softCollisionOnAll: 3

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5




[canBuild_rally]
name: setRally
pos: -1

[canBuild_Fighter]
name: D_Swarmer
pos:  1
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AO', greaterThan=0)


[canBuild_LBomber]
name: D_NanoCloud
pos:  2
isLocked: if not self.hasResources(Nano=1) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=15) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_LD', greaterThan=0)

[canBuild_HBomber]
name: D_Lasher
pos:  2
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=15)
 

[canBuild_4]
name: D_SolarBulb
pos:  3
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=15) and not self.hasUnitInTeam(withTag='Q_AO', greaterThan=0)


[canBuild_5]
name: D_MicroStructure
pos:  4
price: credits=250000, Data=2500
isLocked: if not self.hasResources(Structures=1)


[hiddenAction_FinishBuild]
buildSpeed: 0.1s
addResources: unsetFlag=1



[hiddenAction_TitanCounter1]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0) and self.hasResources(credits=300000) and not self.hasFlag(id=1) and self.hasResources(Structures=1) and self.hasResources(Data=2000) 
alsoQueueAction: TitanCounter2
addResources: setFlag=1, credits=-250000, Data=-1500

[hiddenAction_TitanCounter2]
buildSpeed: 0.00008
#addResources: credits=-500000
alsoQueueAction: FinishBuild
spawnUnits: D_MicroStructure



[hiddenAction_TitanCounter4]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0) and self.hasResources(credits=200000) and not self.hasFlag(id=1) and not self.hasResources(Structures=1)
alsoQueueAction: TitanCounter5
addResources: setFlag=1, credits=-68000

[hiddenAction_TitanCounter5]
buildSpeed: 80s
#addResources: credits=-500000
alsoQueueAction: FinishBuild
spawnUnits: D_SolarBulb






[hiddenAction_Fighter1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AO', greaterThan=0) and self.hasResources(credits=20000) and not self.hasResources(credits=100000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStation', greaterThan=0) and self.hasResources(credits=20000) and not self.hasFlag(id=1)
alsoQueueAction: Fighter2
addResources: setFlag=1, credits=-900

[hiddenAction_Fighter2]
buildSpeed: 18s
alsoQueueAction: FinishBuild
spawnUnits: D_Swarmer



[hiddenAction_Bomber1]
autoTrigger: if self.isControlledByAI() and self.hasResources(credits=70000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Orbit', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AO', greaterThan=0)
alsoQueueAction: Bomber2
addResources: setFlag=1, credits=-22500

[hiddenAction_Bomber2]
buildSpeed: 0.0002
alsoQueueAction: FinishBuild
spawnUnits: D_Lasher






[graphics]
total_frames: 1

image:        port.png
image_back: ruin.png
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1



[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 10
shootDelay: 100








[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

buildPriority: 0.15

noneGlobalExtraPriority: 0.2

maxEachBase: 2

