[core]
name: D_Mutation
displayText: Mutation Plant 
displayDescription: -Creates specialised units.  
class: CustomUnitMetadata
price: 2500
maxHp: 1400
mass: 9000


tags: NoCap, Builder, Factory

#footprint used for collisions with units (left, up, right, down)
footprint: -1,-1,1,1

#used for placement, and placement of other buildings
constructionFootprint: -1,-1,1,3


copyFrom: ROOT:Dardarndroes/Resource.ini


disableAllUnitCollisions: true



buildingToFootprintOffsetX:10
buildingToFootprintOffsetY:0



techLevel: 1
buildSpeed: 0.001
#availableInDemo: true
selfBuildRate: 0.0005
radius: 50
#displayRadius: 80
isBio: true
isBuilding: true

selfRegenRate:0.3

#armour: 2

unitsSpawnedOnDeath: D_Blob

exit_x: 0
exit_y: -1

softCollisionOnAll: 3

#builtFrom_1_name: landFactory
#builtFrom_1_pos:  5




[canBuild_rally]
name: setRally
pos: -1
#isLocked: false
#isLockedMessage: NONE
#isGuiBlinking: if not self.hasUnitInTeam(withTag='anti-orbital', greaterThan=0, withinRange=1000)

[canBuild_Builder]
name: D_Scavanger
pos: 1
[canBuild_Basic]
name: D_Acid, 
pos: 1
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_AA]
name: D_Netter
pos: 1
isLocked: if self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_Carrier]
name: D_Carrier
pos: 1
isLocked: if not self.hasResources(Carrier=1)

[canBuild_2]
name: D_Bloat
pos: 2
isLocked: if not self.hasResources(Bloat=1) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0)

[canBuild_3]
name: D_Brute
pos: 3
isLocked: if not self.hasResources(Brute=1) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)

[canBuild_4]
name: D_Spore
pos: 4
isLocked: if not self.hasResources(Spore=1) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasUnitInTeam(withTag='Unit', greaterThan=5)


[canBuild_5]
name: D_Worm
pos: 5
isLocked: if not self.hasResources(Worm=1)
price: credits=8500, Data=70




[hiddenAction_FinishBuild]
buildSpeed: 0.1s
addResources: unsetFlag=1






[hiddenAction_Range]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_Range', greaterThan=0) and self.hasResources(credits=25000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) and self.hasResources(Spore=1)
alsoQueueAction: Range2
addResources: setFlag=1, credits=-2200

[hiddenAction_Range2]
buildSpeed: 40s
alsoQueueAction: FinishBuild
spawnUnits: D_Spore




[hiddenAction_Air1]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasResources(credits=30000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0) and self.hasResources(Bloat=1)
alsoQueueAction: Air2
addResources: setFlag=1, credits=-1000

[hiddenAction_Air2]
buildSpeed: 19s
alsoQueueAction: FinishBuild
spawnUnits: D_Bloat



[hiddenAction_Air3]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasResources(credits=22000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Air', greaterThan=0)
alsoQueueAction: Air4
addResources: setFlag=1, credits=-700

[hiddenAction_Air4]
buildSpeed: 8s
alsoQueueAction: FinishBuild
spawnUnits: D_Netter




[hiddenAction_AG]
autoTrigger: if self.isControlledByAI() and self.hasUnitInTeam(withTag='Q_AntiLD', greaterThan=0) and self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and self.hasResources(credits=25000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0) or self.isControlledByAI() and not self.hasUnitInTeam(withTag='Q_AA', greaterThan=0) and self.hasUnitInTeam(withTag='Q_AG', greaterThan=0) and self.hasResources(credits=40000) and not self.hasFlag(id=1) and self.hasUnitInTeam(withTag='Q_Land', greaterThan=0)
alsoQueueAction: AG2
addResources: setFlag=1, credits=-2200

[hiddenAction_AG2]
buildSpeed: 46s
alsoQueueAction: FinishBuild
spawnUnits: D_Brute







[graphics]
total_frames: 1

image:        mutation.png
image_back: base.png
image_wreak:  NONE

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: NONE
shadowOffsetX:1
shadowOffsetY:1




[attack]
canAttack: false
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 20
turretTurnSpeed: 3


maxAttackRange: 250
shootDelay: 100










[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]

buildPriority: 0.12

noneInBaseExtraPriority: 0.37

maxEachBase: 3



