
[core]
name: D_SolarBulb
displayText: Solar Bulb
displayDescription: A huge growth of Dardarndroe cells placed in orbit. \n-Can capture things that stay directly below it (this ability needs a long recharge time). \n -Can fire energy beams and spore missiles at orbital units. \n-Can drop cell bombs at the ground. \n-Produces income. \n-Can target submarines but not stealth units.
class: CustomUnitMetadata
price: 68000
maxHp: 4500
mass: 20000
transportSlotsNeeded: 999


copyFrom: ROOT:Orbital_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Orbit=-9, AO=-7, AA=-3, AG=-3, AS=-1, Artillery=-1
tags: orbital, anti-orbital, AO3, AntiOT, Orbit3, CanFollow, Station, CanLead3, Obomb, AG2, AA2, AS, Economy, Range

generation_resources: credits=45, Data=3
generation_delay: 40

techLevel: 2
experimental: false

buildSpeed: 80s
#availableInDemo: true

radius: 60
#displayRadius: 11
isBio: false
softCollisionOnAll: 3


fogOfWarSightRange: 50


#builtFrom_1_name: Krovnork Factory T2
#builtFrom_1_pos:  8
#builtFrom_2_name: airFactoryT2_c
#builtFrom_2_pos:  8
#builtFrom_3_name: airFactoryT3
#builtFrom_3_pos:  8


canOnlyBeAttackedByUnitsWithTags: orbital, anti-orbital

disableAllUnitCollisions: true

maxTransportingUnits: 0

#transportSlotsNeeded: 10

energyMax: 1
energyRegen: 0.00008
energyNeedsToRechargeToFull: true

selfRegenRate: 5

maxShield: 12000
shieldRegen: 2


unitsSpawnedOnDeath: D_SpaceBlob*5


[hiddenAction_Started]
takeResources: EOrbit=-9, EAO=-7, EAA=-3, EAG=-3, EAS=-1, EArtillery=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Orbit=-9, AO=-7, AA=-3, AG=-3, AS=-1, Artillery=-1
[hiddenAction_Killed]
takeResources: EOrbit=9, EAO=7, EAA=3, EAG=3, EAS=1, EArtillery=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Orbit=9, AO=7, AA=3, AG=3, AS=1, Artillery=1
#TotalUnit=-1




[animation_move]
onActions: move
start: 0
end: 1
speed: 10

[animation_attack]
onActions: attack
start: 0
end: 1
speed: 10


[animation_idle]
onActions: idle
start: 0
end: 1
speed: 10



[global_resource_Data]
displayName: Data
displayRoundedDown: true
displayColor: #8100FF

[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=4450) and not numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=800) and self.shield(greaterThan=8000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=4400) or self.isControlledByAI() and numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=500) or self.isControlledByAI() and self.shield(lessThan=5000)
temporarilyAddTags: Retreat








[graphics]
total_frames: 2

image:        body.png
image_wreak:  NONE
image_turret: NONE
icon_zoomed_out: mapOrbit.png


image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1



[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
#attackMovement: bomber
maxAttackRange: 900

turretMultiTargeting: true
aimOffsetSpread: 0.6



[turret_1]
#bomber
invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: orbital
delay: 0


shoot_sound: plasma_fire
shoot_sound_vol:0.4
shoot_flame:large
shoot_light:#00b1ff

delay: 40
warmup: 50

canOnlyAttackUnitsWithTags: orbital

projectile: 1
size: 30
turnSpeed: 0.8
limitingRange: 800


[turret_2]
#missiles
x: 10
y: 35

projectile: 2

invisible: true


canShoot: true
turnSpeed: 5
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: orbital


shoot_sound: missile_fire
shoot_sound_vol:0.15
shoot_flame:small
shoot_light:#FFEECCCC
delay: 2.5s
warmup: 0






[turret_3]
#missiles
x: 10
y: 35

projectile: 3

invisible: true


canShoot: true
turnSpeed: 5
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canOnlyAttackUnitsWithoutTags: orbital


#shoot_sound: missile_fire
#shoot_sound_vol:0.15
#shoot_flame:small
shoot_light:#FFEECCCC
delay: 180
warmup: 40
limitingRange: 300




[turret_4]
#missiles
x: 10
y: 35

projectile: 4

invisible: true


canShoot: true
turnSpeed: 5
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canOnlyAttackUnitsWithoutTags: orbital, NoCap


shoot_sound: missile_fire
shoot_sound_vol:0.3
shoot_flame:small
shoot_light:#FFEECCCC
delay: 0
warmup: 0.7s
limitingRange: 100
energyUsage: 1





[projectile_1]
#bomb

#cannot use directDamage with targetGround
directDamage: 1250
image: shot.png

life: 250
speed: 30


largeHitEffect: true

trailEffect: CUSTOM:trail
trailEffectRate:0.2

#targetGround: true
#targetGroundSpread: 100

areaDamage: 50
areaRadius: 150

#for laser defence
deflectionPower: -1
armourIgnoreAmount: 400




[projectile_2]
#missile
life: 600
directDamage: 180
speed: 1.5
targetSpeed: 12
trailEffect: true
image: missile.png
areaDamage: 70
areaRadius: 40
autoTargetingOnDeadTarget: true
spawnUnit: D_SpaceBlob*2(offsetHeight=600)
deflectionPower: -1




[projectile_3]
#missile
life: 200
directDamage: 35
speed: 1.5
targetSpeed: 20
trailEffect: true
image: shot2.png
areaDamage: 400
areaRadius: 300
autoTargetingOnDeadTarget: false
spawnUnit: D_Cells*5

deflectionPower: 4




[projectile_4]
#missile
life: 200
directDamage: 400
speed: 1.5
targetSpeed: 20
trailEffect: true
image: shot3.png

convertHitToSourceTeam: true

deflectionPower: 10





[effect_trail]
image: shot.png
life: 10
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1



[movement]
movementType: AIR
moveSpeed: 0.24
moveAccelerationSpeed: 0.005
moveDecelerationSpeed: 0.01

landOnGround: false
targetHeight: 600

maxTurnSpeed: 0.2
turnAcceleration: 0.01

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  45


slowDeathFall: true


[ai]

#useAsTransport: true
#useAsBuilder: true

buildPriority: 0.01
noneGlobalExtraPriority: 0.4


