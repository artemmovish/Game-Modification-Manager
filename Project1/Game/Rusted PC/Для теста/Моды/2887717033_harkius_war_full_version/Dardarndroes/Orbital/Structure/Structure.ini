
[core]
name: D_MicroStructure
displayText: MicroStructure
displayDescription: The first stage of the Structure spaceship series. \n-Spawns in countless nano swarms in combat.\n -Can bombard ground targets and fight in orbital. \n-Very durable, drains income. \n-Eventually, this will grow in to any number of planet devouring forms, if not destroyed here.

class: CustomUnitMetadata
price: 260000
maxHp: 22000
mass: 20000
transportSlotsNeeded: 999
copyFrom: ROOT:Dardarndroes/Resource.ini
generation_resources: credits=-80, Data=-10
generation_delay: 40


copyFrom: ROOT:Orbital_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Orbit=-27, AO=-27, AA=-9, AG=-9, Artillery=-3, AntiArmour=-9, AS=-9
tags: orbital, anti-orbital, AOT, AntiOT, OrbitT, CanFollow, Station, CanLeadT, Obomb, AG3, AA3, Range2, AntiArmour3, AS3


techLevel: 2
experimental: false

buildSpeed: 160s
#availableInDemo: true

radius: 90
#displayRadius: 11
isBio: false
softCollisionOnAll: 3


fogOfWarSightRange: 80

armour: 6

canOnlyBeAttackedByUnitsWithTags: orbital, anti-orbital


disableAllUnitCollisions: true

maxTransportingUnits: 0

#transportSlotsNeeded: 10

energyMax: 15
energyRegen: 0.025
energyNeedsToRechargeToFull: true

selfRegenRate: 2

maxShield: 22000
shieldRegen: 3

unitsSpawnedOnDeath: D_NanoCloud*20, D_Nano*100



[hiddenAction_Started]
takeResources: EOrbit=-27, EAO=-27, EAA=-9, EAG=-9, EArtillery=-3, EAntiArmour=-9, EAS=-9
[hiddenAction_Started_UpdateAlly]
takeResources: Orbit=-27, AO=-27, AA=-9, AG=-9, Artillery=-3, AntiArmour=-9, AS=-9
[hiddenAction_Killed]
takeResources: EOrbit=27, EAO=27, EAA=9, EAG=9, EArtillery=3, EAntiArmour=9, EAS=9
[hiddenAction_Killed_UpdateAlly]
takeResources: Orbit=27, AO=27, AA=9, AG=9, Artillery=3, AntiArmour=9, AS=9
#TotalUnit=-1




[global_resource_Data]
displayName: Data
displayRoundedDown: true
displayColor: #8100FF

[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=21000) and not numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=800)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=20000) or numberOfUnitsInEnemyTeam(withTag='TiStationPart', greaterThan=0, withinRange=500)
temporarilyAddTags: Retreat





[graphics]
total_frames: 1

image:        body.png
image_wreak:  NONE
image_turret: NONE
icon_zoomed_out: mapOrbit.png


image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

movementEffect: CUSTOM:thrust
movementEffectRate: 30

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
#attackMovement: bomber
maxAttackRange: 960

turretMultiTargeting: true
aimOffsetSpread: 0.6



[turret_1]
#bomber
invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: orbital
delay: 0


shoot_sound: ROOT:Audio/rocket1.wav
shoot_sound_vol:0.4
shoot_flame:large
shoot_light:#00b1ff

delay: 5
warmup: 5



projectile: 1
size: 30
turnSpeed: 0.8
limitingRange: 770


[turret_2]
#missiles
x: 0
y: 0

projectile: 2

invisible: true


canShoot: true
turnSpeed: 5
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: orbital


shoot_sound: missile_fire
shoot_sound_vol:0.15
shoot_flame:small
shoot_light:#FFEECCCC
delay: 4
warmup: 4

energyUsage: 1




[turret_3]
#missiles
x: 0
y: 0

projectile: 3

invisible: true


canShoot: true
turnSpeed: 5
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canOnlyAttackUnitsWithoutTags: orbital


#shoot_sound: missile_fire
#shoot_sound_vol:0.15
#shoot_flame:small
shoot_light:#FFEECCCC
delay: 70
warmup: 60
limitingRange: 350





[turret_4]
#missiles
x: 0
y: 0

projectile: 4

invisible: true


canShoot: true
turnSpeed: 10
turnSpeedAcceleration: 1.0

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
canOnlyAttackUnitsWithTags: orbital

delay: 0.6s
warmup: 0.1s
limitingRange: 500






[projectile_1]
#bomb

#cannot use directDamage with targetGround
directDamage: 345
image: trailshot.png

life: 300
speed: 20


largeHitEffect: true

trailEffect: CUSTOM:trail
trailEffectRate:0.2

#targetGround: true
#targetGroundSpread: 100

areaDamage: 45
areaRadius: 60

#for laser defence
deflectionPower: -1
armourIgnoreAmount: 450



[projectile_2]
#missile
life: 600
directDamage: 180
speed: 1.5
targetSpeed: 12
trailEffect: true
image: missile.png
areaDamage: 70
areaRadius: 40
#autoTargetingOnDeadTarget: true
spawnUnit: D_NanoCloud2(offsetHeight=600)
deflectionPower: -1
armourIgnoreAmount: 500



[projectile_3]
#missile
life: 200
directDamage: 35
speed: 1.5
targetSpeed: 20
trailEffect: true
image: shot2.png
areaDamage: 400
areaRadius: 300
#autoTargetingOnDeadTarget: false
spawnUnit: D_Nano*12

deflectionPower: 4




[projectile_4]
#missile
life: 600
directDamage: 1
speed: 0.1
targetSpeed: 20

trailEffect: false
image: orb.png

#autoTargetingOnDeadTarget: true
spawnUnit: D_NanoCloud2(offsetHeight=600)

deflectionPower: -1



[effect_thrust]
image: thrust.png
life: 50
fadeOut: true
attachedToUnit: false
fadeInTime:2
drawUnderUnits:false
#ySpeedRelative:-0.4
atmospheric: true

[effect_trail]
image: trail.png
life: 10
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1







[arm_1]
x:0
y:0
image_end:cloud.png
image_end_shadow: SHADOW:cloud.png

drawOverBody:true
spinRate:0.05




[movement]
movementType: AIR
moveSpeed: 0.45
moveAccelerationSpeed: 0.005
moveDecelerationSpeed: 0.001

landOnGround: false
targetHeight: 600

maxTurnSpeed: 0.2
turnAcceleration: 0.01

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  45


slowDeathFall: true


[ai]

#useAsTransport: true
#useAsBuilder: true

buildPriority: 0.01
noneGlobalExtraPriority: 0.4


