
[core]
name: D_Drone3
displayText: Drone
displayDescription: A basic form of Dardarndroe. \n -Improved armour and power. \n-Extremely cheap and still weak.\n-Can traverse most terrain and swim.\n-Regenerates health. \n-Hidden from some titan weapons.
class: CustomUnitMetadata

price: 80
maxHp: 110
mass: 700

canNotBeGivenOrdersByPlayer: true
tags: Ground, Cliff, Water, AG, AA, Small, AS



armour: 2
techLevel: 1
experimental: false

buildSpeed: 1.8s

ignoreInUnitCapCalculation: true


radius: 20
displayRadius: 20


softCollisionOnAll: 15

transportSlotsNeeded: 1


isBio: false
selfRegenRate:0.12


energyMax: 25
energyRegen: 0.02
energyNeedsToRechargeToFull: true




hideScorchMark: true
explodeOnDeath: false






[hiddenAction_Attack]
#autoTrigger: if not self.hasActiveWaypoint()
autoTriggerOnEvent: completeAndActive

clearAllWaypoints: false
addWaypoint_prepend: true
addWaypoint_type: attackMove
addWaypoint_target_nearestUnit_maxRange: 99999
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_target_nearestUnit_tagged: Unit
addWaypoint_target_mapMustBeReachable: true
addWaypoint_triggerActionIfFailed: Attack2

[hiddenAction_Attack2]
clearAllWaypoints: false
addWaypoint_prepend: true
addWaypoint_type: attackMove
addWaypoint_target_nearestUnit_maxRange: 99999
addWaypoint_target_nearestUnit_team: enemy
addWaypoint_target_nearestUnit_tagged: Building
addWaypoint_target_mapMustBeReachable: true
addWaypoint_triggerActionIfFailed: TriggerSwitch


[hiddenAction_TriggerSwitch]
autoTrigger: if not self.isOverPassableTile(Type='OVER_CLIFF_WATER') and self.hasResources(energy=25) or self.numberofUnitsInEnemyTeam(withTag='Air', greaterThan=0, withinRange=280) and self.hasResources(energy=25) or self.numberofUnitsInEnemyTeam(withTag='Air2', greaterThan=0, withinRange=280) and self.hasResources(energy=25) or self.numberofUnitsInEnemyTeam(withTag='Air3', greaterThan=0, withinRange=280) and self.hasResources(energy=25) or self.numberofUnitsInEnemyTeam(withTag='AirT', greaterThan=0, withinRange=280) and self.hasResources(energy=25)
alsoQueueAction: Fly

[hiddenAction_Fly]
alsoTriggerAction: takeoff
alsoTriggerOrQueueActionConditional: if self.hasResources(energy=25)


[action_timerLava]
autoTrigger: if not self.isOverPassableTile(Type='OVER_CLIFF_WATER')
isVisible: false
addResources: ammo=10
buildSpeed: 0.5s
#fireTurretXAtGround: 1
#fireTurretXAtGround_withOffset: 0,0





[action_takeoff]
convertTo: D_Drone3F
text: Fly
pos: 1
description: Use wings to fly for some time
displayType: action
isLocked: false
price: energy=25
addResources: energy=25

[action_trigger_onLand]
autoTrigger: if self.overWater()

convertTo: D_Drone3W
buildSpeed: 0
text: TRIGGER
isVisible: false


[action_timer]
autoTrigger: true
isVisible: false
addResources: ammo=1
buildSpeed: 0.5s
#fireTurretXAtGround: 1
#fireTurretXAtGround_withOffset: 0,0

[action_Failsafe]
convertTo: D_Dead
isVisible: false
displayType: action
autoTrigger: if self.ammo(greaterThan=60)
addResources: ammo=-55
price:  ammo=55


[graphics]
total_frames: 4
teamColorsOnTurret: true
image:        body.png
#image_wreak: corpse.png
image_wreak: NONE
image_turret: jaws.png

animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 120
animation_idle_scale_start:1
animation_idle_scale_end:1.04
animation_idle_pingPong: true




image_shadow: NONE

animation_moving_start: 0
animation_moving_end: 3
animation_moving_speed: 3


dustEffect: false


[attack]

isMelee: true
meleeEngangementDistance: 9999

canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

isFixedFiring: true

turretSize: 20
turretTurnSpeed: 3

maxAttackRange: 9
shootDelay: 30



[turret_1]
x: 0
y: 10

delay: 0.5s
warmup: 0.5s

recoilOffset: 1
recoilOutTime: 2
recoilReturnTime: 4


[projectile_1]
directDamage: 60
life: 50
instant: true









[arm_1]
x: 0
y: 0
image_end: body2.png
drawOverBody: true
image_end_teamColors: true


[arm_2]
x: 0
y: 0

image_end: shell left.png
drawOverBody: true
image_end_teamColors: true

[arm_3]
x: 0
y: 0
image_end: shell right.png
drawOverBody: true
image_end_teamColors: true







[movement]
movementType: OVER_CLIFF_WATER
moveSpeed: 1.5
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.12


maxTurnSpeed: 4.5
turnAcceleration: 0.4

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181

reverseSpeedPercentage:0

joinsGroupFormations: false


[ai]



ai_upgradePriority: 0.35
