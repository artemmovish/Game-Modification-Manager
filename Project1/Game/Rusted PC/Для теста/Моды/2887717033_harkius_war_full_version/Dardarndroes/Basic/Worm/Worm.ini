[core]
name: D_Worm
displayText: Worm
displayDescription: Oh, great. They've gone underground. \n -Tunnels through any terrain. \n-Stealth Unit. \n-Delicate, despite the size.\n-Immense damage against buildings.\n-Pathetic damage against units. \n-Drains some credits to remain active

class: CustomUnitMetadata

price: 8500
maxHp: 300
mass: 99999

generation_credits: -10

copyFrom: ROOT:Unit_AI_Base.ini
borrowResourcesWhileAlive: TotalUnit=-1, AG=-1, Artillery=-3, AntiStealth=-1, AS=-1, Stealth=-9
tags: Unit, anti-stealth, AStealth, stealth, isStealth3, Range2, AS, AG, CanLead1

techLevel: 3
experimental: true

buildSpeed: 65s

isBio: true


canOnlyBeAttackedByUnitsWithTags: anti-stealth

radius: 50
displayRadius: 60

softCollisionOnAll: 25


transportSlotsNeeded: 9999



selfRegenRate:0.05

[hiddenAction_Started]
takeResources: EAG=-1, EArtillery=-3, EAntiStealth=-1, EAS=-1, EStealth=-9
[hiddenAction_Started_UpdateAlly]
takeResources: AG=-1, Artillery=-3, AntiStealth=-1, AS=-1, Stealth=-9
[hiddenAction_Killed]
takeResources: EAG=1, EArtillery=3, EAntiStealth=1, EAS=1, EStealth=9
[hiddenAction_Killed_UpdateAlly]
takeResources: AG=1, Artillery=3, AntiStealth=1, AS=1, Stealth=9
#TotalUnit=-1


[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=280)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=200)
temporarilyAddTags: Retreat





[animation_move]
onActions: move
start: 0
end: 2
speed: 8

[animation_attack]
onActions: attack
start: 0
end: 2
speed: 3



[graphics]
total_frames: 3
teamColorsOnTurret: true
image:        Worm.png
image_wreak: NONE
image_turret: NONE

movementEffect: CUSTOM:rubble2
movementEffectRate: 2


image_shadow: NONE

#lock_body_rotation_with_main_turret: true

imageSmoothing: true
isVisibleToEnemies: false



[attack]

isMelee: true

canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

isFixedFiring: true

turretSize: 50
turretTurnSpeed: 3

maxAttackRange: 35
shootDelay: 30
aimOffsetSpread:0
meleeEngangementDistance: 300



[turret_1]
x: 0
y: 0

delay: 0.1s
warmup: 0.1s

invisible: true




[projectile_1]
directDamage: 5
life: 50
instant: true
explodeEffect: CUSTOM:rubble
buildingDamageMultiplier: 15




[effect_rubble]
attachedToUnit: false
life: 45
physics: true
xSpeedRelativeRandom: 1.5
ySpeedRelativeRandom: 1.5
hSpeed: 2
image: scrap.png
priority: verylow
atmospheric: true
fadeOut: true



[effect_rubble2]
attachedToUnit: false
life: 75
physics: true
xOffsetRelativeRandom: 25
yOffsetRelativeRandom: 40
xSpeedRelativeRandom: 2
ySpeedRelativeRandom: 2
hSpeed: 3
image: scrap.png
priority: verylow
atmospheric: true
fadeOut: true





[movement]
movementType: AIR
moveSpeed: 0.65
moveAccelerationSpeed: 0.07
moveDecelerationSpeed: 0.5


maxTurnSpeed: 2
turnAcceleration: 0.2

moveSlidingMode :false
moveIgnoringBody:false
moveSlidingDir:  181

reverseSpeedPercentage:0.3


targetHeight: -5
targetHeightDrift: 0

[ai]
useAsBuilder: false



