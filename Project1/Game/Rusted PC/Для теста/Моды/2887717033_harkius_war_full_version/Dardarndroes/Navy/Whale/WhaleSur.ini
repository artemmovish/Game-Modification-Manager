
[core]
name: D_Whale
class: CustomUnitMetadata
displayText: Strike Whale
displayDescription: A fast, deadly aquatic machine. \n -Can fire missiles at ground targets while submerged. \n -Can attack submarines. \n-Can surface for more firepower, speed, anti-air and anti-orbit attacks. 


copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Water=-9, AG=-9, AA=-3, AntiArmour=-3, Artillery=-3, AS=-9, AO=-1, AntiNavy=-9, AntiLD=-1
tags: Unit, Navy3, AG3, AA3, AS3, AntiArmour2, CanLead2, Range2, AO, anti-orbital, AntiNavy3, ALD, Beam2


price: 45000
maxHp: 12000
mass: 100000
armour: 2

generation_credits: -30
generation_delay: 40

techLevel: 2
buildSpeed: 85s
availableInDemo: false

transportSlotsNeeded: 8
radius: 60
#displayRadius: 11
isBio: false
#softCollisionOnAll: 3
fogOfWarSightRange: 26
experimental: true



action_1_convertTo: D_Whale_S
action_1_displayType: action
action_1_price:  0
action_1_text: Submerge
action_1_buildSpeed: 0s
action_1_whenBuilding_cannotMove: false




selfRegenRate:0.32

nukeOnDeath: true
nukeOnDeathRange: 150
nukeOnDeathDamage: 5000
nukeOnDeathDisableWhenNoNuke: true


[hiddenAction_Started]
takeResources: EWater=-9, EAG=-9, EAA=-3, EAntiArmour=-3, EArtillery=-3, EAS=-9, EAO=-1, EAntiNavy=-9, EAntiLD=-1, EBeam=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Water=-9, AG=-9, AA=-3, AntiArmour=-3, Artillery=-3, AS=-9, AO=-1, AntiNavy=-9, AntiLD=-1
[hiddenAction_Killed]
takeResources: EWater=9, EAG=9, EAA=3, EAntiArmour=3, EArtillery=3, EAS=9, EAO=1, EAntiNavy=9, EAntiLD=1, EBeam=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Water=9, AG=9, AA=3, AntiArmour=3, Artillery=3, AS=9, AO=1, AntiNavy=9, AntiLD=1
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=9000)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=5000)
temporarilyAddTags: Retreat


[graphics]
total_frames: 1

image:        Body.png
image_wreak:  NONE
image_turret: Turret1.png
teamColorsOnTurret: true

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: NONE


#lock_body_rotation_with_main_turret: true

splastEffect: true






[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true


turretSize: 0
turretTurnSpeed: 1.5
isFixedFiring: false

maxAttackRange: 450


shootDelay: 3s

turretMultiTargeting: true


[turret_RocketLauncher]
#missile launcher
x: 0
y: 13
idleDir:0

invisible:true

shoot_sound:missile_fire
shoot_sound_vol:0.3
shoot_flame:NONE
shoot_light:#FFfffb92
projectile: Rocket



[projectile_Rocket]
#missile
directDamage: 125

life: 240
speed: 0.3
targetSpeed: 8
trailEffect: true
largeHitEffect: true
ballistic: true
ballistic_delaymove_height:40
ballistic_height: 50
frame: 4



#targetGround: true
#targetGroundSpread: 25

areaDamage: 225
areaRadius: 55

autoTargetingOnDeadTarget: true
mutator1_ifUnitWithTags: orbital
mutator1_directDamageMultiplier: 6.5
mutator1_areaDamageMultiplier: 2

armourIgnoreAmount: 500





[turret_AA1]
#
x: 0
y: -40
image: AA.png
projectile: SmallShot
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turnSpeedAcceleration: 0.5
turnSpeed: 3
idleSpin: 1.5

delay: 0.5s
shoot_sound:plasma_fire
shoot_sound_vol:0.3
shoot_flame:shockwave
shoot_light:#FFFFFFAA

canShoot: true
recoilOffset: -2
limitingRange: 220
size: 4
canOnlyAttackUnitsWithoutTags: orbital


[turret_AA2]
x: -25
y: -40
copyFrom: AA1

[turret_AA3]
x: 25
y: -40
copyFrom: AA1




[projectile_SmallShot]
#BEAAAAM!
directDamage: 45
life: 10

laserEffect: true

color: #00b1ff
lightColor: #00b1ff
lightSize: 0.1
drawSize: 0.5

largeHitEffect: false
instant:true
shieldDamageMultiplier: 0.5




[turret_acid1]

#right gunning arm

x: -15
y: 0
projectile: Acid
size: 7


canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

recoilOffset: -4
limitingRange: 300
delay: 1.5s
warmup: 0.5s

canShoot: true
invisible: false


[turret_acid2]
x: 15
y: 0
copyFrom: acid1


[projectile_Acid]
directDamage: 80
life: 200
speed: 5

image: Acid.png

areaExpandTime: 30

#targetGround: true

areaDamage: 40
areaRadius: 60

largeHitEffect: true
trailEffect: CUSTOM:projectileTrail
trailEffectRate:0.2

explodeEffect: CUSTOM:puddle


[effect_puddle]
life: 150

priority: high

scaleFrom: 0.1
scaleTo: 1.5

fadeInTime: 2
fadeOut: true

attachedToUnit: true

image: puddle.png

drawUnderUnits: false

alpha:0.8

[effect_projectileTrail]
image: trail.png
life: 25
fadeOut: true
attachedToUnit: false
fadeInTime:1
scaleFrom: 1
scaleTo: 0.5
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1









[turret_Torp]
#torpedo
invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false

projectile: torpedo
size: 1.1
turnSpeed: 15

delay: 1.2s
limitingRange: 350




[projectile_torpedo]
#torpedo
directDamage: 100
life: 300
speed: 1
targetSpeed: 5
targetSpeedAcceleration: 0.03

drawSize: 1
color: #1E1E96
trailEffect: true
largeHitEffect: true

deflectionPower: -1

wobbleAmplitude: 0.2
wobbleFrequency: 1.2s


#startingTurnSpeed:1
#targetTurnSpeed:3

lightSize:0.4





[movement]
movementType: WATER
moveSpeed: 1.5
moveAccelerationSpeed: 0.1
moveDecelerationSpeed: 0.25
reverseSpeedPercentage: 0.7

maxTurnSpeed: 1
turnAcceleration: 0.1

moveSlidingMode :false
moveIgnoringBody:false
#moveSlidingDir:  45

targetHeight: 1
targetHeightDrift: 0.5




