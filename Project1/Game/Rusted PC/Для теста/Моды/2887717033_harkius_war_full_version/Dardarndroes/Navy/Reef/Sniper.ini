
[core]
name: D_Reef
displayText: Floating Reef
displayDescription: A floating colony of aquatic drones. \n-Slow. \n-Will spawn countless fish drones against naval units.
class: CustomUnitMetadata
price: 3500
maxHp: 1500
mass: 6000


copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Water=-1, AG=-1, AA=-1
tags: Unit, Navy, AG, AA, CanLead1


techLevel: 1
buildSpeed: 42s
availableInDemo: true

radius: 20
#displayRadius: 11

transportSlotsNeeded: 1


isBio: false
#softCollisionOnAll: 3

selfRegenRate:0.2


[hiddenAction_Started]
takeResources: EWater=-1, EAG=-1, EAA=-1
[hiddenAction_Started_UpdateAlly]
takeResources: Water=-1, AG=-1, AA=-1
[hiddenAction_Killed]
takeResources: EWater=1, EAG=1, EAA=1
[hiddenAction_Killed_UpdateAlly]
takeResources: Water=1, AG=1, AA=1
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=1200)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=1000)
temporarilyAddTags: Retreat



[graphics]
total_frames: 1

image:        Body.png
image_wreak:  Dead.png
image_turret:NONE
#teamColorsOnTurret: true

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2


splastEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits:false

turretSize: 1
turretTurnSpeed: 12



maxAttackRange: 650
shootDelay: 1.25s

turretMultiTargeting: true




[turret_1]

#right gunning arm

x: 0
y: 0
projectile: Birb
invisible: true

turnSpeedAcceleration: 0.2


canShoot: true

warmup: 1s



[projectile_Birb]
directDamage: 0
life: 2
speed: 2
spawnUnit: D_Fish(offsetHeight=-8)
explodeOnEndOfLife: true

image: shot.png

targetGround: true
targetGroundSpread: 0

#lightCastOnGround: true





[movement]
movementType: WATER
moveSpeed: 0.6
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.03

reverseSpeedPercentage:0.7

maxTurnSpeed: 0.8
turnAcceleration: 0.05

#moveSlidingMode :false
moveIgnoringBody:true
#moveSlidingDir:  45




