
[core]
name: D_LargeCluster
displayText: Large Floating Cluster
displayDescription: A large floating object that divides when killed. \n-Long range spore launcher can attack ground. \n-Slow. \n-Armed with secondary missiles that can attack land and air.
class: CustomUnitMetadata
price: 9000
maxHp: 2600
mass: 25000


copyFrom: ROOT:Navy_AI.ini
borrowResourcesWhileAlive: TotalUnit=-1, Water=-6, AG=-4, AA=-3, Artillery=-3
tags: Unit, Navy2, Air2, AG2, AA2, CanLead3, Range2


techLevel: 1
buildSpeed: 60s
availableInDemo: true

radius: 40
#displayRadius: 11

transportSlotsNeeded: 4


isBio: false
#softCollisionOnAll: 3

selfRegenRate:0.2



unitsSpawnedOnDeath: D_MedCluster*2
fogOfWarSightRange: 26


[hiddenAction_Started]
takeResources: EWater=-6, EAir=-9, EAG=-4, EAA=-3, EArtillery=-3
[hiddenAction_Started_UpdateAlly]
takeResources: Water=-6, AG=-4, AA=-3, Artillery=-3
[hiddenAction_Killed]
takeResources: EWater=6, EAir=-9, EAG=4, EAA=3, EArtillery=3
[hiddenAction_Killed_UpdateAlly]
takeResources: Water=6, AG=4, AA=3, Artillery=3
#TotalUnit=-1



[hiddenAction_Healed]
autoTrigger: if self.isControlledByAI() and self.hp(greaterThan=2200)
temporarilyRemoveTags: Retreat

[hiddenAction_Damaged]
autoTrigger: if self.isControlledByAI() and self.hp(lessThan=1500)
temporarilyAddTags: Retreat




[graphics]
total_frames: 1

image:        Large.png
image_wreak:  Dead.png
image_turret:NONE
#teamColorsOnTurret: true

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2


splastEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 2
turretTurnSpeed: 4



maxAttackRange: 550
shootDelay: 0.5s

turretMultiTargeting: true

[turret_1]

#right gunning arm

x: 0
y: 0
projectile: 1
invisible: true

turnSpeedAcceleration: 1


canShoot: true

warmup: 0.2s

invisible: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false



[projectile_1]
directDamage: 5
life: 150
speed: 5
spawnUnit: D_Cells

image: shot.png

targetGround: true
targetGroundSpread: 35

areaDamage: 85
areaRadius: 5

#areaDamageNoFalloff: true
areaRadiusFromEdge: true


initialUnguidedSpeedHeight: 2.5
gravity:0.8
#lightCastOnGround: true




[turret_cannon]
#right cannon
x: 0
y: 25

idleDir:0
limitingAngle: 50


projectile: missile

delay: 2.8s

warmup: 0.2s

shoot_sound:cannon_firing
shoot_sound_vol:0.1
shoot_flame:small
shoot_light:#FFccCCEE

invisible: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
limitingRange: 240


[turret_cannon2]
x: 25
y: 0
idleDir:90
copyFrom: cannon

[turret_cannon3]
x: 0
y: -25
idleDir:180
copyFrom: cannon

[turret_cannon4]
x: -25
y: 0
idleDir:-90
copyFrom: cannon



[projectile_missile]
directDamage: 100
life: 80
speed: 1

targetSpeed: 16
targetSpeedAcceleration: 0.7

spawnUnit: D_NotSpaceBlob

drawType:2
frame:4
drawSize: 1
#trailEffect: CUSTOM:projectileTrail
trailEffectRate:2



lightColor:#ffffff

explodeEffect: smallExplosion, CUSTOM:hitLightFlash, CUSTOM:projectilePassThough



#explodeEffectOnShield: CUSTOM:hitLightFlash

effectOnCreate: CUSTOM:projectileLight




[effect_projectileTrail]
image: SHARED:light_50.png
life: 20
fadeOut: true
attachedToUnit: false
color: #e89263
fadeInTime:2
scaleFrom: 0.4
scaleTo: 0.4
alpha: 0.6
drawUnderUnits:true
#ySpeedRelative:-1


[effect_projectileLight]
priority:veryhigh

image: SHARED:light_50.png
life: 100
fadeOut: true
attachedToUnit: true
color: #e89263
fadeInTime:2
scaleFrom: 0.8
scaleTo: 0.8
alpha: 0.6
drawUnderUnits:false
liveAfterAttachedDies: false

[effect_hitLightFlash]
priority:high

image: SHARED:light_50.png
life: 14
fadeOut: true
attachedToUnit: false
color: #e89263

scaleFrom: 1.8
scaleTo: 1.8
alpha: 0.6
drawUnderUnits:false



[effect_projectilePassThough]

priority:high
frameIndex: 4
stripIndex: projectiles2
life: 20
fadeOut: true
attachedToUnit: false
color: #FFFFFF
scaleFrom: 1
scaleTo: 0.5
alpha: 1
drawUnderUnits:false
ySpeedRelative:2
atmospheric: true






[movement]
movementType: WATER
moveSpeed: 0.45
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.03

reverseSpeedPercentage:0.7

maxTurnSpeed: 0.8
turnAcceleration: 0.05

#moveSlidingMode :false
moveIgnoringBody:true
#moveSlidingDir:  45




